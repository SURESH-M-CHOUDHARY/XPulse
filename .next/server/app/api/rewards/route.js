"use strict";(()=>{var e={};e.id=146,e.ids=[146],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},35816:e=>{e.exports=require("process")},6162:e=>{e.exports=require("worker_threads")},72254:e=>{e.exports=require("node:buffer")},6005:e=>{e.exports=require("node:crypto")},87561:e=>{e.exports=require("node:fs")},88849:e=>{e.exports=require("node:http")},22286:e=>{e.exports=require("node:https")},87503:e=>{e.exports=require("node:net")},49411:e=>{e.exports=require("node:path")},97742:e=>{e.exports=require("node:process")},84492:e=>{e.exports=require("node:stream")},72477:e=>{e.exports=require("node:stream/web")},41041:e=>{e.exports=require("node:url")},47261:e=>{e.exports=require("node:util")},65628:e=>{e.exports=require("node:zlib")},624:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>q,requestAsyncStorage:()=>w,routeModule:()=>f,serverHooks:()=>R,staticGenerationAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>c,PATCH:()=>x,POST:()=>l});var n=t(49303),o=t(88716),a=t(60670),i=t(87070),u=t(96471),d=t(4673);let p=[];async function l(e){try{let{userId:r}=(0,u.I8)();if(!r)return new i.NextResponse("Unauthorized",{status:401});let t=await e.json();if(!t||"object"!=typeof t)return new i.NextResponse("Invalid request body",{status:400});let{title:s,description:n,duration:o,xpCost:a}=t;if(!s||!n||void 0===o||void 0===a)return new i.NextResponse("Missing required fields",{status:400});let l={id:(0,d.Z)(),title:s,description:n,duration:o,xpCost:a,userId:r,claimed:!1};return p.push(l),i.NextResponse.json(l)}catch(e){return console.error("[REWARDS_POST]",e),new i.NextResponse("Internal Error",{status:500})}}async function c(e){try{let{userId:e}=(0,u.I8)();if(!e)return new i.NextResponse("Unauthorized",{status:401});let r=p.filter(r=>r.userId===e);return i.NextResponse.json(r)}catch(e){return console.error("[REWARDS_GET]",e),new i.NextResponse("Internal Error",{status:500})}}async function x(e){try{let{userId:r}=(0,u.I8)();if(!r)return new i.NextResponse("Unauthorized",{status:401});let t=await e.json();if(!t||"object"!=typeof t)return new i.NextResponse("Invalid request body",{status:400});let{rewardId:s}=t;if(!s)return new i.NextResponse("Missing rewardId",{status:400});let n=p.findIndex(e=>e.id===s);if(-1===n)return new i.NextResponse("Reward not found",{status:404});if(p[n].userId!=r)return new i.NextResponse("Unauthorized",{status:401});if(p[n].claimed)return new i.NextResponse("Reward already claimed",{status:400});return p[n].claimed=!0,i.NextResponse.json({message:"Reward claimed successfully"})}catch(e){return console.error("[REWARDS_PATCH]",e),new i.NextResponse("Internal Error",{status:500})}}let f=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/rewards/route",pathname:"/api/rewards",filename:"route",bundlePath:"app/api/rewards/route"},resolvedPagePath:"/home/user/XPulse/app/api/rewards/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:w,staticGenerationAsyncStorage:m,serverHooks:R}=f,h="/api/rewards/route";function q(){return(0,a.patchFetch)({serverHooks:R,staticGenerationAsyncStorage:m})}},49303:(e,r,t)=>{e.exports=t(30517)},4673:(e,r,t)=>{t.d(r,{Z:()=>u});var s=t(84770);let n={randomUUID:s.randomUUID},o=new Uint8Array(256),a=o.length,i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));let u=function(e,r,t){if(n.randomUUID&&!r&&!e)return n.randomUUID();let u=(e=e||{}).random??e.rng?.()??(a>o.length-16&&((0,s.randomFillSync)(o),a=0),o.slice(a,a+=16));if(u.length<16)throw Error("Random bytes length must be >= 16");if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,r){if((t=t||0)<0||t+16>r.length)throw RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let e=0;e<16;++e)r[t+e]=u[e];return r}return function(e,r=0){return(i[e[r+0]]+i[e[r+1]]+i[e[r+2]]+i[e[r+3]]+"-"+i[e[r+4]]+i[e[r+5]]+"-"+i[e[r+6]]+i[e[r+7]]+"-"+i[e[r+8]]+i[e[r+9]]+"-"+i[e[r+10]]+i[e[r+11]]+i[e[r+12]]+i[e[r+13]]+i[e[r+14]]+i[e[r+15]]).toLowerCase()}(u)}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[312],()=>t(624));module.exports=s})();