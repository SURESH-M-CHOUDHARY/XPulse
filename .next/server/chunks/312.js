exports.id=312,exports.ids=[312],exports.modules={14626:(e,t,r)=>{let n;try{(n=r(6005).webcrypto)||(n=new(r(71612)).w)}catch(e){n=new(r(71612)).w}e.exports=n},61193:(e,t,r)=>{let{fetch:n,Blob:i,FormData:a,Headers:o,Request:s,Response:l,AbortController:u}=r(31549);e.exports=n,e.exports.RuntimeBlob=i,e.exports.RuntimeFormData=a,e.exports.RuntimeHeaders=o,e.exports.RuntimeRequest=s,e.exports.RuntimeResponse=l,e.exports.RuntimeAbortController=u,e.exports.RuntimeFetch=n},96471:(e,t,r)=>{"use strict";let n,i;r.d(t,{El:()=>rw,I8:()=>rS});var a=r(71159),o=r.n(a);let s=e=>({...e,frontendApi:e.frontendApi||process.env.NEXT_PUBLIC_CLERK_FRONTEND_API||"",publishableKey:e.publishableKey||"pk_test_Y29uY2lzZS1nZWNrby04NS5jbGVyay5hY2NvdW50cy5kZXYk",clerkJSUrl:e.clerkJSUrl||process.env.NEXT_PUBLIC_CLERK_JS,clerkJSVersion:e.clerkJSVersion||process.env.NEXT_PUBLIC_CLERK_JS_VERSION,proxyUrl:e.proxyUrl||process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",domain:e.domain||process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",isSatellite:e.isSatellite||"true"===process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE,signInUrl:e.signInUrl||"/sign-in",signUpUrl:e.signUpUrl||"/sign-up",afterSignInUrl:e.afterSignInUrl||"/",afterSignUpUrl:e.afterSignUpUrl||"/",sdkMetadata:{name:"@clerk/nextjs",version:"4.31.8"}}),l=(0,r(68570).createProxy)(String.raw`/home/user/XPulse/node_modules/@clerk/nextjs/dist/esm/app-router/client/ClerkProvider.js#ClientClerkProvider`);var u=()=>!1,c=()=>{try{return!0}catch(e){}return!1},d=new Set,h=(e,t,r)=>{let n=u()||c(),i=null!=r?r:e;d.has(i)||n||(d.add(i),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))},f=(e,t,r,n=!1)=>{let i=n?e:e.prototype,a=i[t];Object.defineProperty(i,t,{get:()=>(h(t,r,`${e.name}:${t}`),a),set(e){a=e}})},p=(e,t,r,n)=>{let i=e[t];Object.defineProperty(e,t,{get:()=>(h(t,r,n),i),set(e){i=e}})},g=(Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.prototype.hasOwnProperty,(e,t)=>!t&&function(e){return e.endsWith(".lclstage.dev")||e.endsWith(".stgstage.dev")||e.endsWith(".clerkstage.dev")||e.endsWith(".accountsstage.dev")}(e)?"canary":t&&t.split(".")[0]||"latest"),y=(e,{pkgVersion:t="4.73.9",clerkJSVersion:r})=>{let n=e.replace(/http(s)?:\/\//,""),i=g(e,t);return`https://${n}/npm/@clerk/clerk-js@${r||i}/dist/clerk.browser.js`};async function m(e,t=1,r=5){try{return await e()}catch(i){var n;if(t>=r)throw i;return await (n=2**t*100,new Promise(e=>setTimeout(e,n))),m(e,t+1,r)}}var b=e=>"undefined"!=typeof atob&&"function"==typeof atob?atob(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e,"base64").toString():e,v="pk_live_";function w(e){if(!function(e){let t=(e=e||"").startsWith(v)||e.startsWith("pk_test_"),r=b(e.split("_")[2]||"").endsWith("$");return t&&r}(e=e||""))return null;let t=e.startsWith(v)?"production":"development",r=b(e.split("_")[2]);return r.endsWith("$")?{instanceType:t,frontendApi:r=r.slice(0,-1)}:null}function S(e){return e.startsWith("test_")||e.startsWith("sk_test_")}function _(e){var t,r,n,i,a;return{code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:null==(t=null==e?void 0:e.meta)?void 0:t.param_name,sessionId:null==(r=null==e?void 0:e.meta)?void 0:r.session_id,emailAddresses:null==(n=null==e?void 0:e.meta)?void 0:n.email_addresses,identifiers:null==(i=null==e?void 0:e.meta)?void 0:i.identifiers,zxcvbn:null==(a=null==e?void 0:e.meta)?void 0:a.zxcvbn}}}var A=class e extends Error{constructor(t,{data:r,status:n,clerkTraceId:i}){super(t),this.toString=()=>{let e=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(e=>JSON.stringify(e))}`;return this.clerkTraceId&&(e+=`
Clerk Trace ID: ${this.clerkTraceId}`),e},Object.setPrototypeOf(this,e.prototype),this.status=n,this.message=t,this.clerkTraceId=i,this.clerkError=!0,this.errors=function(e=[]){return e.length>0?e.map(_):[]}(r)}};new Proxy({Expired:"expired",Failed:"failed"},{get:(e,t,r)=>(h("MagicLinkErrorCode","Use `EmailLinkErrorCode` instead."),Reflect.get(e,t,r))});var k=Object.freeze({InvalidFrontendApiErrorMessage:"The frontendApi passed to Clerk is invalid. You can get your Frontend API key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys."}),E=r(14626),x=r.n(E),P=r(61193),C=r(74469),T=r.n(C),O=r(31727),R=r.n(O),B=r(43183),N=class{constructor(e){this.request=e}requireId(e){if(!e)throw Error("A valid resource ID is required.")}},I=RegExp("(?<!:)/{1,}","g");function U(...e){return e.filter(e=>e).join("/").replace(I,"/")}var L="/allowlist_identifiers",K=class extends N{async getAllowlistIdentifierList(){return this.request({method:"GET",path:L})}async createAllowlistIdentifier(e){return this.request({method:"POST",path:L,bodyParams:e})}async deleteAllowlistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:U(L,e)})}},M="/clients",j=class extends N{async getClientList(){return this.request({method:"GET",path:M})}async getClient(e){return this.requireId(e),this.request({method:"GET",path:U(M,e)})}verifyClient(e){return this.request({method:"POST",path:U(M,"verify"),bodyParams:{token:e}})}},D=class extends N{async deleteDomain(e){return this.request({method:"DELETE",path:U("/domains",e)})}},H="/email_addresses",$=class extends N{async getEmailAddress(e){return this.requireId(e),this.request({method:"GET",path:U(H,e)})}async createEmailAddress(e){return this.request({method:"POST",path:H,bodyParams:e})}async updateEmailAddress(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:U(H,e),bodyParams:t})}async deleteEmailAddress(e){return this.requireId(e),this.request({method:"DELETE",path:U(H,e)})}},q=class extends N{async createEmail(e){return h("EmailAPI.createEmail","This endpoint is no longer available and the function will be removed in the next major version."),this.request({method:"POST",path:"/emails",bodyParams:e})}},V=function({packageName:e,customMessages:t}){let r=e,n={...k,...t};function i(e,t){if(!t)return`${r}: ${e}`;let n=e;for(let r of e.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let e=(t[r[1]]||"").toString();n=n.replace(`{{${r[1]}}}`,e)}return`${r}: ${n}`}return{setPackageName({packageName:e}){return"string"==typeof e&&(r=e),this},setMessages({customMessages:e}){return Object.assign(n,e||{}),this},throwInvalidPublishableKeyError(e){throw Error(i(n.InvalidPublishableKeyErrorMessage,e))},throwInvalidFrontendApiError(e){throw Error(i(n.InvalidFrontendApiErrorMessage,e))},throwInvalidProxyUrl(e){throw Error(i(n.InvalidProxyUrlErrorMessage,e))},throwMissingPublishableKeyError(){throw Error(i(n.MissingPublishableKeyErrorMessage))}}}({packageName:"@clerk/backend"}),{isDevOrStagingUrl:z}=function(){let e=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],t=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;let n="string"==typeof r?r:r.hostname,i=t.get(n);return void 0===i&&(i=e.some(e=>n.endsWith(e)),t.set(n,i)),i}}}(),F=class extends N{async getInterstitial(){return h("getInterstitial()",'Switch to `Clerk(...).localInterstitial(...)` from `import { Clerk } from "@clerk/backend"`.'),this.request({path:"internal/interstitial",method:"GET",headerParams:{"Content-Type":"text/html"}})}},W="/invitations",J=class extends N{async getInvitationList(e={}){return this.request({method:"GET",path:W,queryParams:e})}async createInvitation(e){return this.request({method:"POST",path:W,bodyParams:e})}async revokeInvitation(e){return this.requireId(e),this.request({method:"POST",path:U(W,e,"revoke")})}},{RuntimeFetch:G,RuntimeAbortController:X,RuntimeBlob:Y,RuntimeFormData:Z,RuntimeHeaders:Q,RuntimeRequest:ee,RuntimeResponse:et}=P,er=G.bind(globalThis),en={crypto:x(),fetch:er,AbortController:X,Blob:Y,FormData:Z,Headers:Q,Request:ee,Response:et},ei="/organizations",ea=class extends N{async getOrganizationList(e){return this.request({method:"GET",path:ei,queryParams:e})}async createOrganization(e){return this.request({method:"POST",path:ei,bodyParams:e})}async getOrganization(e){let t="organizationId"in e?e.organizationId:e.slug;return this.requireId(t),this.request({method:"GET",path:U(ei,t)})}async updateOrganization(e,t){return this.requireId(e),this.request({method:"PATCH",path:U(ei,e),bodyParams:t})}async updateOrganizationLogo(e,t){this.requireId(e);let r=new en.FormData;return r.append("file",t?.file),r.append("uploader_user_id",t?.uploaderUserId),this.request({method:"PUT",path:U(ei,e,"logo"),formData:r})}async deleteOrganizationLogo(e){return this.requireId(e),this.request({method:"DELETE",path:U(ei,e,"logo")})}async updateOrganizationMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:U(ei,e,"metadata"),bodyParams:t})}async deleteOrganization(e){return this.request({method:"DELETE",path:U(ei,e)})}async getOrganizationMembershipList(e){let{organizationId:t,limit:r,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:U(ei,t,"memberships"),queryParams:{limit:r,offset:n}})}async createOrganizationMembership(e){let{organizationId:t,userId:r,role:n}=e;return this.requireId(t),this.request({method:"POST",path:U(ei,t,"memberships"),bodyParams:{userId:r,role:n}})}async updateOrganizationMembership(e){let{organizationId:t,userId:r,role:n}=e;return this.requireId(t),this.request({method:"PATCH",path:U(ei,t,"memberships",r),bodyParams:{role:n}})}async updateOrganizationMembershipMetadata(e){let{organizationId:t,userId:r,publicMetadata:n,privateMetadata:i}=e;return this.request({method:"PATCH",path:U(ei,t,"memberships",r,"metadata"),bodyParams:{publicMetadata:n,privateMetadata:i}})}async deleteOrganizationMembership(e){let{organizationId:t,userId:r}=e;return this.requireId(t),this.request({method:"DELETE",path:U(ei,t,"memberships",r)})}async getOrganizationInvitationList(e){let{organizationId:t,status:r,limit:n,offset:i}=e;return this.requireId(t),this.request({method:"GET",path:U(ei,t,"invitations"),queryParams:{status:r,limit:n,offset:i}})}async getPendingOrganizationInvitationList(e){h("getPendingOrganizationInvitationList","Use `getOrganizationInvitationList` instead.");let{organizationId:t,limit:r,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:U(ei,t,"invitations","pending"),queryParams:{limit:r,offset:n}})}async createOrganizationInvitation(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:U(ei,t,"invitations"),bodyParams:{...r}})}async getOrganizationInvitation(e){let{organizationId:t,invitationId:r}=e;return this.requireId(t),this.requireId(r),this.request({method:"GET",path:U(ei,t,"invitations",r)})}async revokeOrganizationInvitation(e){let{organizationId:t,invitationId:r,requestingUserId:n}=e;return this.requireId(t),this.request({method:"POST",path:U(ei,t,"invitations",r,"revoke"),bodyParams:{requestingUserId:n}})}},eo="/phone_numbers",es=class extends N{async getPhoneNumber(e){return this.requireId(e),this.request({method:"GET",path:U(eo,e)})}async createPhoneNumber(e){return this.request({method:"POST",path:eo,bodyParams:e})}async updatePhoneNumber(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:U(eo,e),bodyParams:t})}async deletePhoneNumber(e){return this.requireId(e),this.request({method:"DELETE",path:U(eo,e)})}},el="/redirect_urls",eu=class extends N{async getRedirectUrlList(){return this.request({method:"GET",path:el})}async getRedirectUrl(e){return this.requireId(e),this.request({method:"GET",path:U(el,e)})}async createRedirectUrl(e){return this.request({method:"POST",path:el,bodyParams:e})}async deleteRedirectUrl(e){return this.requireId(e),this.request({method:"DELETE",path:U(el,e)})}},ec="/sessions",ed=class extends N{async getSessionList(e){return this.request({method:"GET",path:ec,queryParams:e})}async getSession(e){return this.requireId(e),this.request({method:"GET",path:U(ec,e)})}async revokeSession(e){return this.requireId(e),this.request({method:"POST",path:U(ec,e,"revoke")})}async verifySession(e,t){return this.requireId(e),this.request({method:"POST",path:U(ec,e,"verify"),bodyParams:{token:t}})}async getToken(e,t){return this.requireId(e),(await this.request({method:"POST",path:U(ec,e,"tokens",t||"")})).jwt}},eh="/sign_in_tokens",ef=class extends N{async createSignInToken(e){return this.request({method:"POST",path:eh,bodyParams:e})}async revokeSignInToken(e){return this.requireId(e),this.request({method:"POST",path:U(eh,e,"revoke")})}},ep=class extends N{async createSMSMessage(e){return h("SMSMessageAPI.createSMSMessage","This endpoint is no longer available and the function will be removed in the next major version."),this.request({method:"POST",path:"/sms_messages",bodyParams:e})}},eg="/users",ey=class extends N{async getUserList(e={}){return this.request({method:"GET",path:eg,queryParams:e})}async getUser(e){return this.requireId(e),this.request({method:"GET",path:U(eg,e)})}async createUser(e){return this.request({method:"POST",path:eg,bodyParams:e})}async updateUser(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:U(eg,e),bodyParams:t})}async updateUserProfileImage(e,t){this.requireId(e);let r=new en.FormData;return r.append("file",t?.file),this.request({method:"POST",path:U(eg,e,"profile_image"),formData:r})}async updateUserMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:U(eg,e,"metadata"),bodyParams:t})}async deleteUser(e){return this.requireId(e),this.request({method:"DELETE",path:U(eg,e)})}async getCount(e={}){return this.request({method:"GET",path:U(eg,"count"),queryParams:e})}async getUserOauthAccessToken(e,t){return this.requireId(e),this.request({method:"GET",path:U(eg,e,"oauth_access_tokens",t)})}async disableUserMFA(e){return this.requireId(e),this.request({method:"DELETE",path:U(eg,e,"mfa")})}async getOrganizationMembershipList(e){let{userId:t,limit:r,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:U(eg,t,"organization_memberships"),queryParams:{limit:r,offset:n}})}async verifyPassword(e){let{userId:t,password:r}=e;return this.requireId(t),this.request({method:"POST",path:U(eg,t,"verify_password"),bodyParams:{password:r}})}async verifyTOTP(e){let{userId:t,code:r}=e;return this.requireId(t),this.request({method:"POST",path:U(eg,t,"verify_totp"),bodyParams:{code:r}})}},em="https://api.clerk.dev",eb="@clerk/backend@0.38.15",ev={AuthToken:"x-clerk-auth-token",AuthStatus:"x-clerk-auth-status",AuthReason:"x-clerk-auth-reason",AuthMessage:"x-clerk-auth-message",EnableDebug:"x-clerk-debug",ClerkRedirectTo:"x-clerk-redirect-to",CloudFrontForwardedProto:"cloudfront-forwarded-proto",Authorization:"authorization",ForwardedPort:"x-forwarded-port",ForwardedProto:"x-forwarded-proto",ForwardedHost:"x-forwarded-host",Referrer:"referer",UserAgent:"user-agent",Origin:"origin",Host:"host",ContentType:"content-type"},ew=(ev.AuthStatus,ev.AuthToken,{Attributes:{AuthToken:"__clerkAuthToken",AuthStatus:"__clerkAuthStatus",AuthReason:"__clerkAuthReason",AuthMessage:"__clerkAuthMessage"},Cookies:{Session:"__session",ClientUat:"__client_uat"},Headers:ev,ContentTypes:{Json:"application/json"}});function eS(e){if(!e||"string"!=typeof e)throw Error("Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.")}var e_=class e{constructor(e,t,r,n,i){this.id=e,this.identifier=t,this.createdAt=r,this.updatedAt=n,this.invitationId=i}static fromJSON(t){return new e(t.id,t.identifier,t.created_at,t.updated_at,t.invitation_id)}},eA=class e{constructor(e,t,r,n,i,a,o,s,l){this.id=e,this.clientId=t,this.userId=r,this.status=n,this.lastActiveAt=i,this.expireAt=a,this.abandonAt=o,this.createdAt=s,this.updatedAt=l}static fromJSON(t){return new e(t.id,t.client_id,t.user_id,t.status,t.last_active_at,t.expire_at,t.abandon_at,t.created_at,t.updated_at)}},ek=class e{constructor(e,t,r,n,i,a,o,s){this.id=e,this.sessionIds=t,this.sessions=r,this.signInId=n,this.signUpId=i,this.lastActiveSessionId=a,this.createdAt=o,this.updatedAt=s}static fromJSON(t){return new e(t.id,t.session_ids,t.sessions.map(e=>eA.fromJSON(e)),t.sign_in_id,t.sign_up_id,t.last_active_session_id,t.created_at,t.updated_at)}},eE=class e{constructor(e,t,r,n){this.object=e,this.id=t,this.slug=r,this.deleted=n}static fromJSON(t){return new e(t.object,t.id||null,t.slug||null,t.deleted)}},ex=class e{constructor(e,t,r,n,i,a,o,s,l,u,c){this.id=e,this.fromEmailName=t,this.emailAddressId=r,this.toEmailAddress=n,this.subject=i,this.body=a,this.bodyPlain=o,this.status=s,this.slug=l,this.data=u,this.deliveredByClerk=c}static fromJSON(t){return new e(t.id,t.from_email_name,t.email_address_id,t.to_email_address,t.subject,t.body,t.body_plain,t.status,t.slug,t.data,t.delivered_by_clerk)}},eP=class e{constructor(e,t){this.id=e,this.type=t}static fromJSON(t){return new e(t.id,t.type)}},eC=class e{constructor(e,t,r=null,n=null,i=null,a=null){this.status=e,this.strategy=t,this.externalVerificationRedirectURL=r,this.attempts=n,this.expireAt=i,this.nonce=a}static fromJSON(t){return new e(t.status,t.strategy,t.external_verification_redirect_url?new URL(t.external_verification_redirect_url):null,t.attempts,t.expire_at,t.nonce)}},eT=class e{constructor(e,t,r,n){this.id=e,this.emailAddress=t,this.verification=r,this.linkedTo=n}static fromJSON(t){return new e(t.id,t.email_address,t.verification&&eC.fromJSON(t.verification),t.linked_to.map(e=>eP.fromJSON(e)))}},eO=class e{constructor(e,t,r,n,i,a,o,s,l,u,c,d={},h,f){this.id=e,this.provider=t,this.identificationId=r,this.externalId=n,this.approvedScopes=i,this.emailAddress=a,this.firstName=o,this.lastName=s,this.picture=l,this.imageUrl=u,this.username=c,this.publicMetadata=d,this.label=h,this.verification=f}static fromJSON(t){return new e(t.id,t.provider,t.identification_id,t.provider_user_id,t.approved_scopes,t.email_address,t.first_name,t.last_name,t.avatar_url,t.image_url,t.username,t.public_metadata,t.label,t.verification&&eC.fromJSON(t.verification))}};f(eO,"picture","Use `imageUrl` instead.");var eR=class e{constructor(e,t,r,n,i,a,o){this.id=e,this.emailAddress=t,this.publicMetadata=r,this.createdAt=n,this.updatedAt=i,this.status=a,this.revoked=o}static fromJSON(t){return new e(t.id,t.email_address,t.public_metadata,t.created_at,t.updated_at,t.status,t.revoked)}},eB=((n=eB||{}).AllowlistIdentifier="allowlist_identifier",n.Client="client",n.Email="email",n.EmailAddress="email_address",n.ExternalAccount="external_account",n.FacebookAccount="facebook_account",n.GoogleAccount="google_account",n.Invitation="invitation",n.OauthAccessToken="oauth_access_token",n.Organization="organization",n.OrganizationInvitation="organization_invitation",n.OrganizationMembership="organization_membership",n.PhoneNumber="phone_number",n.RedirectUrl="redirect_url",n.Session="session",n.SignInAttempt="sign_in_attempt",n.SignInToken="sign_in_token",n.SignUpAttempt="sign_up_attempt",n.SmsMessage="sms_message",n.User="user",n.Web3Wallet="web3_wallet",n.Token="token",n.TotalCount="total_count",n),eN=class e{constructor(e,t,r={},n,i,a){this.provider=e,this.token=t,this.publicMetadata=r,this.label=n,this.scopes=i,this.tokenSecret=a}static fromJSON(t){return new e(t.provider,t.token,t.public_metadata,t.label,t.scopes,t.token_secret)}},eI=class e{constructor(e,t,r,n,i,a,o,s,l,u={},c={},d,h,f,p){this.id=e,this.name=t,this.slug=r,this.logoUrl=n,this.imageUrl=i,this.hasImage=a,this.createdBy=o,this.createdAt=s,this.updatedAt=l,this.publicMetadata=u,this.privateMetadata=c,this.maxAllowedMemberships=d,this.adminDeleteEnabled=h,this.members_count=f,this.membersCount=p}static fromJSON(t){return new e(t.id,t.name,t.slug,t.logo_url,t.image_url,t.has_image,t.created_by,t.created_at,t.updated_at,t.public_metadata,t.private_metadata,t.max_allowed_memberships,t.admin_delete_enabled,t.members_count,t.members_count)}};f(eI,"logoUrl","Use `imageUrl` instead."),f(eI,"members_count","Use `membersCount` instead.");var eU=class e{constructor(e,t,r,n,i,a,o,s={},l={}){this.id=e,this.emailAddress=t,this.role=r,this.organizationId=n,this.createdAt=i,this.updatedAt=a,this.status=o,this.publicMetadata=s,this.privateMetadata=l}static fromJSON(t){return new e(t.id,t.email_address,t.role,t.organization_id,t.created_at,t.updated_at,t.status,t.public_metadata,t.private_metadata)}},eL=class e{constructor(e,t,r={},n={},i,a,o,s){this.id=e,this.role=t,this.publicMetadata=r,this.privateMetadata=n,this.createdAt=i,this.updatedAt=a,this.organization=o,this.publicUserData=s}static fromJSON(t){return new e(t.id,t.role,t.public_metadata,t.private_metadata,t.created_at,t.updated_at,eI.fromJSON(t.organization),eK.fromJSON(t.public_user_data))}},eK=class e{constructor(e,t,r,n,i,a,o){this.identifier=e,this.firstName=t,this.lastName=r,this.profileImageUrl=n,this.imageUrl=i,this.hasImage=a,this.userId=o}static fromJSON(t){return new e(t.identifier,t.first_name,t.last_name,t.profile_image_url,t.image_url,t.has_image,t.user_id)}};f(eK,"profileImageUrl","Use `imageUrl` instead.");var eM=class e{constructor(e,t,r,n,i,a){this.id=e,this.phoneNumber=t,this.reservedForSecondFactor=r,this.defaultSecondFactor=n,this.verification=i,this.linkedTo=a}static fromJSON(t){return new e(t.id,t.phone_number,t.reserved_for_second_factor,t.default_second_factor,t.verification&&eC.fromJSON(t.verification),t.linked_to.map(e=>eP.fromJSON(e)))}},ej=class e{constructor(e,t,r,n){this.id=e,this.url=t,this.createdAt=r,this.updatedAt=n}static fromJSON(t){return new e(t.id,t.url,t.created_at,t.updated_at)}},eD=class e{constructor(e,t,r,n,i,a,o){this.id=e,this.userId=t,this.token=r,this.status=n,this.url=i,this.createdAt=a,this.updatedAt=o}static fromJSON(t){return new e(t.id,t.user_id,t.token,t.status,t.url,t.created_at,t.updated_at)}},eH=class e{constructor(e,t,r,n,i,a,o){this.id=e,this.fromPhoneNumber=t,this.toPhoneNumber=r,this.message=n,this.status=i,this.phoneNumberId=a,this.data=o}static fromJSON(t){return new e(t.id,t.from_phone_number,t.to_phone_number,t.message,t.status,t.phone_number_id,t.data)}},e$=class e{constructor(e){this.jwt=e}static fromJSON(t){return new e(t.jwt)}},eq=class e{constructor(e,t,r){this.id=e,this.web3Wallet=t,this.verification=r}static fromJSON(t){return new e(t.id,t.web3_wallet,t.verification&&eC.fromJSON(t.verification))}},eV=class e{constructor(e,t,r,n,i,a,o,s,l,u,c,d,h,f,p,g,y,m,b,v,w,S={},_={},A={},k=[],E=[],x=[],P=[],C){this.id=e,this.passwordEnabled=t,this.totpEnabled=r,this.backupCodeEnabled=n,this.twoFactorEnabled=i,this.banned=a,this.createdAt=o,this.updatedAt=s,this.profileImageUrl=l,this.imageUrl=u,this.hasImage=c,this.gender=d,this.birthday=h,this.primaryEmailAddressId=f,this.primaryPhoneNumberId=p,this.primaryWeb3WalletId=g,this.lastSignInAt=y,this.externalId=m,this.username=b,this.firstName=v,this.lastName=w,this.publicMetadata=S,this.privateMetadata=_,this.unsafeMetadata=A,this.emailAddresses=k,this.phoneNumbers=E,this.web3Wallets=x,this.externalAccounts=P,this.createOrganizationEnabled=C}static fromJSON(t){return new e(t.id,t.password_enabled,t.totp_enabled,t.backup_code_enabled,t.two_factor_enabled,t.banned,t.created_at,t.updated_at,t.profile_image_url,t.image_url,t.has_image,t.gender,t.birthday,t.primary_email_address_id,t.primary_phone_number_id,t.primary_web3_wallet_id,t.last_sign_in_at,t.external_id,t.username,t.first_name,t.last_name,t.public_metadata,t.private_metadata,t.unsafe_metadata,(t.email_addresses||[]).map(e=>eT.fromJSON(e)),(t.phone_numbers||[]).map(e=>eM.fromJSON(e)),(t.web3_wallets||[]).map(e=>eq.fromJSON(e)),(t.external_accounts||[]).map(e=>eO.fromJSON(e)),t.create_organization_enabled)}};function ez(e){if("string"!=typeof e&&"object"in e&&"deleted"in e)return eE.fromJSON(e);switch(e.object){case"allowlist_identifier":return e_.fromJSON(e);case"client":return ek.fromJSON(e);case"email_address":return eT.fromJSON(e);case"email":return ex.fromJSON(e);case"invitation":return eR.fromJSON(e);case"oauth_access_token":return eN.fromJSON(e);case"organization":return eI.fromJSON(e);case"organization_invitation":return eU.fromJSON(e);case"organization_membership":return eL.fromJSON(e);case"phone_number":return eM.fromJSON(e);case"redirect_url":return ej.fromJSON(e);case"sign_in_token":return eD.fromJSON(e);case"session":return eA.fromJSON(e);case"sms_message":return eH.fromJSON(e);case"token":return e$.fromJSON(e);case"total_count":return e.total_count;case"user":return eV.fromJSON(e);default:return e}}f(eV,"profileImageUrl","Use `imageUrl` instead.");var eF=e=>async(...t)=>{let r=await e(...t);if(null===r.errors)return r.data;{let{errors:e,clerkTraceId:t}=r,{status:n,statusText:i}=r,a=new A(i||"",{data:[],status:n||"",clerkTraceId:t});throw a.errors=e,a}};function eW(e,t){return e&&"object"==typeof e&&"clerk_trace_id"in e&&"string"==typeof e.clerk_trace_id?e.clerk_trace_id:t?.get("cf-ray")||""}function eJ(e){return{code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:e?.meta?.param_name,sessionId:e?.meta?.session_id}}}function eG(e){let t=eF(async t=>{let r;let{apiKey:n,secretKey:i,httpOptions:a,apiUrl:o=em,apiVersion:s="v1",userAgent:l=eb}=e;n&&h("apiKey","Use `secretKey` instead."),a&&h("httpOptions","This option has been deprecated and will be removed with the next major release.\nA RequestInit init object used by the `request` method.");let{path:u,method:c,queryParams:d,headerParams:f,bodyParams:p,formData:g}=t,y=i||n;eS(y);let m=new URL(U(o,s,u));if(d)for(let[e,t]of Object.entries(R()({...d})))t&&[t].flat().forEach(t=>m.searchParams.append(e,t));let b={Authorization:`Bearer ${y}`,"User-Agent":l,...f};try{if(g)r=await en.fetch(m.href,{...a,method:c,headers:b,body:g});else{b["Content-Type"]="application/json";let e="GET"!==c&&p&&Object.keys(p).length>0?{body:JSON.stringify(R()(p,{deep:!1}))}:null;r=await en.fetch(m.href,T()(a||{},{method:c,headers:b,...e}))}let e=r?.headers&&r.headers?.get(ew.Headers.ContentType)===ew.ContentTypes.Json,t=await (e?r.json():r.text());if(!r.ok)throw t;return{data:Array.isArray(t)?t.map(e=>ez(e)):Array.isArray(t.data)&&void 0!==t.data?t.data.map(e=>ez(e)):ez(t),errors:null}}catch(e){if(e instanceof Error)return{data:null,errors:[{code:"unexpected_error",message:e.message||"Unexpected error"}],clerkTraceId:eW(e,r?.headers)};return{data:null,errors:function(e){if(e&&"object"==typeof e&&"errors"in e){let t=e.errors;return t.length>0?t.map(eJ):[]}return[]}(e),status:r?.status,statusText:r?.statusText,clerkTraceId:eW(e,r?.headers)}}});return{allowlistIdentifiers:new K(t),clients:new j(t),emailAddresses:new $(t),emails:new q(t),interstitial:new F(t),invitations:new J(t),organizations:new ea(t),phoneNumbers:new es(t),redirectUrls:new eu(t),sessions:new ed(t),signInTokens:new ef(t),smsMessages:new ep(t),users:new ey(t),domains:new D(t)}}var eX=e=>()=>{let t={...e};return t.apiKey=(t.apiKey||"").substring(0,7),t.secretKey=(t.secretKey||"").substring(0,7),t.jwtKey=(t.jwtKey||"").substring(0,7),{...t}};function eY(e,t,r){let{act:n,sid:i,org_id:a,org_role:o,org_slug:s,org_permissions:l,sub:u}=e,{apiKey:c,secretKey:d,apiUrl:f,apiVersion:p,token:g,session:y,user:m,organization:b}=t;c&&h("apiKey","Use `secretKey` instead.");let{sessions:v}=eG({apiKey:c,secretKey:d,apiUrl:f,apiVersion:p}),w=e1({sessionId:i,sessionToken:g,fetcher:(...e)=>v.getToken(...e)});return{actor:n,sessionClaims:e,sessionId:i,session:y,userId:u,user:m,orgId:a,orgRole:o,orgSlug:s,orgPermissions:l,organization:b,getToken:w,has:e2({orgId:a,orgRole:o,orgPermissions:l,userId:u}),debug:eX({...t,...r})}}function eZ(e){return e?.apiKey&&h("apiKey","Use `secretKey` instead."),{sessionClaims:null,sessionId:null,session:null,userId:null,user:null,actor:null,orgId:null,orgRole:null,orgSlug:null,orgPermissions:null,organization:null,getToken:()=>Promise.resolve(null),has:()=>!1,debug:eX(e)}}function eQ(e){return e&&(delete e.privateMetadata,delete e.private_metadata),e}var e0=e=>{let{debug:t,getToken:r,has:n,...i}=e;return i},e1=e=>{let{fetcher:t,sessionToken:r,sessionId:n}=e||{};return async(e={})=>n?e.template?t(n,e.template):r:null},e2=({orgId:e,orgRole:t,userId:r,orgPermissions:n})=>i=>{if(!i?.permission&&!i?.role)throw Error('Missing parameters. `has` from `auth` or `getAuth` requires a permission or role key to be passed. Example usage: `has({permission: "org:posts:edit"`');return!!e&&!!r&&!!t&&!!n&&(i.permission?n.includes(i.permission):!!i.role&&t===i.role)},e8=class e extends Error{constructor({action:t,message:r,reason:n}){super(r),Object.setPrototypeOf(this,e.prototype),this.reason=n,this.message=r,this.action=t}getFullMessage(){return`${[this.message,this.action].filter(e=>e).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`}};async function e3(e){e.frontendApi&&h("frontendApi","Use `publishableKey` instead."),e.pkgVersion&&h("pkgVersion","Use `clerkJSVersion` instead."),e.frontendApi=w(e.publishableKey)?.frontendApi||e.frontendApi||"";let t=e4(e),r=await m(()=>en.fetch(e4(e),{method:"GET",headers:{"Clerk-Backend-SDK":e.userAgent||eb}}));if(!r.ok)throw new e8({action:"Contact support@clerk.com",message:`Error loading Clerk Interstitial from ${t} with code=${r.status}`,reason:"interstitial-remote-failed-to-load"});return r.text()}function e4(e){e.frontendApi&&h("frontendApi","Use `publishableKey` instead."),e.frontendApi=w(e.publishableKey)?.frontendApi||e.frontendApi||"";let{apiUrl:t,frontendApi:r,pkgVersion:n,clerkJSVersion:i,publishableKey:a,proxyUrl:o,isSatellite:s,domain:l,signInUrl:u}=e,c=new URL(t);return c.pathname=U(c.pathname,"v1","/public/interstitial"),c.searchParams.append("clerk_js_version",i||g(r,n)),a?c.searchParams.append("publishable_key",a):c.searchParams.append("frontend_api",r),o&&c.searchParams.append("proxy_url",o),s&&c.searchParams.append("is_satellite","true"),c.searchParams.append("sign_in_url",u||""),z(e.frontendApi)||c.searchParams.append("use_domain_for_script","true"),l&&c.searchParams.append("domain",l),c.href}var e6=e=>e?.split(",")[0],e5=({protocol:e,forwardedProto:t,forwardedHost:r,host:n})=>{let i=e6(r)??n,a=e6(t)??e?.replace(/[:/]/,"");return i&&a?`${a}://${i}`:""},e9=e=>e?{cookies:te(e),headers:tt(e),searchParams:tr(e)}:{},e7=e=>e?e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):e,te=e=>{let t=e.headers&&e.headers?.get("cookie")?(0,B.Q)(e.headers.get("cookie")):{};return e=>{let r=t?.[e];if(void 0!==r)return e7(r)}},tt=e=>t=>e?.headers?.get(t)||void 0,tr=e=>e?.url?new URL(e.url)?.searchParams:void 0,tn=e=>e?.replace("Bearer ",""),ti=((i=ti||{}).SignedIn="signed-in",i.SignedOut="signed-out",i.Interstitial="interstitial",i.Unknown="unknown",i);async function ta(e,t){let{apiKey:r,secretKey:n,apiUrl:i,apiVersion:a,cookieToken:o,frontendApi:s,proxyUrl:l,publishableKey:u,domain:c,isSatellite:d,headerToken:h,loadSession:f,loadUser:p,loadOrganization:g,signInUrl:y,signUpUrl:m,afterSignInUrl:b,afterSignUpUrl:v,token:w}=e,{sid:S,org_id:_,sub:A}=t,{sessions:k,users:E,organizations:x}=eG({apiKey:r,secretKey:n,apiUrl:i,apiVersion:a}),[P,C,T]=await Promise.all([f?k.getSession(S):Promise.resolve(void 0),p?E.getUser(A):Promise.resolve(void 0),g&&_?x.getOrganization({organizationId:_}):Promise.resolve(void 0)]),O=eY(t,{secretKey:n,apiKey:r,apiUrl:i,apiVersion:a,token:o||h||"",session:P,user:C,organization:T},{...e,status:"signed-in"});return{status:"signed-in",reason:null,message:null,frontendApi:s,proxyUrl:l,publishableKey:u,domain:c,isSatellite:d,signInUrl:y,signUpUrl:m,afterSignInUrl:b,afterSignUpUrl:v,isSignedIn:!0,isInterstitial:!1,isUnknown:!1,toAuth:()=>O,token:w}}function to(e,t,r=""){let{frontendApi:n,publishableKey:i,proxyUrl:a,isSatellite:o,domain:s,signInUrl:l,signUpUrl:u,afterSignInUrl:c,afterSignUpUrl:d}=e;return{status:"signed-out",reason:t,message:r,frontendApi:n,proxyUrl:a,publishableKey:i,isSatellite:o,domain:s,signInUrl:l,signUpUrl:u,afterSignInUrl:c,afterSignUpUrl:d,isSignedIn:!1,isInterstitial:!1,isUnknown:!1,toAuth:()=>eZ({...e,status:"signed-out",reason:t,message:r}),token:null}}function ts(e,t,r=""){let{frontendApi:n,publishableKey:i,proxyUrl:a,isSatellite:o,domain:s,signInUrl:l,signUpUrl:u,afterSignInUrl:c,afterSignUpUrl:d}=e;return{status:"interstitial",reason:t,message:r,frontendApi:n,publishableKey:i,isSatellite:o,domain:s,proxyUrl:a,signInUrl:l,signUpUrl:u,afterSignInUrl:c,afterSignUpUrl:d,isSignedIn:!1,isInterstitial:!0,isUnknown:!1,toAuth:()=>null,token:null}}function tl({originURL:e,host:t,forwardedHost:r,forwardedProto:n}){let i=e5({forwardedProto:n,forwardedHost:r,protocol:e.protocol,host:t});return i&&new URL(i).origin!==e.origin}var tu=(e,t)=>e?e.find(e=>e.code===t):null,tc={parse:(e,t)=>(function(e,t,r={}){if(!t.codes){t.codes={};for(let e=0;e<t.chars.length;++e)t.codes[t.chars[e]]=e}if(!r.loose&&e.length*t.bits&7)throw SyntaxError("Invalid padding");let n=e.length;for(;"="===e[n-1];)if(--n,!r.loose&&!((e.length-n)*t.bits&7))throw SyntaxError("Invalid padding");let i=new(r.out??Uint8Array)(n*t.bits/8|0),a=0,o=0,s=0;for(let r=0;r<n;++r){let n=t.codes[e[r]];if(void 0===n)throw SyntaxError("Invalid character "+e[r]);o=o<<t.bits|n,(a+=t.bits)>=8&&(a-=8,i[s++]=255&o>>a)}if(a>=t.bits||255&o<<8-a)throw SyntaxError("Unexpected end of data");return i})(e,td,t)},td={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},th={RS256:"SHA-256",RS384:"SHA-384",RS512:"SHA-512"},tf="RSASSA-PKCS1-v1_5",tp={RS256:tf,RS384:tf,RS512:tf},tg=Object.keys(th),ty=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"string"==typeof e),tm=(e,t)=>{let r=[t].flat().filter(e=>!!e),n=[e].flat().filter(e=>!!e);if(r.length>0&&n.length>0){if("string"==typeof e){if(!r.includes(e))throw new e8({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT audience claim (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}else if(ty(e)&&!e.some(e=>r.includes(e)))throw new e8({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT audience claim array (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}},tb=e=>{if(void 0!==e&&"JWT"!==e)throw new e8({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-invalid",message:`Invalid JWT type ${JSON.stringify(e)}. Expected "JWT".`})},tv=e=>{if(!tg.includes(e))throw new e8({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-invalid-algorithm",message:`Invalid JWT algorithm ${JSON.stringify(e)}. Supported: ${tg}.`})},tw=e=>{if("string"!=typeof e)throw new e8({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Subject claim (sub) is required and must be a string. Received ${JSON.stringify(e)}.`})},tS=(e,t)=>{if(e&&t&&0!==t.length&&!t.includes(e))throw new e8({reason:"token-invalid-authorized-parties",message:`Invalid JWT Authorized party claim (azp) ${JSON.stringify(e)}. Expected "${t}".`})},t_=(e,t)=>{if("function"!=typeof t||t(e)){if("string"==typeof t&&e&&e!==t)throw new e8({reason:"token-invalid-issuer",message:`Invalid JWT issuer claim (iss) ${JSON.stringify(e)}. Expected "${t}".`})}else throw new e8({reason:"token-invalid-issuer",message:"Failed JWT issuer resolver. Make sure that the resolver returns a truthy value."})},tA=(e,t)=>{if("number"!=typeof e)throw new e8({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT expiry date claim (exp) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()<=r.getTime()-t)throw new e8({reason:"token-expired",message:`JWT is expired. Expiry date: ${n.toUTCString()}, Current date: ${r.toUTCString()}.`})},tk=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new e8({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT not before date claim (nbf) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>r.getTime()+t)throw new e8({reason:"token-not-active-yet",message:`JWT cannot be used prior to not before date claim (nbf). Not before date: ${n.toUTCString()}; Current date: ${r.toUTCString()};`})},tE=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new e8({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT issued at date claim (iat) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>r.getTime()+t)throw new e8({reason:"token-not-active-yet",message:`JWT issued at date claim (iat) is in the future. Issued at date: ${n.toUTCString()}; Current date: ${r.toUTCString()};`})};async function tx(e,t){let{header:r,signature:n,raw:i}=e,a=new TextEncoder().encode([i.header,i.payload].join(".")),o=function(e){let t=th[e],r=tp[e];if(!t||!r)throw Error(`Unsupported algorithm ${e}, expected one of ${tg.join(",")}.`);return{hash:{name:th[e]},name:tp[e]}}(r.alg),s=await function(e,t,r){if("object"==typeof e)return en.crypto.subtle.importKey("jwk",e,t,!1,[r]);let n=function(e){let t=b(e.replace(/-----BEGIN.*?-----/g,"").replace(/-----END.*?-----/g,"").replace(/\s/g,"")),r=new Uint8Array(new ArrayBuffer(t.length));for(let e=0,n=t.length;e<n;e++)r[e]=t.charCodeAt(e);return r}(e),i="sign"===r?"pkcs8":"spki";return en.crypto.subtle.importKey(i,n,t,!1,[r])}(t,o,"verify");return en.crypto.subtle.verify(o.name,s,n,a)}function tP(e){let t=(e||"").toString().split(".");if(3!==t.length)throw new e8({reason:"token-invalid",message:"Invalid JWT form. A JWT consists of three parts separated by dots."});let[r,n,i]=t,a=new TextDecoder,o=JSON.parse(a.decode(tc.parse(r,{loose:!0}))),s=JSON.parse(a.decode(tc.parse(n,{loose:!0}))),l=tc.parse(i,{loose:!0});return p(s,"orgs",'Add orgs to your session token using the "user.organizations" shortcode in JWT Templates instead.',"decodeJwt:orgs"),{header:o,payload:s,signature:l,raw:{header:r,payload:n,signature:i,text:e}}}async function tC(e,{audience:t,authorizedParties:r,clockSkewInSeconds:n,clockSkewInMs:i,issuer:a,key:o}){let s;n&&h("clockSkewInSeconds","Use `clockSkewInMs` instead.");let l=i||n||5e3,u=tP(e),{header:c,payload:d}=u,{typ:f,alg:p}=c;tb(f),tv(p);let{azp:g,sub:y,aud:m,iss:b,iat:v,exp:w,nbf:S}=d;tw(y),tm([m],[t]),tS(g,r),t_(b,a),tA(w,l),tk(S,l),tE(v,l);try{s=await tx(u,o)}catch(e){throw new e8({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Error verifying JWT signature. ${e}`})}if(!s)throw new e8({reason:"token-invalid-signature",message:"JWT signature is invalid."});return d}var tT={},tO=0;function tR(e,t=!0){tT[e.kid]=e,tO=t?Date.now():-1}var tB="local";async function tN({apiKey:e,secretKey:t,apiUrl:r=em,apiVersion:n="v1",issuer:i,kid:a,skipJwksCache:o}){-1!==tO&&Date.now()-tO>=3e5&&(tT={});let s=!tT[a];if(o||s){let a;let o=t||e;if(o)a=()=>tU(r,o,n);else if(i)a=()=>tI(i);else throw new e8({action:"Contact support@clerk.com",message:"Failed to load JWKS from Clerk Backend or Frontend API.",reason:"jwk-remote-failed-to-load"});let{keys:s}=await m(a);if(!s||!s.length)throw new e8({action:"Contact support@clerk.com",message:"The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",reason:"jwk-remote-failed-to-load"});s.forEach(e=>tR(e))}let l=tT[a];if(!l){let e=Object.values(tT).map(e=>e.kid).join(", ");throw new e8({action:"Contact support@clerk.com",message:`Unable to find a signing key in JWKS that matches the kid='${a}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT.${e?` The following kid are available: ${e}`:""}`,reason:"jwk-remote-missing"})}return l}async function tI(e){let t=new URL(e);t.pathname=U(t.pathname,".well-known/jwks.json");let r=await en.fetch(t.href);if(!r.ok)throw new e8({action:"Contact support@clerk.com",message:`Error loading Clerk JWKS from ${t.href} with code=${r.status}`,reason:"jwk-remote-failed-to-load"});return r.json()}async function tU(e,t,r){if(!t)throw new e8({action:"Set the CLERK_SECRET_KEY or CLERK_API_KEY environment variable.",message:"Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",reason:"jwk-remote-failed-to-load"});let n=new URL(e);n.pathname=U(n.pathname,r,"/jwks");let i=await en.fetch(n.href,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!i.ok){let e=await i.json(),t=tu(e?.errors,"clerk_key_invalid");if(t)throw new e8({action:"Contact support@clerk.com",message:t.message,reason:"secret-key-invalid"});throw new e8({action:"Contact support@clerk.com",message:`Error loading Clerk JWKS from ${n.href} with code=${i.status}`,reason:"jwk-remote-failed-to-load"})}return i.json()}async function tL(e,t){let r;let{apiKey:n,secretKey:i,apiUrl:a,apiVersion:o,audience:s,authorizedParties:l,clockSkewInSeconds:u,clockSkewInMs:c,issuer:d,jwksCacheTtlInMs:f,jwtKey:p,skipJwksCache:g}=t;t.apiKey&&h("apiKey","Use `secretKey` instead.");let{header:y}=tP(e),{kid:m}=y;if(p)r=function(e){if(!tT[tB]){if(!e)throw new e8({action:"Set the CLERK_JWT_KEY environment variable.",message:"Missing local JWK.",reason:"jwk-local-missing"});tR({kid:"local",kty:"RSA",alg:"RS256",n:e.replace(/(\r\n|\n|\r)/gm,"").replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA","").replace("IDAQAB","").replace(/\+/g,"-").replace(/\//g,"_"),e:"AQAB"},!1)}return tT[tB]}(p);else if("string"==typeof d)r=await tN({issuer:d,kid:m,jwksCacheTtlInMs:f,skipJwksCache:g});else if(n||i)r=await tN({apiKey:n,secretKey:i,apiUrl:a,apiVersion:o,kid:m,jwksCacheTtlInMs:f,skipJwksCache:g});else throw new e8({action:"Set the CLERK_JWT_KEY environment variable.",message:"Failed to resolve JWK during verification.",reason:"jwk-failed-to-resolve"});return await tC(e,{audience:s,authorizedParties:l,clockSkewInSeconds:u,clockSkewInMs:c,key:r,issuer:d})}var tK=e=>!!e?.get("__clerk_satellite_url"),tM=e=>e?.get("__clerk_synced")==="true",tj=/^Mozilla\/|(Amazon CloudFront)/,tD=e=>tj.test(e||""),tH=e=>{let{apiKey:t,secretKey:r,userAgent:n}=e;if(S(r||t||"")&&!tD(n))return to(e,"header-missing-non-browser")},t$=e=>{let{origin:t,host:r,forwardedHost:n,forwardedProto:i}=e;if(t&&tl({originURL:new URL(t),host:r,forwardedHost:n,forwardedProto:i}))return to(e,"header-missing-cors")},tq=e=>{let{apiKey:t,secretKey:r,isSatellite:n,searchParams:i}=e;if(S(r||t||"")&&!n&&tK(i))return ts(e,"primary-responds-to-syncing")},tV=e=>{let{apiKey:t,secretKey:r,clientUat:n}=e;if(S(r||t||"")&&!n)return ts(e,"uat-missing")},tz=e=>{let{apiKey:t,secretKey:r,referrer:n,host:i,forwardedHost:a,forwardedProto:o}=e,s=n&&tl({originURL:new URL(n),host:i,forwardedHost:a,forwardedProto:o});if(S(r||t||"")&&s)return ts(e,"cross-origin-referrer")},tF=e=>{let{apiKey:t,secretKey:r,clientUat:n,cookieToken:i}=e;if(function(e){return e.startsWith("live_")||e.startsWith("sk_live_")}(r||t||"")&&!n&&!i)return to(e,"cookie-and-uat-missing")},tW=e=>{let{clientUat:t}=e;if("0"===t)return to(e,"standard-signed-out")},tJ=e=>{let{clientUat:t,cookieToken:r}=e;if(t&&Number.parseInt(t)>0&&!r)return ts(e,"cookie-missing")},tG=async e=>{let{headerToken:t}=e,r=await tZ(e,t);return await ta({...e,token:t},r)},tX=async e=>{let{cookieToken:t,clientUat:r}=e,n=await tZ(e,t),i=await ta({...e,token:t},n),a=i.toAuth().sessionClaims.iat<Number.parseInt(r);return!r||a?ts(e,"cookie-outdated"):i};async function tY(e,t){for(let r of t){let t=await r(e);if(t)return t}return to(e,"unexpected-error")}async function tZ(e,t){let r;let{isSatellite:n,proxyUrl:i}=e;return r=n?null:i||(e=>e.startsWith("https://clerk.")||e.includes(".clerk.accounts")),tL(t,{...e,issuer:r})}var tQ=e=>{let{clientUat:t,isSatellite:r,searchParams:n,userAgent:i}=e,a=!t||"0"===t;return r&&a&&!tD(i)?to(e,"satellite-needs-syncing"):r&&a&&!tM(n)?ts(e,"satellite-needs-syncing"):void 0};async function t0(e){let{cookies:t,headers:r,searchParams:n}=e9(e?.request);async function i(){try{return await tY(e,[tG])}catch(e){return o(e,"header")}}async function a(){try{return await tY(e,[t$,tH,tQ,tq,tF,tV,tz,tJ,tW,tX])}catch(e){return o(e,"cookie")}}function o(t,r){return t instanceof e8?(t.tokenCarrier=r,["token-expired","token-not-active-yet"].includes(t.reason))?"header"===r?function(e,t,r=""){let{frontendApi:n,publishableKey:i,isSatellite:a,domain:o,signInUrl:s,signUpUrl:l,afterSignInUrl:u,afterSignUpUrl:c}=e;return{status:"unknown",reason:t,message:r,frontendApi:n,publishableKey:i,isSatellite:a,domain:o,signInUrl:s,signUpUrl:l,afterSignInUrl:u,afterSignUpUrl:c,isSignedIn:!1,isInterstitial:!1,isUnknown:!0,toAuth:()=>null,token:null}}(e,t.reason,t.getFullMessage()):ts(e,t.reason,t.getFullMessage()):to(e,t.reason,t.getFullMessage()):to(e,"unexpected-error",t.message)}return(e.frontendApi&&h("frontendApi","Use `publishableKey` instead."),e.apiKey&&h("apiKey","Use `secretKey` instead."),eS((e={...e,...t2(e,r),frontendApi:w(e.publishableKey)?.frontendApi||e.frontendApi,apiUrl:e.apiUrl||em,apiVersion:e.apiVersion||"v1",cookieToken:e.cookieToken||t?.(ew.Cookies.Session),clientUat:e.clientUat||t?.(ew.Cookies.ClientUat),searchParams:e.searchParams||n||void 0}).secretKey||e.apiKey),e.isSatellite&&(function(e,t){if(!e&&S(t))throw Error("Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite")}(e.signInUrl,e.secretKey||e.apiKey),e.signInUrl&&e.origin&&function(e,t){let r;try{r=new URL(e)}catch{throw Error("The signInUrl needs to have a absolute url format.")}if(r.origin===t)throw Error("The signInUrl needs to be on a different origin than your satellite application.")}(e.signInUrl,e.origin),function(e){if(!e)throw Error("Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl")}(e.proxyUrl||e.domain)),e.headerToken)?i():a()}var t1=e=>{let{frontendApi:t,isSignedIn:r,proxyUrl:n,isInterstitial:i,reason:a,message:o,publishableKey:s,isSatellite:l,domain:u}=e;return{frontendApi:t,isSignedIn:r,proxyUrl:n,isInterstitial:i,reason:a,message:o,publishableKey:s,isSatellite:l,domain:u}},t2=(e,t)=>t?{headerToken:tn(e.headerToken||t(ew.Headers.Authorization)),origin:e.origin||t(ew.Headers.Origin),host:e.host||t(ew.Headers.Host),forwardedHost:e.forwardedHost||t(ew.Headers.ForwardedHost),forwardedPort:e.forwardedPort||t(ew.Headers.ForwardedPort),forwardedProto:e.forwardedProto||t(ew.Headers.CloudFrontForwardedProto)||t(ew.Headers.ForwardedProto),referrer:e.referrer||t(ew.Headers.Referrer),userAgent:e.userAgent||t(ew.Headers.UserAgent)}:{},t8=(e,t)=>{let r;if(e.startsWith("http"))r=new URL(e);else{if(!t||!t.startsWith("http"))throw Error("destination url or return back url should be an absolute path url!");let n=new URL(t);r=new URL(e,n.origin)}return t&&r.searchParams.set("redirect_url",t),r.toString()};process.env.CLERK_JS_VERSION&&h("CLERK_JS_VERSION","Use `NEXT_PUBLIC_CLERK_JS_VERSION` environment variable instead."),process.env.NEXT_PUBLIC_CLERK_JS_VERSION,process.env.NEXT_PUBLIC_CLERK_JS;let t3=process.env.CLERK_API_URL||"https://api.clerk.dev",t4=process.env.CLERK_API_VERSION||"v1",t6=process.env.CLERK_API_KEY||"";t6&&h("CLERK_API_KEY","Use `CLERK_SECRET_KEY` environment variable instead.");let t5=process.env.CLERK_SECRET_KEY||"",t9=process.env.NEXT_PUBLIC_CLERK_FRONTEND_API||"";t9&&h("NEXT_PUBLIC_CLERK_FRONTEND_API","Use `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY` environment variable instead.");let t7=process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",re=process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",rt="true"===process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE;var rr=r(87070);let rn=(e="auth")=>`Clerk: ${e}() was called but Clerk can't detect usage of authMiddleware(). Please ensure the following:
- authMiddleware() is used in your Next.js Middleware.
- Your Middleware matcher is configured to match this route or page.
- If you are using the src directory, make sure the Middleware file is inside of it.

For more details, see https://clerk.com/docs/quickstarts/nextjs
`;function ri(e,t){var r,n,i;let a;return((r=ew.Attributes[t])in e?e[r]:void 0)||ra(e,ew.Headers[t])||("AuthStatus"===t||"AuthToken"===t)&&(n=e,i=t,ro(n)?n.nextUrl.searchParams.get(i):("query"in n&&(a=n.query[i]),a||(a=new URLSearchParams((n.url||"").split("?")[1]).get(i)),a))||void 0}function ra(e,t){var r,n;return ro(e)?e.headers.get(t):e.headers[t]||e.headers[t.toLowerCase()]||(null==(n=null==(r=e.socket)?void 0:r._httpMessage)?void 0:n.getHeader(t))}function ro(e){try{let{headers:t,nextUrl:r,cookies:n}=e||{};return"function"==typeof(null==t?void 0:t.get)&&"function"==typeof(null==r?void 0:r.searchParams.get)&&"function"==typeof(null==n?void 0:n.get)}catch(e){return!1}}let rs=(e,t)=>{let r={...t};return{...e,__clerk_ssr_state:r}},rl=(e,t={})=>{let r;let n=ri(e,"AuthToken"),i=ri(e,"AuthStatus"),a={apiKey:t6,secretKey:t5,apiUrl:t3,apiVersion:t4,authStatus:i,authMessage:ri(e,"AuthMessage"),authReason:ri(e,"AuthReason")};if(i&&i===ti.SignedIn){let{payload:e,raw:t}=tP(n);r=eY(e,{...a,token:t.text})}else r=eZ(a);return rs({},e0(function(e){let t=e.user?{...e.user}:e.user,r=e.organization?{...e.organization}:e.organization;return eQ(t),eQ(r),{...e,user:t,organization:r}}({...r,...t})))},ru={i8:"14.2.28"},rc=e=>{if(!e||"string"!=typeof e)return e;try{return(e||"").replace(/^(sk_(live|test)_)(.+?)(.{3})$/,"$1*********$4")}catch(e){return""}},rd=e=>(Array.isArray(e)?e:[e]).map(e=>"string"==typeof e?rc(e):JSON.stringify(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,rc(t)])),null,2)).join(", "),rh=(e,t)=>()=>{let r=[],n=!1;return{enable:()=>{n=!0},debug:(...e)=>{n&&r.push(e.map(e=>"function"==typeof e?e():e))},commit:()=>{if(n){for(let n of(console.log(`[clerk debug start: ${e}]`),r)){let e=t(n);e=e.split("\n").map(e=>`  ${e}`).join("\n"),process.env.VERCEL&&(e=function(e,t){let r=new TextEncoder,n=new TextDecoder("utf-8"),i=r.encode(e).slice(0,4096);return n.decode(i).replace(/\uFFFD/g,"")}(e,0)),console.log(e)}console.log(`[clerk debug end: ${e}] (@clerk/nextjs=4.31.8,next=${ru.i8})`)}}}},rf=(e,t)=>(...r)=>{let n=("string"==typeof e?rh(e,rd):e)(),i=t(n);try{let e=i(...r);if("object"==typeof e&&"then"in e&&"function"==typeof e.then)return e.then(e=>(n.commit(),e)).catch(e=>{throw n.commit(),e});return n.commit(),e}catch(e){throw n.commit(),e}},rp=({debugLoggerName:e,noAuthStatusMessage:t})=>rf(e,e=>(r,n)=>{"true"===ra(r,ew.Headers.EnableDebug)&&e.enable();let i=ri(r,"AuthToken"),a=ri(r,"AuthStatus"),o=ri(r,"AuthMessage"),s=ri(r,"AuthReason");if(e.debug("Debug",{authReason:s,authMessage:o,authStatus:a,authToken:i}),!a)throw Error(t);let l={apiKey:(null==n?void 0:n.apiKey)||t6,authStatus:a,authMessage:o,secretKey:(null==n?void 0:n.secretKey)||t5,authReason:s,authToken:i,apiUrl:t3,apiVersion:t4};if(e.debug("Options debug",l),a!==ti.SignedIn)return eZ(l);let u=tP(i);e.debug("JWT debug",u.raw.text);let c=eY(u.payload,{...l,token:u.raw.text});return c&&(c.user&&p(c,"user","Use `clerkClient.users.getUser` instead."),c.organization&&p(c,"organization","Use `clerkClient.organizations.getOrganization` instead."),c.session&&p(c,"session","Use `clerkClient.sessions.getSession` instead.")),c});rp({debugLoggerName:"getAuth()",noAuthStatusMessage:rn("getAuth")});let rg=()=>{try{let{headers:e}=r(71615);return new rr.NextRequest("https://placeholder.com",{headers:e()})}catch(e){if(e&&"message"in e&&"string"==typeof e.message&&e.message.toLowerCase().includes("dynamic server usage"))throw e;throw Error(`Clerk: auth() and currentUser() are only supported in App Router (/app directory).
If you're using /pages, try getAuth() instead.
Original error: ${e}`)}},ry=()=>rl(rg());(function(e){let t={...e},r=eG(t),n=function(e){let{apiClient:t}=e,{apiKey:r="",secretKey:n="",jwtKey:i="",apiUrl:a=em,apiVersion:o="v1",frontendApi:s="",proxyUrl:l="",publishableKey:u="",isSatellite:c=!1,domain:d="",audience:f="",userAgent:p}=e.options;return{authenticateRequest:({apiKey:e,secretKey:t,audience:h,frontendApi:p,proxyUrl:g,publishableKey:y,jwtKey:m,isSatellite:b,domain:v,searchParams:w,...S})=>t0({...S,apiKey:e||r,secretKey:t||n,audience:h||f,apiUrl:a,apiVersion:o,frontendApi:p||s,proxyUrl:g||l,publishableKey:y||u,isSatellite:b||c,domain:v||d,jwtKey:m||i,searchParams:w}),localInterstitial:({frontendApi:e,publishableKey:t,proxyUrl:r,isSatellite:n,domain:i,...a})=>(function(e){e.frontendApi&&h("frontendApi","Use `publishableKey` instead."),e.pkgVersion&&h("pkgVersion","Use `clerkJSVersion` instead."),e.frontendApi=w(e.publishableKey)?.frontendApi||e.frontendApi||"";let t=z(e.frontendApi)?"":function(e){let t;if(!e)return"";if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}let r=e.replace(t,"");return`clerk.${r}`}(e.domain),{debugData:r,frontendApi:n,pkgVersion:i,clerkJSUrl:a,clerkJSVersion:o,publishableKey:s,proxyUrl:l,isSatellite:u=!1,domain:c,signInUrl:d}=e;return`
    <head>
        <meta charset="UTF-8" />
        <style>
          @media (prefers-color-scheme: dark) {
            body {
              background-color: black;
            }
          }
        </style>
    </head>
    <body>
        <script>
            window.__clerk_frontend_api = '${n}';
            window.__clerk_debug = ${JSON.stringify(r||{})};
            ${l?`window.__clerk_proxy_url = '${l}'`:""}
            ${c?`window.__clerk_domain = '${c}'`:""}
            window.startClerk = async () => {
                function formRedirect(){
                    const form = '<form method="get" action="" name="redirect"></form>';
                    document.body.innerHTML = document.body.innerHTML + form;

                    const searchParams = new URLSearchParams(window.location.search);
                    for (let paramTuple of searchParams) {
                        const input = document.createElement("input");
                        input.type = "hidden";
                        input.name = paramTuple[0];
                        input.value = paramTuple[1];
                        document.forms.redirect.appendChild(input);
                    }
                    const url = new URL(window.location.origin + window.location.pathname + window.location.hash);
                    window.history.pushState({}, '', url);

                    document.forms.redirect.action = window.location.pathname + window.location.hash;
                    document.forms.redirect.submit();
                }

                const Clerk = window.Clerk;
                try {
                    await Clerk.load({
                        isSatellite: ${u},
                        isInterstitial: true,
                        signInUrl: ${d?`'${d}'`:void 0}
                    });
                    if(Clerk.loaded){
                      if(window.location.href.indexOf("#") === -1){
                        window.location.href = window.location.href;
                      } else if (window.navigator.userAgent.toLowerCase().includes("firefox/")){
                          formRedirect();
                      } else {
                          window.location.reload();
                      }
                    }
                } catch (err) {
                    console.error('Clerk: ', err);
                }
            };
            (() => {
                const script = document.createElement('script');
                ${s?`script.setAttribute('data-clerk-publishable-key', '${s}');`:`script.setAttribute('data-clerk-frontend-api', '${n}');`}

                ${c?`script.setAttribute('data-clerk-domain', '${c}');`:""}
                ${l?`script.setAttribute('data-clerk-proxy-url', '${l}')`:""};
                script.async = true;
                script.src = '${a||y(l||t||n,{pkgVersion:i,clerkJSVersion:o})}';
                script.crossOrigin = 'anonymous';
                script.addEventListener('load', startClerk);
                document.body.appendChild(script);
            })();
        </script>
    </body>
`})({...a,frontendApi:e||s,proxyUrl:r||l,publishableKey:t||u,isSatellite:n||c,domain:i||d}),remotePublicInterstitial:({frontendApi:e,publishableKey:t,proxyUrl:r,isSatellite:n,domain:i,userAgent:o,...h})=>e3({...h,apiUrl:a,frontendApi:e||s,publishableKey:t||u,proxyUrl:r||l,isSatellite:n||c,domain:i||d,userAgent:o||p}),remotePrivateInterstitial:()=>t.interstitial.getInterstitial(),remotePublicInterstitialUrl:e4,debugRequestState:t1}}({options:t,apiClient:r});p({...r,...n,__unstable_options:t},"__unstable_options","Use `createClerkClient({...})` to create a new clerk instance instead.")})({apiKey:t6,secretKey:t5,apiUrl:t3,apiVersion:t4,userAgent:"@clerk/nextjs@4.31.8",proxyUrl:re,domain:t7,isSatellite:rt});let rm=(e,t,r)=>(e.headers.set(t,r),e),{redirectToSignIn:rb,redirectToSignUp:rv}=function({redirectAdapter:e,signUpUrl:t,signInUrl:r,frontendApi:n,publishableKey:i}){n?h("frontendApi","Use `publishableKey` instead."):n=w(i)?.frontendApi;let a=function(e){if(!e)return"";let t=e.replace(/(clerk\.accountsstage\.)/,"accountsstage.").replace(/(clerk\.accounts\.|clerk\.)/,"accounts.");return`https://${t}`}(n);return{redirectToSignUp:({returnBackUrl:r}={})=>{t||a||V.throwMissingPublishableKeyError();let n=`${a}/sign-up`;return e(t8(t||n,r))},redirectToSignIn:({returnBackUrl:t}={})=>{r||a||V.throwMissingPublishableKeyError();let n=`${a}/sign-in`;return e(t8(r||n,t))}}}({redirectAdapter:e=>rm(rr.NextResponse.redirect(e),ew.Headers.ClerkRedirectTo,"true"),signInUrl:"/sign-in",signUpUrl:"/sign-up",publishableKey:"pk_test_Y29uY2lzZS1nZWNrby04NS5jbGVyay5hY2NvdW50cy5kZXYk",frontendApi:t9}),rw=function(e){var t;let{children:r,...n}=e,i=null==(t=ry())?void 0:t.__clerk_ssr_state;return o().createElement(l,{...s(n),initialState:i},r)},rS=()=>{let e=rp({debugLoggerName:"auth()",noAuthStatusMessage:rn()})(rg()),{notFound:t,redirect:n}=r(58585);return e.protect=(r,i)=>{let a=(null==r?void 0:r.redirectUrl)?void 0:r,o=(null==r?void 0:r.redirectUrl)||(null==i?void 0:i.redirectUrl),s=()=>{o&&n(o),t()};return e.userId?a?"function"==typeof a?a(e.has)?{...e}:s():e.has(a)?{...e}:s():{...e}:s()},e}},71612:(e,t,r)=>{"use strict";r.d(t,{w:()=>n1});var n,i,a,o,s,l={};r.r(l),r.d(l,{Any:()=>e$,BaseBlock:()=>$,BaseStringBlock:()=>q,BitString:()=>ei,BmpString:()=>eA,Boolean:()=>ee,CharacterString:()=>eI,Choice:()=>eq,Constructed:()=>G,DATE:()=>eK,DateTime:()=>ej,Duration:()=>eD,EndOfContent:()=>Y,Enumerated:()=>el,GeneralString:()=>eN,GeneralizedTime:()=>eL,GraphicString:()=>eR,HexBlock:()=>L,IA5String:()=>eO,Integer:()=>es,Null:()=>Z,NumericString:()=>ex,ObjectIdentifier:()=>ed,OctetString:()=>er,Primitive:()=>z,PrintableString:()=>eP,RawData:()=>ez,RelativeObjectIdentifier:()=>ep,Repeated:()=>eV,Sequence:()=>eg,Set:()=>ey,TIME:()=>eH,TeletexString:()=>eC,TimeOfDay:()=>eM,UTCTime:()=>eU,UniversalString:()=>eE,Utf8String:()=>eS,ValueBlock:()=>M,VideotexString:()=>eT,ViewWriter:()=>x,VisibleString:()=>eB,compareSchema:()=>eF,fromBER:()=>W,verifySchema:()=>eW});class u{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){let r=u.toUint8Array(e),n=u.toUint8Array(t);if(r.length!==n.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}static concat(...e){let t;t=!Array.isArray(e[0])||e[1]instanceof Function?Array.isArray(e[0])&&e[1]instanceof Function?e[0]:e[e.length-1]instanceof Function?e.slice(0,e.length-1):e:e[0];let r=0;for(let e of t)r+=e.byteLength;let n=new Uint8Array(r),i=0;for(let e of t){let t=this.toUint8Array(e);n.set(t,i),i+=t.length}return e[e.length-1]instanceof Function?this.toView(n,e[e.length-1]):n.buffer}}let c="string",d=/^[0-9a-f\s]+$/i,h=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,f=/^[a-zA-Z0-9-_]+$/;class p{static fromString(e){let t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){let t=u.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return decodeURIComponent(escape(r))}}class g{static toString(e,t=!1){let r=u.toArrayBuffer(e),n=new DataView(r),i="";for(let e=0;e<r.byteLength;e+=2)i+=String.fromCharCode(n.getUint16(e,t));return i}static fromString(e,t=!1){let r=new ArrayBuffer(2*e.length),n=new DataView(r);for(let r=0;r<e.length;r++)n.setUint16(2*r,e.charCodeAt(r),t);return r}}class y{static isHex(e){return typeof e===c&&d.test(e)}static isBase64(e){return typeof e===c&&h.test(e)}static isBase64Url(e){return typeof e===c&&f.test(e)}static ToString(e,t="utf8"){let r=u.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return g.toString(r,!0);case"utf16":case"utf16be":return g.toString(r);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return g.fromString(e,!0);case"utf16":case"utf16be":return g.fromString(e);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){let t=u.toUint8Array(e);return"undefined"!=typeof btoa?btoa(this.ToString(t,"binary")):Buffer.from(t).toString("base64")}static FromBase64(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!y.isBase64(t))throw TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!y.isBase64Url(t))throw TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=y.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return p.fromString(e);case"utf16":case"utf16be":return g.fromString(e);case"utf16le":case"usc2":return g.fromString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=y.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return p.toString(e);case"utf16":case"utf16be":return g.toString(e);case"utf16le":case"usc2":return g.toString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){let t=e.length,r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r.buffer}static ToBinary(e){let t=u.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}static ToHex(e){let t=u.toUint8Array(e),r="",n=t.length;for(let e=0;e<n;e++){let n=t[e];n<16&&(r+="0"),r+=n.toString(16)}return r}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!y.isHex(t))throw TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){let n=t.slice(e,e+2);r[e/2]=parseInt(n,16)}return r.buffer}static ToUtf16String(e,t=!1){return g.toString(e,t)}static FromUtf16String(e,t=!1){return g.fromString(e,t)}static Base64Padding(e){let t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}function m(...e){let t=new Uint8Array(e.map(e=>e.byteLength).reduce((e,t)=>e+t)),r=0;return e.map(e=>new Uint8Array(e)).forEach(e=>{for(let n of e)t[r++]=n}),t.buffer}function b(e,t){let r=0;if(1===e.length)return e[0];for(let n=e.length-1;n>=0;n--)r+=e[e.length-1-n]*Math.pow(2,t*n);return r}function v(e,t,r=-1){let n=e,i=0,a=Math.pow(2,t);for(let o=1;o<8;o++){if(e<a){let e;if(r<0)e=new ArrayBuffer(o),i=o;else{if(r<o)return new ArrayBuffer(0);e=new ArrayBuffer(r),i=r}let a=new Uint8Array(e);for(let e=o-1;e>=0;e--){let r=Math.pow(2,e*t);a[i-e-1]=Math.floor(n/r),n-=a[i-e-1]*r}return e}a*=Math.pow(2,t)}return new ArrayBuffer(0)}function w(...e){let t=0,r=0;for(let r of e)t+=r.length;let n=new Uint8Array(new ArrayBuffer(t));for(let t of e)n.set(t,r),r+=t.length;return n}function S(){let e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let t=255===e[0]&&128&e[1],r=0===e[0]&&(128&e[1])==0;(t||r)&&this.warnings.push("Needlessly long format")}let t=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let e=0;e<this.valueHex.byteLength;e++)t[e]=0;t[0]=128&e[0];let r=b(t,8),n=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let t=0;t<this.valueHex.byteLength;t++)n[t]=e[t];return n[0]&=127,b(n,8)-r}function _(e,t){let r=e.toString(10);if(t<r.length)return"";let n=t-r.length,i=Array(n);for(let e=0;e<n;e++)i[e]="0";return i.join("").concat(r)}function A(){if("undefined"==typeof BigInt)throw Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function k(e){let t=0,r=0;for(let r=0;r<e.length;r++)t+=e[r].byteLength;let n=new Uint8Array(t);for(let t=0;t<e.length;t++){let i=e[t];n.set(new Uint8Array(i),r),r+=i.byteLength}return n.buffer}function E(e,t,r,n){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):n<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-n<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}y.DEFAULT_UTF8_ENCODING="utf8";class x{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return k(this.items)}}let P=[new Uint8Array([1])],C="0123456789",T="name",O="valueHexView",R=new ArrayBuffer(0),B=new Uint8Array(0),N="EndOfContent",I="OCTET STRING",U="BIT STRING";function L(e){var t;return(t=class extends e{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}constructor(...e){var t;super(...e);let r=e[0]||{};this.isHexOnly=null!==(t=r.isHexOnly)&&void 0!==t&&t,this.valueHexView=r.valueHex?u.toUint8Array(r.valueHex):B}fromBER(e,t,r){let n=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!E(this,n,t,r))return -1;let i=t+r;return(this.valueHexView=n.subarray(t,i),this.valueHexView.length)?(this.blockLength=r,i):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",R)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:y.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class K{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:t="",warnings:r=[],valueBeforeDecode:n=B}={}){this.blockLength=e,this.error=t,this.warnings=r,this.valueBeforeDecodeView=u.toUint8Array(n)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:y.ToHex(this.valueBeforeDecodeView)}}}K.NAME="baseBlock";class M extends K{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}M.NAME="valueBlock";class j extends L(K){constructor({idBlock:e={}}={}){var t,r,n,i;super(),e?(this.isHexOnly=null!==(t=e.isHexOnly)&&void 0!==t&&t,this.valueHexView=e.valueHex?u.toUint8Array(e.valueHex):B,this.tagClass=null!==(r=e.tagClass)&&void 0!==r?r:-1,this.tagNumber=null!==(n=e.tagNumber)&&void 0!==n?n:-1,this.isConstructed=null!==(i=e.isConstructed)&&void 0!==i&&i):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",R}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){let r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){let r=v(this.tagNumber,7),n=new Uint8Array(r),i=r.byteLength,a=new Uint8Array(i+1);if(a[0]=31|t,!e){for(let e=0;e<i-1;e++)a[e+1]=128|n[e];a[i]=n[i-1]}return a.buffer}let r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){let e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){let n=u.toUint8Array(e);if(!E(this,n,t,r))return -1;let i=n.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;switch(192&i[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(32&i[0])==32,this.isHexOnly=!1;let a=31&i[0];if(31!==a)this.tagNumber=a,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&i[e];){if(t[e-1]=127&i[e],++e>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){let e=new Uint8Array(r+=255);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&i[e];let n=new Uint8Array(e);for(let r=0;r<e;r++)n[r]=t[r];(t=this.valueHexView=new Uint8Array(e)).set(n),this.blockLength<=9?this.tagNumber=b(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}j.NAME="identificationBlock";class D extends K{constructor({lenBlock:e={}}={}){var t,r,n;super(),this.isIndefiniteForm=null!==(t=e.isIndefiniteForm)&&void 0!==t&&t,this.longFormUsed=null!==(r=e.longFormUsed)&&void 0!==r&&r,this.length=null!==(n=e.length)&&void 0!==n?n:0}fromBER(e,t,r){let n=u.toUint8Array(e);if(!E(this,n,t,r))return -1;let i=n.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;if(255===i[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===i[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&i[0]),!1===this.longFormUsed)return this.length=i[0],this.blockLength=1,t+this.blockLength;let a=127&i[0];if(a>8)return this.error="Too big integer",-1;if(a+1>i.length)return this.error="End of input reached before message was fully decoded",-1;let o=t+1,s=n.subarray(o,o+a);return 0===s[a-1]&&this.warnings.push("Needlessly long encoded length"),this.length=b(s,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=128),t;if(this.longFormUsed){let n=v(this.length,8);if(n.byteLength>127)return this.error="Too big length",R;if(t=new ArrayBuffer(n.byteLength+1),e)return t;let i=new Uint8Array(n);(r=new Uint8Array(t))[0]=128|n.byteLength;for(let e=0;e<n.byteLength;e++)r[e+1]=i[e];return t}return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}D.NAME="lengthBlock";let H={};class $ extends K{constructor({name:e="",optional:t=!1,primitiveSchema:r,...n}={},i){super(n),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new j(n),this.lenBlock=new D(n),this.valueBlock=i?new i(n):new M(n)}fromBER(e,t,r){let n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===n?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),n}toBER(e,t){let r=t||new x;t||function e(t){var r;if(t instanceof H.Constructed)for(let r of t.valueBlock.value)e(r)&&(t.lenBlock.isIndefiniteForm=!0);return!!(null===(r=t.lenBlock)||void 0===r?void 0:r.isIndefiniteForm)}(this);let n=this.idBlock.toBER(e);if(r.write(n),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{let t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;let n=this.lenBlock.toBER(e);r.write(n),r.write(t)}return t?R:r.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():y.ToHex(this.toBER())}onAsciiEncoding(){let e=this.constructor.NAME,t=y.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${t}`}isEqual(e){return this===e||e instanceof this.constructor&&function(e,t){if(e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),n=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}(this.toBER(),e.toBER())}}$.NAME="BaseBlock";class q extends ${getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e="",...t}={},r){super(t,r),e&&this.fromString(e)}fromBER(e,t,r){let n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===n?this.error=this.valueBlock.error:(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),n}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}q.NAME="BaseStringBlock";class V extends L(M){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}V.NAME="PrimitiveValueBlock";class z extends ${constructor(e={}){super(e,V),this.idBlock.isConstructed=!1}}function F(e,t=0,r=e.length){let n=t,i=new $({},M),a=new K;if(!E(a,e,t,r))return i.error=a.error,{offset:-1,result:i};if(!e.subarray(t,t+r).length)return i.error="Zero buffer length",{offset:-1,result:i};let o=i.idBlock.fromBER(e,t,r);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),-1===o)return i.error=i.idBlock.error,{offset:-1,result:i};if(t=o,r-=i.idBlock.blockLength,o=i.lenBlock.fromBER(e,t,r),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),-1===o)return i.error=i.lenBlock.error,{offset:-1,result:i};if(t=o,r-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let s=$;if(1===i.idBlock.tagClass){if(i.idBlock.tagNumber>=37&&!1===i.idBlock.isHexOnly)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};s=H.EndOfContent;break;case 1:s=H.Boolean;break;case 2:s=H.Integer;break;case 3:s=H.BitString;break;case 4:s=H.OctetString;break;case 5:s=H.Null;break;case 6:s=H.ObjectIdentifier;break;case 10:s=H.Enumerated;break;case 12:s=H.Utf8String;break;case 13:s=H.RelativeObjectIdentifier;break;case 14:s=H.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:s=H.Sequence;break;case 17:s=H.Set;break;case 18:s=H.NumericString;break;case 19:s=H.PrintableString;break;case 20:s=H.TeletexString;break;case 21:s=H.VideotexString;break;case 22:s=H.IA5String;break;case 23:s=H.UTCTime;break;case 24:s=H.GeneralizedTime;break;case 25:s=H.GraphicString;break;case 26:s=H.VisibleString;break;case 27:s=H.GeneralString;break;case 28:s=H.UniversalString;break;case 29:s=H.CharacterString;break;case 30:s=H.BmpString;break;case 31:s=H.DATE;break;case 32:s=H.TimeOfDay;break;case 33:s=H.DateTime;break;case 34:s=H.Duration;break;default:{let e=i.idBlock.isConstructed?new H.Constructed:new H.Primitive;e.idBlock=i.idBlock,e.lenBlock=i.lenBlock,e.warnings=i.warnings,i=e}}}else s=i.idBlock.isConstructed?H.Constructed:H.Primitive;return o=(i=function(e,t){if(e instanceof t)return e;let r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}(i,s)).fromBER(e,t,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length),i.valueBeforeDecodeView=e.subarray(n,n+i.blockLength),{offset:o,result:i}}function W(e){if(!e.byteLength){let e=new $({},M);return e.error="Input buffer has zero length",{offset:-1,result:e}}return F(u.toUint8Array(e).slice(),0,e.byteLength)}H.Primitive=z,z.NAME="PRIMITIVE";class J extends M{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,r){var n,i;let a=u.toUint8Array(e);if(!E(this,a,t,r))return -1;if(this.valueBeforeDecodeView=a.subarray(t,t+r),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let o=t;for(;n=this.isIndefiniteForm,i=r,(n?1:i)>0;){let e=F(a,o,r);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(o=e.offset,this.blockLength+=e.result.blockLength,r-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===N)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===N?this.value.pop():this.warnings.push("No EndOfContent block encoded")),o}toBER(e,t){let r=t||new x;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,r);return t?R:r.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let t of this.value)e.value.push(t.toJSON());return e}}J.NAME="ConstructedValueBlock";class G extends ${constructor(e={}){super(e,J),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===n?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),n}onAsciiEncoding(){let e=[];for(let t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map(e=>`  ${e}`).join("\n"));let t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join("\n")}`:`${t} :`}}H.Constructed=G,G.NAME="CONSTRUCTED";class X extends M{fromBER(e,t,r){return t}toBER(e){return R}}X.override="EndOfContentValueBlock";class Y extends ${constructor(e={}){super(e,X),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}H.EndOfContent=Y,Y.NAME=N;class Z extends ${constructor(e={}){super(e,M),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return(this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength)?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){let r=new ArrayBuffer(2);if(!e){let e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}H.Null=Z,Z.NAME="NULL";class Q extends L(M){get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=u.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,t,r){let n=u.toUint8Array(e);return E(this,n,t,r)?(this.valueHexView=n.subarray(t,t+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,S.call(this),this.blockLength=r,t+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}Q.NAME="BooleanValueBlock";class ee extends ${getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,Q),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}H.Boolean=ee,ee.NAME="BOOLEAN";class et extends L(J){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let n=0;if(this.isConstructed){if(this.isHexOnly=!1,-1===(n=J.prototype.fromBER.call(this,e,t,r)))return n;for(let e=0;e<this.value.length;e++){let t=this.value[e].constructor.NAME;if(t===N){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1;break}if(t!==I)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,n=super.fromBER(e,t,r),this.blockLength=r;return n}toBER(e,t){return this.isConstructed?J.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}et.NAME="OctetStringValueBlock";class er extends ${constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;null!==(n=r.isConstructed)&&void 0!==n||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},et),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){let n=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(n.byteLength){let e=F(n,0,n.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch{}}return super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return G.prototype.onAsciiEncoding.call(this);let e=this.constructor.NAME,t=y.ToHex(this.valueBlock.valueHexView);return`${e} : ${t}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let t of this.valueBlock.value)t instanceof n&&e.push(t.valueBlock.valueHexView);return u.concat(e)}}n=er,H.OctetString=n,er.NAME=I;class en extends L(J){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r)return t;let n=-1;if(this.isConstructed){if(-1===(n=J.prototype.fromBER.call(this,e,t,r)))return n;for(let e of this.value){let t=e.constructor.NAME;if(t===N){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;break}if(t!==U)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return n}let i=u.toUint8Array(e);if(!E(this,i,t,r))return -1;let a=i.subarray(t,t+r);if(this.unusedBits=a[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let e=a.subarray(1);try{if(e.byteLength){let t=F(e,0,e.byteLength);-1!==t.offset&&t.offset===r-1&&(this.value=[t.result])}}catch{}}return this.valueHexView=a.subarray(1),this.blockLength=a.length,t+r}toBER(e,t){if(this.isConstructed)return J.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return R;let r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}en.NAME="BitStringValueBlock";class ei extends ${constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;null!==(n=r.isConstructed)&&void 0!==n||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},en),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return G.prototype.onAsciiEncoding.call(this);{let e=[];for(let t of this.valueBlock.valueHexView)e.push(t.toString(2).padStart(8,"0"));let t=e.join(""),r=this.constructor.NAME,n=t.substring(0,t.length-this.valueBlock.unusedBits);return`${r} : ${n}`}}}function ea(e){if(e>=P.length)for(let t=P.length;t<=e;t++){let e=new Uint8Array([0]),r=P[t-1].slice(0);for(let t=r.length-1;t>=0;t--){let n=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=n[0]/10,r[t]=n[0]%10}e[0]>0&&(r=w(e,r)),P.push(r)}return P[e]}H.BitString=ei,ei.NAME=U;class eo extends L(M){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=S.call(this)))}constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function(e){let t=e<0?-1*e:e,r=128;for(let n=1;n<8;n++){if(t<=r){if(e<0){let e=v(r-t,8,n),i=new Uint8Array(e);return i[0]|=128,e}let i=v(t,8,n),a=new Uint8Array(i);if(128&a[0]){let e=i.slice(0),t=new Uint8Array(e);a=new Uint8Array(i=new ArrayBuffer(i.byteLength+1));for(let r=0;r<e.byteLength;r++)a[r+1]=t[r];a[0]=0}return i}r*=256}return new ArrayBuffer(0)}(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,n=0){let i=this.fromBER(e,t,r);if(-1===i)return i;let a=this.valueHexView;return 0===a[0]&&(128&a[1])!=0?this.valueHexView=a.subarray(1):0!==n&&a.length<n&&(n-a.length>1&&(n=a.length+1),this.valueHexView=a.subarray(n-a.length)),i}toDER(e=!1){let t=this.valueHexView;switch(!0){case(128&t[0])!=0:{let e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&(128&t[1])==0:this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){let n=super.fromBER(e,t,r);return -1===n||this.setValueHex(),n}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e;let t=8*this.valueHexView.length-1,r=new Uint8Array(8*this.valueHexView.length/3),n=0,i=this.valueHexView,a="",o=!1;for(let o=i.byteLength-1;o>=0;o--){e=i[o];for(let i=0;i<8;i++)(1&e)==1&&(n===t?(r=function(e,t){let r,n=0,i=new Uint8Array(e),a=new Uint8Array(t),o=i.slice(0),s=o.length-1,l=a.slice(0),u=l.length-1,c=0;for(let e=u;e>=0;e--,c++)!0==(r=o[s-c]-l[u-c]-n)<0?(n=1,o[s-c]=r+10):(n=0,o[s-c]=r);if(n>0)for(let e=s-u+1;e>=0;e--,c++)if((r=o[s-c]-n)<0)n=1,o[s-c]=r+10;else{n=0,o[s-c]=r;break}return o.slice()}(ea(n),r),a="-"):r=function(e,t){let r=new Uint8Array([0]),n=new Uint8Array(e),i=new Uint8Array(t),a=n.slice(0),o=a.length-1,s=i.slice(0),l=s.length-1,u=0,c=l<o?o:l,d=0;for(let e=c;e>=0;e--,d++)u=!0==d<s.length?a[o-d]+s[l-d]+r[0]:a[o-d]+r[0],(r[0]=u/10,!0==d>=a.length)?a=w(new Uint8Array([u%10]),a):a[o-d]=u%10;return r[0]>0&&(a=w(r,a)),a}(r,ea(n))),n++,e>>=1}for(let e=0;e<r.length;e++)r[e]&&(o=!0),o&&(a+=C.charAt(r[e]));return!1===o&&(a+=C.charAt(0)),a}}eo.NAME="IntegerValueBlock",Object.defineProperty(eo.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class es extends ${constructor(e={}){super(e,eo),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return A(),BigInt(this.valueBlock.toString())}static fromBigInt(e){A();let t=BigInt(e),r=new x,n=t.toString(16).replace(/^-/,""),a=new Uint8Array(y.FromHex(n));if(t<0){let e=new Uint8Array(a.length+(128&a[0]?1:0));e[0]|=128;let n=BigInt(`0x${y.ToHex(e)}`),i=u.toUint8Array(y.FromHex((n+t).toString(16)));i[0]|=128,r.write(i)}else 128&a[0]&&r.write(new Uint8Array([0])),r.write(a);return new i({valueHex:r.final()})}convertToDER(){let e=new i({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new i({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}i=es,H.Integer=i,es.NAME="INTEGER";class el extends es{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}H.Enumerated=el,el.NAME="ENUMERATED";class eu extends L(M){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,r){if(!r)return t;let n=u.toUint8Array(e);if(!E(this,n,t,r))return -1;let i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&i[e],this.blockLength++,(128&i[e])!=0);e++);let a=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)a[e]=this.valueHexView[e];return(this.valueHexView=a,(128&i[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=b(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){A();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;let r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++)r[e]=parseInt(t.slice(7*e,7*e+7),2)+(e+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=v(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",R;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=128|e[t];r[n]=e[n]}return r}toString(){let e="";if(this.isHexOnly)e=y.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}eu.NAME="sidBlock";class ec extends M{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let n=t;for(;r>0;){let t=new eu;if(-1===(n=t.fromBER(e,n,r))){this.blockLength=0,this.error=t.error;break}0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return n}toBER(e){let t=[];for(let r=0;r<this.value.length;r++){let n=this.value[r].toBER(e);if(0===n.byteLength)return this.error=this.value[r].error,R;t.push(n)}return k(t)}fromString(e){this.value=[];let t=0,r=0,n="",i=!1;do if(n=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1,i){let e=this.value[0],t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:this.value=[];return}let r=parseInt(n,10);if(isNaN(r))return;e.valueDec=r+t,i=!1}else{let e=new eu;if(n>Number.MAX_SAFE_INTEGER){A();let t=BigInt(n);e.valueBigInt=t}else if(e.valueDec=parseInt(n,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,i=!0),this.value.push(e)}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();0!==r&&(e=`${e}.`),t?(n=`{${n}}`,this.value[r].isFirstSid?e=`2.{${n} - 80}`:e+=n):e+=n}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}ec.NAME="ObjectIdentifierValueBlock";class ed extends ${getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,ec),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}H.ObjectIdentifier=ed,ed.NAME="OBJECT IDENTIFIER";class eh extends L(K){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,r){if(0===r)return t;let n=u.toUint8Array(e);if(!E(this,n,t,r))return -1;let i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&i[e],this.blockLength++,(128&i[e])!=0);e++);let a=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)a[e]=this.valueHexView[e];return(this.valueHexView=a,(128&i[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=b(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=v(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",R;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=128|e[t];r[n]=e[n]}return r.buffer}toString(){return this.isHexOnly?y.ToHex(this.valueHexView):this.valueDec.toString()}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}eh.NAME="relativeSidBlock";class ef extends M{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let n=t;for(;r>0;){let t=new eh;if(-1===(n=t.fromBER(e,n,r))){this.blockLength=0,this.error=t.error;break}this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return n}toBER(e,t){let r=[];for(let t=0;t<this.value.length;t++){let n=this.value[t].toBER(e);if(0===n.byteLength)return this.error=this.value[t].error,R;r.push(n)}return k(r)}fromString(e){this.value=[];let t=0,r=0,n="";do{n=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1;let i=new eh;if(i.valueDec=parseInt(n,10),isNaN(i.valueDec))break;this.value.push(i)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();0!==r&&(e=`${e}.`),t?e+=n=`{${n}}`:e+=n}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}ef.NAME="RelativeObjectIdentifierValueBlock";class ep extends ${getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,ef),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}H.RelativeObjectIdentifier=ep,ep.NAME="RelativeObjectIdentifier";class eg extends G{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}H.Sequence=eg,eg.NAME="SEQUENCE";class ey extends G{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}H.Set=ey,ey.NAME="SET";class em extends L(M){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}em.NAME="StringValueBlock";class eb extends em{}eb.NAME="SimpleStringValueBlock";class ev extends q{constructor({...e}={}){super(e,eb)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,u.toUint8Array(e))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);this.valueBlock.value=e}}ev.NAME="SIMPLE STRING";class ew extends ev{fromBuffer(e){this.valueBlock.valueHexView=u.toUint8Array(e);try{this.valueBlock.value=y.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=y.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(y.FromUtf8String(e)),this.valueBlock.value=e}}ew.NAME="Utf8StringValueBlock";class eS extends ew{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}H.Utf8String=eS,eS.NAME="UTF8String";class e_ extends ev{fromBuffer(e){this.valueBlock.value=y.ToUtf16String(e),this.valueBlock.valueHexView=u.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(y.FromUtf16String(e))}}e_.NAME="BmpStringValueBlock";class eA extends e_{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}H.BmpString=eA,eA.NAME="BMPString";class ek extends ev{fromBuffer(e){let t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let n=0;n<t;n++){let t=new Uint8Array(v(e.charCodeAt(n),8));if(t.length>4)continue;let i=4-t.length;for(let e=t.length-1;e>=0;e--)r[4*n+e+i]=t[e]}this.valueBlock.value=e}}ek.NAME="UniversalStringValueBlock";class eE extends ek{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}H.UniversalString=eE,eE.NAME="UniversalString";class ex extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}H.NumericString=ex,ex.NAME="NumericString";class eP extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}H.PrintableString=eP,eP.NAME="PrintableString";class eC extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}H.TeletexString=eC,eC.NAME="TeletexString";class eT extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}H.VideotexString=eT,eT.NAME="VideotexString";class eO extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}H.IA5String=eO,eO.NAME="IA5String";class eR extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}H.GraphicString=eR,eR.NAME="GraphicString";class eB extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}H.VisibleString=eB,eB.NAME="VisibleString";class eN extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}H.GeneralString=eN,eN.NAME="GeneralString";class eI extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}H.CharacterString=eI,eI.NAME="CharacterString";class eU extends eB{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,u.toUint8Array(e)))}toBuffer(){let e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(null===t){this.error="Wrong input string for conversion";return}let r=parseInt(t[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){let e=Array(7);return e[0]=_(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=_(this.month,2),e[2]=_(this.day,2),e[3]=_(this.hour,2),e[4]=_(this.minute,2),e[5]=_(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}H.UTCTime=eU,eU.NAME="UTCTime";class eL extends eU{constructor(e={}){var t;super(e),null!==(t=this.millisecond)&&void 0!==t||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,n="",i="",a=0,o=0,s=0;if("Z"===e[e.length-1])n=e.substring(0,e.length-1),r=!0;else{if(isNaN(new Number(e[e.length-1]).valueOf()))throw Error("Wrong input string for conversion");n=e}if(r){if(-1!==n.indexOf("+")||-1!==n.indexOf("-"))throw Error("Wrong input string for conversion")}else{let e=1,t=n.indexOf("+"),r="";if(-1===t&&(t=n.indexOf("-"),e=-1),-1!==t){if(r=n.substring(t+1),n=n.substring(0,t),2!==r.length&&4!==r.length)throw Error("Wrong input string for conversion");let i=parseInt(r.substring(0,2),10);if(isNaN(i.valueOf()))throw Error("Wrong input string for conversion");if(o=e*i,4===r.length){if(isNaN((i=parseInt(r.substring(2,4),10)).valueOf()))throw Error("Wrong input string for conversion");s=e*i}}}let l=n.indexOf(".");if(-1===l&&(l=n.indexOf(",")),-1!==l){let e=new Number(`0${n.substring(l)}`);if(isNaN(e.valueOf()))throw Error("Wrong input string for conversion");a=e.valueOf(),i=n.substring(0,l)}else i=n;switch(!0){case 8===i.length:if(t=/(\d{4})(\d{2})(\d{2})/ig,-1!==l)throw Error("Wrong input string for conversion");break;case 10===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*a;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*a;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=1e3*a;this.millisecond=Math.floor(e)}break;default:throw Error("Wrong input string for conversion")}let u=t.exec(i);if(null===u)throw Error("Wrong input string for conversion");for(let e=1;e<u.length;e++)switch(e){case 1:this.year=parseInt(u[e],10);break;case 2:this.month=parseInt(u[e],10);break;case 3:this.day=parseInt(u[e],10);break;case 4:this.hour=parseInt(u[e],10)+o;break;case 5:this.minute=parseInt(u[e],10)+s;break;case 6:this.second=parseInt(u[e],10);break;default:throw Error("Wrong input string for conversion")}if(!1===r){let e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){let e=[];return e.push(_(this.year,4)),e.push(_(this.month,2)),e.push(_(this.day,2)),e.push(_(this.hour,2)),e.push(_(this.minute,2)),e.push(_(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(_(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}H.GeneralizedTime=eL,eL.NAME="GeneralizedTime";class eK extends eS{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}H.DATE=eK,eK.NAME="DATE";class eM extends eS{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}H.TimeOfDay=eM,eM.NAME="TimeOfDay";class ej extends eS{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}H.DateTime=ej,ej.NAME="DateTime";class eD extends eS{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}H.Duration=eD,eD.NAME="Duration";class eH extends eS{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}H.TIME=eH,eH.NAME="TIME";class e${constructor({name:e="",optional:t=!1}={}){this.name=e,this.optional=t}}class eq extends e${constructor({value:e=[],...t}={}){super(t),this.value=e}}class eV extends e${constructor({value:e=new e$,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class ez{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=u.toUint8Array(e)}constructor({data:e=B}={}){this.dataView=u.toUint8Array(e)}fromBER(e,t,r){let n=t+r;return this.dataView=u.toUint8Array(e).subarray(t,n),n}toBER(e){return this.dataView.slice().buffer}}function eF(e,t,r){if(r instanceof eq){for(let n of r.value)if(eF(e,t,n).verified)return{verified:!0,result:e};{let e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(T)&&(e.name=r.name),e}}if(r instanceof e$)return r.hasOwnProperty(T)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1||"idBlock"in r==!1||"fromBER"in r.idBlock==!1||"toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let n=r.idBlock.toBER(!1);if(0===n.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(n,0,n.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!("isHexOnly"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(O in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let n=r.idBlock.valueHexView,i=t.idBlock.valueHexView;if(n.length!==i.length)return{verified:!1,result:e};for(let t=0;t<n.length;t++)if(n[t]!==i[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(e[r.name]=t)),r instanceof H.Constructed){let n=0,i={verified:!1,result:{error:"Unknown error"}},a=r.valueBlock.value.length;if(a>0&&r.valueBlock.value[0]instanceof eV&&(a=t.valueBlock.value.length),0===a)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let o=0;o<a;o++)if(o-n>=t.valueBlock.value.length){if(!1===r.valueBlock.value[o].optional){let t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof eV){if(!1===(i=eF(e,t.valueBlock.value[o],r.valueBlock.value[0].value)).verified){if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),i;n++}if(T in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let n={};void 0===(n="local"in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e)[r.valueBlock.value[0].name]&&(n[r.valueBlock.value[0].name]=[]),n[r.valueBlock.value[0].name].push(t.valueBlock.value[o])}}else if(!1===(i=eF(e,t.valueBlock.value[o-n],r.valueBlock.value[o])).verified){if(!r.valueBlock.value[o].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),i;n++}if(!1===i.verified){let t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&O in t.valueBlock){let n=F(t.valueBlock.valueHexView);if(-1===n.offset){let t={verified:!1,result:n.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return eF(e,n.result,r.primitiveSchema)}return{verified:!0,result:e}}function eW(e,t){if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=F(u.toUint8Array(e));return -1===r.offset?{verified:!1,result:r.result}:eF(r.result,r.result,t)}(function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"})(a||(a={})),function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"}(o||(o={}));let eJ={fromASN:e=>e instanceof Z?null:e.valueBeforeDecodeView,toASN:e=>{if(null===e)return new Z;let t=W(e);if(t.result.error)throw Error(t.result.error);return t.result}},eG={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new es({value:+e})},eX={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new el({value:e})},eY={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new ei({valueHex:e})},eZ={fromASN:e=>e.valueBlock.toString(),toASN:e=>new ed({value:e})},eQ={fromASN:e=>e.valueBlock.value,toASN:e=>new ee({value:e})},e0={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new er({valueHex:e})};function e1(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}let e2=e1(eS),e8=e1(eA),e3=e1(eE),e4=e1(ex),e6=e1(eP),e5=e1(eC),e9=e1(eT),e7=e1(eO),te=e1(eR),tt=e1(eB),tr=e1(eN),tn=e1(eI),ti={fromASN:e=>e.toDate(),toASN:e=>new eU({valueDate:e})},ta={fromASN:e=>e.toDate(),toASN:e=>new eL({valueDate:e})},to={fromASN:()=>null,toASN:()=>new Z};function ts(e){switch(e){case o.Any:return eJ;case o.BitString:return eY;case o.BmpString:return e8;case o.Boolean:return eQ;case o.CharacterString:return tn;case o.Enumerated:return eX;case o.GeneralString:return tr;case o.GeneralizedTime:return ta;case o.GraphicString:return te;case o.IA5String:return e7;case o.Integer:return eG;case o.Null:return to;case o.NumericString:return e4;case o.ObjectIdentifier:return eZ;case o.OctetString:return e0;case o.PrintableString:return e6;case o.TeletexString:return e5;case o.UTCTime:return ti;case o.UniversalString:return e3;case o.Utf8String:return e2;case o.VideotexString:return e9;case o.VisibleString:return tt;default:return null}}function tl(e){return"function"==typeof e&&e.prototype?!!e.prototype.toASN&&!!e.prototype.fromASN||tl(e.prototype):!!(e&&"object"==typeof e&&"toASN"in e&&"fromASN"in e)}class tu{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){let r=this.items.get(e);if(!r)throw Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!r.schema)throw Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){let t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){let t={type:a.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(t,r),t.items=Object.assign({},t.items,r.items)),t}create(e,t){let r=this.items.get(e)||this.createDefault(e),n=[];for(let e in r.items){let i;let s=r.items[e],u=t?e:"";if("number"==typeof s.type){let e=o[s.type],t=l[e];if(!t)throw Error(`Cannot get ASN1 class by name '${e}'`);i=new t({name:u})}else tl(s.type)?i=new s.type().toSchema(u):s.optional?this.get(s.type).type===a.Choice?i=new e$({name:u}):(i=this.create(s.type,!1)).name=u:i=new e$({name:u});let c=!!s.optional||void 0!==s.defaultValue;if(s.repeated&&(i.name="",i=new("set"===s.repeated?ey:eg)({name:"",value:[new eV({name:u,value:i})]})),null!==s.context&&void 0!==s.context){if(s.implicit){if("number"==typeof s.type||tl(s.type)){let e=s.repeated?G:z;n.push(new e({name:u,optional:c,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);let e=!!s.repeated,t=e?i:this.get(s.type,!0).schema;t="valueBlock"in t?t.valueBlock.value:t.value,n.push(new G({name:e?"":u,optional:c,idBlock:{tagClass:3,tagNumber:s.context},value:t}))}}else n.push(new G({optional:c,idBlock:{tagClass:3,tagNumber:s.context},value:[i]}))}else i.optional=c,n.push(i)}switch(r.type){case a.Sequence:return new eg({value:n,name:""});case a.Set:return new ey({value:n,name:""});case a.Choice:return new eq({value:n,name:""});default:throw Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}}let tc=new tu,td=e=>t=>{let r;tc.has(t)?r=tc.get(t):(r=tc.createDefault(t),tc.set(t,r)),Object.assign(r,e)},th=e=>(t,r)=>{let n;tc.has(t.constructor)?n=tc.get(t.constructor):(n=tc.createDefault(t.constructor),tc.set(t.constructor,n));let i=Object.assign({},e);if("number"==typeof i.type&&!i.converter){let n=ts(e.type);if(!n)throw Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);i.converter=n}n.items[r]=i};class tf extends Error{constructor(){super(...arguments),this.schemas=[]}}class tp{static parse(e,t){let r=W(e);if(r.result.error)throw Error(r.result.error);return this.fromASN(r.result,t)}static fromASN(e,t){var r;try{if(tl(t))return new t().fromASN(e);let n=tc.get(t);tc.cache(t);let i=n.schema;if(e.constructor===G&&n.type!==a.Choice)for(let t in i=new G({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:n.schema.valueBlock.value}),n.items)delete e[t];let s=eF({},e,i);if(!s.verified)throw new tf(`Data does not match to ${t.name} ASN1 schema. ${s.result.error}`);let u=new t;if(function e(t){var r;if(t){let n=Object.getPrototypeOf(t);return(null===(r=null==n?void 0:n.prototype)||void 0===r?void 0:r.constructor)===Array||e(n)}return!1}(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let r=n.itemType;if("number"!=typeof r)return t.from(e.valueBlock.value,e=>this.fromASN(e,r));{let n=ts(r);if(!n)throw Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,e=>n.fromASN(e))}}for(let e in n.items){let t=s.result[e];if(!t)continue;let i=n.items[e],a=i.type;if("number"==typeof a||tl(a)){let n=null!==(r=i.converter)&&void 0!==r?r:tl(a)?new a:null;if(!n)throw Error("Converter is empty");if(i.repeated){if(i.implicit){let r=new("sequence"===i.repeated?eg:ey);r.valueBlock=t.valueBlock;let a=W(r.toBER(!1));if(-1===a.offset)throw Error(`Cannot parse the child item. ${a.result.error}`);if(!("value"in a.result.valueBlock&&Array.isArray(a.result.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let o=a.result.valueBlock.value;u[e]=Array.from(o,e=>n.fromASN(e))}else u[e]=Array.from(t,e=>n.fromASN(e))}else{let r=t;if(i.implicit){let e;if(tl(a))e=new a().toSchema("");else{let t=o[a],r=l[t];if(!r)throw Error(`Cannot get '${t}' class from asn1js module`);e=new r}e.valueBlock=r.valueBlock,r=W(e.toBER(!1)).result}u[e]=n.fromASN(r)}}else if(i.repeated){if(!Array.isArray(t))throw Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");u[e]=Array.from(t,e=>this.fromASN(e,a))}else u[e]=this.fromASN(t,a)}return u}catch(e){throw e instanceof tf&&e.schemas.push(t.name),e}}}class tg{static serialize(e){return e instanceof $?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){let t;if(e&&"object"==typeof e&&tl(e))return e.toASN();if(!(e&&"object"==typeof e))throw TypeError("Parameter 1 should be type of Object.");let r=e.constructor,n=tc.get(r);tc.cache(r);let i=[];if(n.itemType){if(!Array.isArray(e))throw TypeError("Parameter 1 should be type of Array.");if("number"==typeof n.itemType){let t=ts(n.itemType);if(!t)throw Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);i=e.map(e=>t.toASN(e))}else i=e.map(e=>this.toAsnItem({type:n.itemType},"[]",r,e))}else for(let t in n.items){let a=n.items[t],o=e[t];if(void 0===o||a.defaultValue===o||"object"==typeof a.defaultValue&&"object"==typeof o&&function(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),n=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==n[t])return!1;return!0}(this.serialize(a.defaultValue),this.serialize(o)))continue;let s=tg.toAsnItem(a,t,r,o);if("number"==typeof a.context){if(a.implicit){if(!a.repeated&&("number"==typeof a.type||tl(a.type))){let e={};e.valueHex=s instanceof Z?s.valueBeforeDecodeView:s.valueBlock.toBER(),i.push(new z({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...e}))}else i.push(new G({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:s.valueBlock.value}))}else i.push(new G({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[s]}))}else a.repeated?i=i.concat(s):i.push(s)}switch(n.type){case a.Sequence:t=new eg({value:i});break;case a.Set:t=new ey({value:i});break;case a.Choice:if(!i[0])throw Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);t=i[0]}return t}static toAsnItem(e,t,r,n){let i;if("number"==typeof e.type){let a=e.converter;if(!a)throw Error(`Property '${t}' doesn't have converter for type ${o[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(n))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(n,e=>a.toASN(e));i=new("sequence"===e.repeated?eg:ey)({value:t})}else i=a.toASN(n)}else if(e.repeated){if(!Array.isArray(n))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(n,e=>this.toASN(e));i=new("sequence"===e.repeated?eg:ey)({value:t})}else i=this.toASN(n);return i}}class ty{static serialize(e){return tg.serialize(e)}static parse(e,t){return tp.parse(e,t)}static toString(e){let t=W(u.isBufferSource(e)?u.toArrayBuffer(e):ty.serialize(e));if(-1===t.offset)throw Error(`Cannot decode ASN.1 data. ${t.result.error}`);return t.result.toString()}}function tm(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;class tb extends Error{constructor(e,t){super(t?`${e}. See the inner exception for more details.`:e),this.message=e,this.innerError=t}}class tv extends tb{constructor(e,t,r){super(t,r),this.schema=e}}class tw extends tv{constructor(e,t,r){super(e,`JSON doesn't match to '${e.target.name}' schema. ${t}`,r)}}class tS extends tb{}class t_ extends tb{constructor(e,t,r){super(`Cannot serialize by '${e}' schema. ${t}`,r),this.schemaName=e}}class tA extends tw{constructor(e,t,r={}){super(e,"Some keys doesn't match to schema"),this.keys=t,this.errors=r}}function tk(e,t){if(!function(e,t){switch(t){case s.Boolean:return"boolean"==typeof e;case s.Number:return"number"==typeof e;case s.String:return"string"==typeof e}return!0}(e,t))throw TypeError(`Value must be ${s[t]}`)}function tE(e){return e&&e.prototype?!!e.prototype.toJSON&&!!e.prototype.fromJSON||tE(e.prototype):!!(e&&e.toJSON&&e.fromJSON)}!function(e){e[e.Any=0]="Any",e[e.Boolean=1]="Boolean",e[e.Number=2]="Number",e[e.String=3]="String"}(s||(s={}));class tx{constructor(){this.items=new Map}has(e){return this.items.has(e)||!!this.findParentSchema(e)}get(e){let t=this.items.get(e)||this.findParentSchema(e);if(!t)throw Error("Cannot get schema for current target");return t}create(e){let t={names:{}},r=this.findParentSchema(e);if(r)for(let e in Object.assign(t,r),t.names={},r.names)t.names[e]=Object.assign({},r.names[e]);return t.target=e,t}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=e.__proto__;return t?this.items.get(t)||this.findParentSchema(t):null}}let tP="default",tC=new tx;class tT{constructor(e){this.pattern=new RegExp(e)}validate(e){let t=new RegExp(this.pattern.source,this.pattern.flags);if("string"!=typeof e)throw new tS("Incoming value must be string");if(!t.exec(e))throw new tS(`Value doesn't match to pattern '${t.toString()}'`)}}class tO{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(tk(e,s.Number),!(this.min<=e&&e<=this.max)){let e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new tS(`Value doesn't match to diapason [${e},${t}]`)}}}class tR{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(tk(e,s.Number),!(this.min<e&&e<this.max)){let e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new tS(`Value doesn't match to diapason (${e},${t})`)}}}class tB{constructor(e,t,r){this.length=e,this.minLength=t,this.maxLength=r}validate(e){if(void 0!==this.length){if(e.length!==this.length)throw new tS(`Value length must be exactly ${this.length}.`);return}if(void 0!==this.minLength&&e.length<this.minLength)throw new tS(`Value length must be more than ${this.minLength}.`);if(void 0!==this.maxLength&&e.length>this.maxLength)throw new tS(`Value length must be less than ${this.maxLength}.`)}}class tN{constructor(e){this.enumeration=e}validate(e){if(tk(e,s.String),!this.enumeration.includes(e))throw new tS(`Value must be one of ${this.enumeration.map(e=>`'${e}'`).join(", ")}`)}}class tI{static checkValues(e,t){for(let r of Array.isArray(e)?e:[e])for(let n of t.validations)n instanceof tB&&t.repeated?n.validate(e):n.validate(r)}static checkTypes(e,t){if(t.repeated&&!Array.isArray(e))throw TypeError("Value must be Array");if("number"==typeof t.type)for(let r of Array.isArray(e)?e:[e])tk(r,t.type)}static getSchemaByName(e,t=tP){return{...e.names[tP],...e.names[t]}}}class tU extends tI{static serialize(e,t,r,n){return JSON.stringify(this.toJSON(e,t),r,n)}static toJSON(e,t={}){let r;let n=t.targetSchema,i=t.schemaName||tP;if(tE(e))return e.toJSON();if(Array.isArray(e))for(let n of(r=[],e))r.push(this.toJSON(n,t));else if("object"==typeof e){if(n&&!tC.has(n))throw new tb("Cannot get schema for `targetSchema` param");if(n=n||e.constructor,tC.has(n)){let t=tC.get(n);r={};let a=this.getSchemaByName(t,i);for(let o in a)try{let t;let s=a[o],l=e[o];if(s.optional&&void 0===l||void 0!==s.defaultValue&&l===s.defaultValue)continue;if(!s.optional&&void 0===l)throw new t_(n.name,`Property '${o}' is required.`);t="number"==typeof s.type?s.converter?s.repeated?l.map(t=>s.converter.toJSON(t,e)):s.converter.toJSON(l,e):l:s.repeated?l.map(e=>this.toJSON(e,{schemaName:i})):this.toJSON(l,{schemaName:i}),this.checkTypes(t,s),this.checkValues(t,s),r[s.name||o]=t}catch(e){if(e instanceof t_)throw e;throw new t_(t.target.name,`Property '${o}' is wrong. ${e.message}`,e)}}else for(let t in r={},e)r[t]=this.toJSON(e[t],{schemaName:i})}else r=e;return r}}class tL extends tI{static parse(e,t){let r=JSON.parse(e);return this.fromJSON(r,t)}static fromJSON(e,t){let r=t.targetSchema,n=t.schemaName||tP,i=new r;if(tE(i))return i.fromJSON(e);let a=tC.get(r),o=this.getSchemaByName(a,n),s={};for(let r in t.strictProperty&&!Array.isArray(e)&&tL.checkStrictProperty(e,o,a),o)try{let s=o[r],l=s.name||r,u=e[l];if(void 0===u&&(s.optional||void 0!==s.defaultValue))continue;if(!s.optional&&void 0===u)throw new tw(a,`Property '${l}' is required.`);if(this.checkTypes(u,s),this.checkValues(u,s),"number"==typeof s.type)s.converter?s.repeated?i[r]=u.map(e=>s.converter.fromJSON(e,i)):i[r]=s.converter.fromJSON(u,i):i[r]=u;else{let e={...t,targetSchema:s.type,schemaName:n};s.repeated?i[r]=u.map(t=>this.fromJSON(t,e)):i[r]=this.fromJSON(u,e)}}catch(e){if(e instanceof tw||(e=new tw(a,`Property '${r}' is wrong. ${e.message}`,e)),t.strictAllKeys)s[r]=e;else throw e}let l=Object.keys(s);if(l.length)throw new tA(a,l,s);return i}static checkStrictProperty(e,t,r){let n=Object.keys(e),i=Object.keys(t),a=[];for(let e of n)-1===i.indexOf(e)&&a.push(e);if(a.length)throw new tA(r,a)}}let tK=(e={})=>(t,r)=>{let n;let i=`Cannot set type for ${r} property of ${t.constructor.name} schema`;tC.has(t.constructor)?(n=tC.get(t.constructor)).target!==t.constructor&&(n=tC.create(t.constructor),tC.set(t.constructor,n)):(n=tC.create(t.constructor),tC.set(t.constructor,n));let a=Object.assign({type:s.Any,validations:[]},e);if(a.validations=function(e){let t=[];return e.pattern&&t.push(new tT(e.pattern)),(e.type===s.Number||e.type===s.Any)&&((void 0!==e.minInclusive||void 0!==e.maxInclusive)&&t.push(new tO(e.minInclusive,e.maxInclusive)),(void 0!==e.minExclusive||void 0!==e.maxExclusive)&&t.push(new tR(e.minExclusive,e.maxExclusive)),void 0!==e.enumeration&&t.push(new tN(e.enumeration))),(e.type===s.String||e.repeated||e.type===s.Any)&&(void 0!==e.length||void 0!==e.minLength||void 0!==e.maxLength)&&t.push(new tB(e.length,e.minLength,e.maxLength)),t}(a),"number"!=typeof a.type&&!tC.has(a.type)&&!tE(a.type))throw Error(`${i}. Assigning type doesn't have schema.`);for(let t of Array.isArray(e.schema)?e.schema:[e.schema||tP])n.names[t]||(n.names[t]={}),n.names[t][r]=a};class tM extends Error{}class tj extends tM{}class tD extends tM{constructor(e){super(`Unsupported operation: ${e?`${e}`:""}`)}}class tH extends tM{}class t$ extends tM{constructor(e){super(`${e}: Missing required property`)}}class tq{async digest(...e){return this.checkDigest.apply(this,e),this.onDigest.apply(this,e)}checkDigest(e,t){this.checkAlgorithmName(e)}async onDigest(e,t){throw new tD("digest")}async generateKey(...e){return this.checkGenerateKey.apply(this,e),this.onGenerateKey.apply(this,e)}checkGenerateKey(e,t,r,...n){let i;if(this.checkAlgorithmName(e),this.checkGenerateKeyParams(e),!(r&&r.length))throw TypeError("Usages cannot be empty when creating a key.");i=Array.isArray(this.usages)?this.usages:this.usages.privateKey.concat(this.usages.publicKey),this.checkKeyUsages(r,i)}checkGenerateKeyParams(e){}async onGenerateKey(e,t,r,...n){throw new tD("generateKey")}async sign(...e){return this.checkSign.apply(this,e),this.onSign.apply(this,e)}checkSign(e,t,r,...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"sign")}async onSign(e,t,r,...n){throw new tD("sign")}async verify(...e){return this.checkVerify.apply(this,e),this.onVerify.apply(this,e)}checkVerify(e,t,r,n,...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"verify")}async onVerify(e,t,r,n,...i){throw new tD("verify")}async encrypt(...e){return this.checkEncrypt.apply(this,e),this.onEncrypt.apply(this,e)}checkEncrypt(e,t,r,n={},...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,n.keyUsage?"encrypt":void 0)}async onEncrypt(e,t,r,...n){throw new tD("encrypt")}async decrypt(...e){return this.checkDecrypt.apply(this,e),this.onDecrypt.apply(this,e)}checkDecrypt(e,t,r,n={},...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,n.keyUsage?"decrypt":void 0)}async onDecrypt(e,t,r,...n){throw new tD("decrypt")}async deriveBits(...e){return this.checkDeriveBits.apply(this,e),this.onDeriveBits.apply(this,e)}checkDeriveBits(e,t,r,n={},...i){if(this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,n.keyUsage?"deriveBits":void 0),r%8!=0)throw new tH("length: Is not multiple of 8")}async onDeriveBits(e,t,r,...n){throw new tD("deriveBits")}async exportKey(...e){return this.checkExportKey.apply(this,e),this.onExportKey.apply(this,e)}checkExportKey(e,t,...r){if(this.checkKeyFormat(e),this.checkCryptoKey(t),!t.extractable)throw new tM("key: Is not extractable")}async onExportKey(e,t,...r){throw new tD("exportKey")}async importKey(...e){return this.checkImportKey.apply(this,e),this.onImportKey.apply(this,e)}checkImportKey(e,t,r,n,i,...a){this.checkKeyFormat(e),this.checkKeyData(e,t),this.checkAlgorithmName(r),this.checkImportParams(r),Array.isArray(this.usages)&&this.checkKeyUsages(i,this.usages)}async onImportKey(e,t,r,n,i,...a){throw new tD("importKey")}checkAlgorithmName(e){if(e.name.toLowerCase()!==this.name.toLowerCase())throw new tj("Unrecognized name")}checkAlgorithmParams(e){}checkDerivedKeyParams(e){}checkKeyUsages(e,t){for(let r of e)if(-1===t.indexOf(r))throw TypeError("Cannot create a key using the specified key usages")}checkCryptoKey(e,t){if(this.checkAlgorithmName(e.algorithm),t&&-1===e.usages.indexOf(t))throw new tM("key does not match that of operation")}checkRequiredProperty(e,t){if(!(t in e))throw new t$(t)}checkHashAlgorithm(e,t){for(let r of t)if(r.toLowerCase()===e.name.toLowerCase())return;throw new tH(`hash: Must be one of ${t.join(", ")}`)}checkImportParams(e){}checkKeyFormat(e){switch(e){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'")}}checkKeyData(e,t){if(!t)throw TypeError("keyData: Cannot be empty on empty on key importing");if("jwk"===e){if(!("object"==typeof t&&"kty"in t))throw TypeError("keyData: Is not JsonWebToken")}else if(!u.isBufferSource(t))throw TypeError("keyData: Is not ArrayBufferView or ArrayBuffer")}prepareData(e){return u.toArrayBuffer(e)}}class tV extends tq{checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");switch(e.length){case 128:case 192:case 256:break;default:throw TypeError("length: Must be 128, 192, or 256")}}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class tz extends tV{constructor(){super(...arguments),this.name="AES-CBC",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.iv.byteLength)throw TypeError("iv: Must have length 16 bytes")}}class tF extends tV{constructor(){super(...arguments),this.name="AES-CMAC",this.usages=["sign","verify"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new tH("length: Must be more than 0")}}class tW extends tV{constructor(){super(...arguments),this.name="AES-CTR",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"counter"),!(e.counter instanceof ArrayBuffer||ArrayBuffer.isView(e.counter)))throw TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.counter.byteLength)throw TypeError("iv: Must have length 16 bytes");if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new tH("length: Must be more than 0")}}class tJ extends tV{constructor(){super(...arguments),this.name="AES-ECB",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}}class tG extends tV{constructor(){super(...arguments),this.name="AES-GCM",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){var t;if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength<1)throw new tH("iv: Must have length more than 0 and less than 2^64 - 1");switch(null!==(t=e.tagLength)&&void 0!==t||(e.tagLength=128),e.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new tH("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128")}}}class tX extends tV{constructor(){super(...arguments),this.name="AES-KW",this.usages=["wrapKey","unwrapKey"]}}class tY extends tq{constructor(){super(...arguments),this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.ivSize){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength!==this.ivSize)throw TypeError(`iv: Must have length ${this.ivSize} bytes`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");if(e.length!==this.keySizeBits)throw new tH(`algorithm.length: Must be ${this.keySizeBits}`)}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class tZ extends tq{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=y.ToBase64(e.publicExponent);if(!("Aw=="===t||"AQAB"===t))throw TypeError("publicExponent: Must be [3] or [1,0,1]");if(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength%8||e.modulusLength<256||e.modulusLength>16384)throw TypeError("The modulus length must be a multiple of 8 bits and >= 256 and <= 16384")}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class tQ extends tZ{constructor(){super(...arguments),this.name="RSASSA-PKCS1-v1_5",this.usages={privateKey:["sign"],publicKey:["verify"]}}}class t0 extends tZ{constructor(){super(...arguments),this.name="RSA-PSS",this.usages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"saltLength"),"number"!=typeof e.saltLength)throw TypeError("saltLength: Is not a Number");if(e.saltLength<0)throw RangeError("saltLength: Must be positive number")}}class t1 extends tZ{constructor(){super(...arguments),this.name="RSA-OAEP",this.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]}}checkAlgorithmParams(e){if(e.label&&!(e.label instanceof ArrayBuffer||ArrayBuffer.isView(e.label)))throw TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'")}}class t2 extends tq{checkGenerateKeyParams(e){this.checkRequiredProperty(e,"namedCurve"),this.checkNamedCurve(e.namedCurve)}checkNamedCurve(e){for(let t of this.namedCurves)if(t.toLowerCase()===e.toLowerCase())return;throw new tH(`namedCurve: Must be one of ${this.namedCurves.join(", ")}`)}}class t8 extends t2{constructor(){super(...arguments),this.name="ECDSA",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}let t3=["secret","private","public"];class t4{static create(e,t,r,n){let i=new this;return i.algorithm=e,i.type=t,i.extractable=r,i.usages=n,i}static isKeyType(e){return -1!==t3.indexOf(e)}get[Symbol.toStringTag](){return"CryptoKey"}}class t6 extends t2{constructor(){super(...arguments),this.name="ECDH",this.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"public"),!(e.public instanceof t4))throw TypeError("public: Is not a CryptoKey");if("public"!==e.public.type)throw new tH("public: Is not a public key");if(e.public.algorithm.name!==this.name)throw new tH(`public: Is not ${this.name} key`)}}class t5 extends t6{constructor(){super(...arguments),this.name="ECDH-ES",this.namedCurves=["X25519","X448"]}}class t9 extends t2{constructor(){super(...arguments),this.name="EdDSA",this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["Ed25519","Ed448"]}}let t7=class{constructor(e){e&&(this.value=e)}};tm([th({type:o.ObjectIdentifier})],t7.prototype,"value",void 0),t7=tm([td({type:a.Choice})],t7);class re{constructor(e){Object.assign(this,e)}}tm([th({type:o.ObjectIdentifier})],re.prototype,"algorithm",void 0),tm([th({type:o.Any,optional:!0})],re.prototype,"parameters",void 0);class rt{constructor(){this.version=0,this.privateKeyAlgorithm=new re,this.privateKey=new ArrayBuffer(0)}}tm([th({type:o.Integer})],rt.prototype,"version",void 0),tm([th({type:re})],rt.prototype,"privateKeyAlgorithm",void 0),tm([th({type:o.OctetString})],rt.prototype,"privateKey",void 0),tm([th({type:o.Any,optional:!0})],rt.prototype,"attributes",void 0);class rr{constructor(){this.publicKeyAlgorithm=new re,this.publicKey=new ArrayBuffer(0)}}tm([th({type:re})],rr.prototype,"publicKeyAlgorithm",void 0),tm([th({type:o.BitString})],rr.prototype,"publicKey",void 0);let rn={fromJSON:e=>y.FromBase64Url(e),toJSON:e=>y.ToBase64Url(new Uint8Array(e))},ri={fromASN:e=>new Uint8Array(e.valueBlock.valueHex)[0]?e.valueBlock.valueHex:e.valueBlock.valueHex.slice(1),toASN:e=>new es({valueHex:new Uint8Array(e)[0]>127?m(new Uint8Array([0]).buffer,e):e})};class ra{constructor(){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0)}}tm([th({type:o.Integer,converter:eG})],ra.prototype,"version",void 0),tm([th({type:o.Integer,converter:ri}),tK({name:"n",converter:rn})],ra.prototype,"modulus",void 0),tm([th({type:o.Integer,converter:ri}),tK({name:"e",converter:rn})],ra.prototype,"publicExponent",void 0),tm([th({type:o.Integer,converter:ri}),tK({name:"d",converter:rn})],ra.prototype,"privateExponent",void 0),tm([th({type:o.Integer,converter:ri}),tK({name:"p",converter:rn})],ra.prototype,"prime1",void 0),tm([th({type:o.Integer,converter:ri}),tK({name:"q",converter:rn})],ra.prototype,"prime2",void 0),tm([th({type:o.Integer,converter:ri}),tK({name:"dp",converter:rn})],ra.prototype,"exponent1",void 0),tm([th({type:o.Integer,converter:ri}),tK({name:"dq",converter:rn})],ra.prototype,"exponent2",void 0),tm([th({type:o.Integer,converter:ri}),tK({name:"qi",converter:rn})],ra.prototype,"coefficient",void 0),tm([th({type:o.Any,optional:!0})],ra.prototype,"otherPrimeInfos",void 0);class ro{constructor(){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0)}}tm([th({type:o.Integer,converter:ri}),tK({name:"n",converter:rn})],ro.prototype,"modulus",void 0),tm([th({type:o.Integer,converter:ri}),tK({name:"e",converter:rn})],ro.prototype,"publicExponent",void 0);let rs=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){let e=new Uint8Array(this.value);if(4!==e[0])throw new tM("Wrong ECPoint. Current version supports only Uncompressed (0x04) point");let t=(e=new Uint8Array(this.value.slice(1))).length/2;return{x:y.ToBase64Url(e.buffer.slice(0,0+t)),y:y.ToBase64Url(e.buffer.slice(0+t,0+t+t))}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");if(!("y"in e))throw Error("y: Missing required property");let t=y.FromBase64Url(e.x),r=y.FromBase64Url(e.y),n=m(new Uint8Array([4]).buffer,t,r);return this.value=new Uint8Array(n).buffer,this}};tm([th({type:o.OctetString})],rs.prototype,"value",void 0),rs=tm([td({type:a.Choice})],rs);class rl{constructor(){this.version=1,this.privateKey=new ArrayBuffer(0)}fromJSON(e){if(!("d"in e))throw Error("d: Missing required property");if(this.privateKey=y.FromBase64Url(e.d),"x"in e){let t=new rs;t.fromJSON(e);let r=tg.toASN(t);"valueHex"in r.valueBlock&&(this.publicKey=r.valueBlock.valueHex)}return this}toJSON(){let e={};return e.d=y.ToBase64Url(this.privateKey),this.publicKey&&Object.assign(e,new rs(this.publicKey).toJSON()),e}}tm([th({type:o.Integer,converter:eG})],rl.prototype,"version",void 0),tm([th({type:o.OctetString})],rl.prototype,"privateKey",void 0),tm([th({context:0,type:o.Any,optional:!0})],rl.prototype,"parameters",void 0),tm([th({context:1,type:o.BitString,optional:!0})],rl.prototype,"publicKey",void 0);let ru={fromASN:e=>{let t=new Uint8Array(e.valueBlock.valueHex);return 0===t[0]?t.buffer.slice(1):t.buffer},toASN:e=>{let t=new Uint8Array(e);if(t[0]>127){let e=new Uint8Array(t.length+1);return e.set(t,1),new es({valueHex:e.buffer})}return new es({valueHex:e})}};var rc=Object.freeze({__proto__:null,AsnIntegerWithoutPaddingConverter:ru});class rd{static decodePoint(e,t){let r=u.toUint8Array(e);if(0===r.length||4!==r[0])throw Error("Only uncompressed point format supported");let n=(r.length-1)/2;if(n!==Math.ceil(t/8))throw Error("Point does not match field size");return{x:r.slice(1,n+1),y:r.slice(n+1,n+1+n)}}static encodePoint(e,t){let r=Math.ceil(t/8);if(e.x.byteLength!==r||e.y.byteLength!==r)throw Error("X,Y coordinates don't match point size criteria");let n=u.toUint8Array(e.x),i=u.toUint8Array(e.y),a=new Uint8Array(2*r+1);return a[0]=4,a.set(n,1),a.set(i,r+1),a}static getSize(e){return Math.ceil(e/8)}static encodeSignature(e,t){let r=this.getSize(t),n=u.toUint8Array(e.r),i=u.toUint8Array(e.s),a=new Uint8Array(2*r);return a.set(this.padStart(n,r)),a.set(this.padStart(i,r),r),a}static decodeSignature(e,t){let r=this.getSize(t),n=u.toUint8Array(e);if(n.length!==2*r)throw Error("Incorrect size of the signature");let i=n.slice(0,r),a=n.slice(r);return{r:this.trimStart(i),s:this.trimStart(a)}}static trimStart(e){let t=0;for(;t<e.length-1&&0===e[t];)t++;return 0===t?e:e.slice(t,e.length)}static padStart(e,t){if(t===e.length)return e;let r=new Uint8Array(t);return r.set(e,t-e.length),r}}class rh{constructor(){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0)}static fromWebCryptoSignature(e){let t=e.byteLength/2,r=rd.decodeSignature(e,8*t),n=new rh;return n.r=u.toArrayBuffer(r.r),n.s=u.toArrayBuffer(r.s),n}toWebCryptoSignature(e){if(!e){let t=Math.max(this.r.byteLength,this.s.byteLength);e=t<=32?256:t<=48?384:521}return rd.encodeSignature(this,e).buffer}}tm([th({type:o.Integer,converter:ru})],rh.prototype,"r",void 0),tm([th({type:o.Integer,converter:ru})],rh.prototype,"s",void 0);class rf extends rt{}tm([th({context:1,implicit:!0,type:o.BitString,optional:!0})],rf.prototype,"publicKey",void 0);let rp=class{constructor(){this.value=new ArrayBuffer(0)}fromJSON(e){if(!e.d)throw Error("d: Missing required property");return this.value=y.FromBase64Url(e.d),this}toJSON(){return{d:y.ToBase64Url(this.value)}}};tm([th({type:o.OctetString})],rp.prototype,"value",void 0),rp=tm([td({type:a.Choice})],rp);let rg=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){return{x:y.ToBase64Url(this.value)}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");return this.value=y.FromBase64Url(e.x),this}};tm([th({type:o.BitString})],rg.prototype,"value",void 0),rg=tm([td({type:a.Choice})],rg);let ry=class{};tm([th({type:o.OctetString}),tK({type:s.String,converter:rn})],ry.prototype,"d",void 0),ry=tm([td({type:a.Choice})],ry);let rm="1.2.840.10045.3.1.7",rb="1.3.132.0",rv=`${rb}.34`,rw=`${rb}.35`,rS=`${rb}.10`,r_="1.3.36.3.3.2.8.1.1",rA=`${r_}.1`,rk=`${r_}.2`,rE=`${r_}.3`,rx=`${r_}.4`,rP=`${r_}.5`,rC=`${r_}.6`,rT=`${r_}.7`,rO=`${r_}.8`,rR=`${r_}.9`,rB=`${r_}.10`,rN=`${r_}.11`,rI=`${r_}.12`,rU=`${r_}.13`,rL=`${r_}.14`;var rK=Object.freeze({__proto__:null,AlgorithmIdentifier:re,get CurvePrivateKey(){return ry},EcDsaSignature:rh,EcPrivateKey:rl,get EcPublicKey(){return rs},get EdPrivateKey(){return rp},get EdPublicKey(){return rg},get ObjectIdentifier(){return t7},OneAsymmetricKey:rf,PrivateKeyInfo:rt,PublicKeyInfo:rr,RsaPrivateKey:ra,RsaPublicKey:ro,converters:rc,idBrainpoolP160r1:rA,idBrainpoolP160t1:rk,idBrainpoolP192r1:rE,idBrainpoolP192t1:rx,idBrainpoolP224r1:rP,idBrainpoolP224t1:rC,idBrainpoolP256r1:rT,idBrainpoolP256t1:rO,idBrainpoolP320r1:rR,idBrainpoolP320t1:rB,idBrainpoolP384r1:rN,idBrainpoolP384t1:rI,idBrainpoolP512r1:rU,idBrainpoolP512t1:rL,idEd25519:"1.3.101.112",idEd448:"1.3.101.113",idEllipticCurve:rb,idSecp256k1:rS,idSecp256r1:rm,idSecp384r1:rv,idSecp521r1:rw,idVersionOne:r_,idX25519:"1.3.101.110",idX448:"1.3.101.111"});class rM{constructor(){}static register(e){let t=new t7;t.value=e.id;let r=ty.serialize(t);this.items.push({...e,raw:r}),this.names.push(e.name)}static find(e){for(let t of(e=e.toUpperCase(),this.items))if(t.name.toUpperCase()===e||t.id.toUpperCase()===e)return t;return null}static get(e){let t=this.find(e);if(!t)throw Error(`Unsupported EC named curve '${e}'`);return t}}rM.items=[],rM.names=[],rM.register({name:"P-256",id:rm,size:256}),rM.register({name:"P-384",id:rv,size:384}),rM.register({name:"P-521",id:rw,size:521}),rM.register({name:"K-256",id:rS,size:256}),rM.register({name:"brainpoolP160r1",id:rA,size:160}),rM.register({name:"brainpoolP160t1",id:rk,size:160}),rM.register({name:"brainpoolP192r1",id:rE,size:192}),rM.register({name:"brainpoolP192t1",id:rx,size:192}),rM.register({name:"brainpoolP224r1",id:rP,size:224}),rM.register({name:"brainpoolP224t1",id:rC,size:224}),rM.register({name:"brainpoolP256r1",id:rT,size:256}),rM.register({name:"brainpoolP256t1",id:rO,size:256}),rM.register({name:"brainpoolP320r1",id:rR,size:320}),rM.register({name:"brainpoolP320t1",id:rB,size:320}),rM.register({name:"brainpoolP384r1",id:rN,size:384}),rM.register({name:"brainpoolP384t1",id:rI,size:384}),rM.register({name:"brainpoolP512r1",id:rU,size:512}),rM.register({name:"brainpoolP512t1",id:rL,size:512});class rj extends tq{constructor(){super(...arguments),this.name="HMAC",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["sign","verify"]}getDefaultLength(e){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":return 512;default:throw Error(`Unknown algorithm name '${e}'`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),"length"in e){if("number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw RangeError("length: Number is out of range")}}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class rD extends tq{constructor(){super(...arguments),this.name="PBKDF2",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveBits","deriveKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!(e.salt instanceof ArrayBuffer||ArrayBuffer.isView(e.salt)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(e,"iterations"),"number"!=typeof e.iterations)throw TypeError("iterations: Is not a Number");if(e.iterations<1)throw TypeError("iterations: Is less than 1")}checkImportKey(e,t,r,n,i,...a){if(super.checkImportKey(e,t,r,n,i,...a),n)throw SyntaxError("extractable: Must be 'false'")}}class rH extends tq{constructor(){super(...arguments),this.name="HKDF",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveKey","deriveBits"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!u.isBufferSource(e.salt)||(this.checkRequiredProperty(e,"info"),!u.isBufferSource(e.info)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'")}checkImportKey(e,t,r,n,i,...a){if(super.checkImportKey(e,t,r,n,i,...a),n)throw SyntaxError("extractable: Must be 'false'")}}class r$ extends tq{constructor(){super(...arguments),this.usages=[],this.defaultLength=0}digest(...e){return e[0]={length:this.defaultLength,...e[0]},super.digest.apply(this,e)}checkDigest(e,t){super.checkDigest(e,t);let r=e.length||0;if("number"!=typeof r)throw TypeError("length: Is not a Number");if(r<0)throw TypeError("length: Is negative")}}class rq extends r${constructor(){super(...arguments),this.name="shake128",this.defaultLength=16}}class rV extends r${constructor(){super(...arguments),this.name="shake256",this.defaultLength=32}}class rz{get[Symbol.toStringTag](){return"Crypto"}randomUUID(){let e=this.getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=y.ToHex(e).toLowerCase();return`${t.substring(0,8)}-${t.substring(8,12)}-${t.substring(12,16)}-${t.substring(16,20)}-${t.substring(20)}`}}class rF{constructor(){this.items={}}get(e){return this.items[e.toLowerCase()]||null}set(e){this.items[e.name.toLowerCase()]=e}removeAt(e){let t=this.get(e.toLowerCase());return t&&delete this.items[e],t}has(e){return!!this.get(e)}get length(){return Object.keys(this.items).length}get algorithms(){let e=[];for(let t in this.items){let r=this.items[t];e.push(r.name)}return e.sort()}}let rW={jwk:["private","public","secret"],pkcs8:["private"],spki:["public"],raw:["secret","public"]},rJ=["pkcs8","spki","raw"];class rG{constructor(){this.providers=new rF}static isHashedAlgorithm(e){return!!e&&"object"==typeof e&&"name"in e&&"hash"in e}get[Symbol.toStringTag](){return"SubtleCrypto"}async digest(...e){this.checkRequiredArguments(e,2,"digest");let[t,r,...n]=e,i=this.prepareAlgorithm(t),a=u.toArrayBuffer(r),o=this.getProvider(i.name);return await o.digest(i,a,...n)}async generateKey(...e){this.checkRequiredArguments(e,3,"generateKey");let[t,r,n,...i]=e,a=this.prepareAlgorithm(t),o=this.getProvider(a.name);return await o.generateKey({...a,name:o.name},r,n,...i)}async sign(...e){this.checkRequiredArguments(e,3,"sign");let[t,r,n,...i]=e;this.checkCryptoKey(r);let a=this.prepareAlgorithm(t),o=u.toArrayBuffer(n),s=this.getProvider(a.name);return await s.sign({...a,name:s.name},r,o,...i)}async verify(...e){this.checkRequiredArguments(e,4,"verify");let[t,r,n,i,...a]=e;this.checkCryptoKey(r);let o=this.prepareAlgorithm(t),s=u.toArrayBuffer(i),l=u.toArrayBuffer(n),c=this.getProvider(o.name);return await c.verify({...o,name:c.name},r,l,s,...a)}async encrypt(...e){this.checkRequiredArguments(e,3,"encrypt");let[t,r,n,...i]=e;this.checkCryptoKey(r);let a=this.prepareAlgorithm(t),o=u.toArrayBuffer(n),s=this.getProvider(a.name);return await s.encrypt({...a,name:s.name},r,o,{keyUsage:!0},...i)}async decrypt(...e){this.checkRequiredArguments(e,3,"decrypt");let[t,r,n,...i]=e;this.checkCryptoKey(r);let a=this.prepareAlgorithm(t),o=u.toArrayBuffer(n),s=this.getProvider(a.name);return await s.decrypt({...a,name:s.name},r,o,{keyUsage:!0},...i)}async deriveBits(...e){this.checkRequiredArguments(e,3,"deriveBits");let[t,r,n,...i]=e;this.checkCryptoKey(r);let a=this.prepareAlgorithm(t),o=this.getProvider(a.name);return await o.deriveBits({...a,name:o.name},r,n,{keyUsage:!0},...i)}async deriveKey(...e){this.checkRequiredArguments(e,5,"deriveKey");let[t,r,n,i,a,...o]=e,s=this.prepareAlgorithm(n);this.getProvider(s.name).checkDerivedKeyParams(s);let l=this.prepareAlgorithm(t),u=this.getProvider(l.name);u.checkCryptoKey(r,"deriveKey");let c=await u.deriveBits({...l,name:u.name},r,n.length||512,{keyUsage:!1},...o);return this.importKey("raw",c,n,i,a,...o)}async exportKey(...e){this.checkRequiredArguments(e,2,"exportKey");let[t,r,...n]=e;if(this.checkCryptoKey(r),!rW[t])throw TypeError("Invalid keyFormat argument");if(!rW[t].includes(r.type))throw new DOMException("The key is not of the expected type");let i=this.getProvider(r.algorithm.name);return await i.exportKey(t,r,...n)}async importKey(...e){this.checkRequiredArguments(e,5,"importKey");let[t,r,n,i,a,...o]=e,s=this.prepareAlgorithm(n),l=this.getProvider(s.name);if("jwk"===t){if("object"!=typeof r||!r.kty)throw TypeError("Key data must be an object for JWK import")}else if(rJ.includes(t)){if(!u.isBufferSource(r))throw TypeError("Key data must be a BufferSource for non-JWK formats")}else throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView or JsonWebKey)'");return l.importKey(t,r,{...s,name:l.name},i,a,...o)}async wrapKey(e,t,r,n,...i){let a=await this.exportKey(e,t,...i);if("jwk"===e){let e=JSON.stringify(a);a=y.FromUtf8String(e)}let o=this.prepareAlgorithm(n),s=u.toArrayBuffer(a),l=this.getProvider(o.name);return l.encrypt({...o,name:l.name},r,s,{keyUsage:!1},...i)}async unwrapKey(e,t,r,n,i,a,o,...s){let l=this.prepareAlgorithm(n),c=u.toArrayBuffer(t),d=this.getProvider(l.name),h=await d.decrypt({...l,name:d.name},r,c,{keyUsage:!1},...s);if("jwk"===e)try{h=JSON.parse(y.ToUtf8String(h))}catch(t){let e=TypeError("wrappedKey: Is not a JSON");throw e.internal=t,e}return this.importKey(e,h,i,a,o,...s)}checkRequiredArguments(e,t,r){if(e.length<t)throw TypeError(`Failed to execute '${r}' on 'SubtleCrypto': ${t} arguments required, but only ${e.length} present`)}prepareAlgorithm(e){if("string"==typeof e)return{name:e};if(rG.isHashedAlgorithm(e)){let t={...e};return t.hash=this.prepareAlgorithm(e.hash),t}return{...e}}getProvider(e){let t=this.providers.get(e);if(!t)throw new tj("Unrecognized name");return t}checkCryptoKey(e){if(!(e instanceof t4))throw TypeError("Key is not of type 'CryptoKey'")}}var rX=r(84770),rY=r.n(rX),rZ=r(35816),rQ=r(52378);let r0={fromJSON:e=>Buffer.from(y.FromBase64Url(e)),toJSON:e=>y.ToBase64Url(e)};class r1 extends t4{constructor(){super(...arguments),this.data=Buffer.alloc(0),this.algorithm={name:""},this.extractable=!1,this.type="secret",this.usages=[],this.kty="oct",this.alg=""}}(0,rQ.gn)([tK({name:"ext",type:s.Boolean,optional:!0})],r1.prototype,"extractable",void 0),(0,rQ.gn)([tK({name:"key_ops",type:s.String,repeated:!0,optional:!0})],r1.prototype,"usages",void 0),(0,rQ.gn)([tK({type:s.String})],r1.prototype,"kty",void 0),(0,rQ.gn)([tK({type:s.String,optional:!0})],r1.prototype,"alg",void 0);class r2 extends r1{constructor(){super(...arguments),this.kty="oct",this.type="secret"}}class r8 extends r1{}class r3 extends r2{get alg(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return`A${this.algorithm.length}CBC`;case"AES-CTR":return`A${this.algorithm.length}CTR`;case"AES-GCM":return`A${this.algorithm.length}GCM`;case"AES-KW":return`A${this.algorithm.length}KW`;case"AES-CMAC":return`A${this.algorithm.length}CMAC`;case"AES-ECB":return`A${this.algorithm.length}ECB`;default:throw new tj("Unsupported algorithm name")}}set alg(e){}}(0,rQ.gn)([tK({name:"k",converter:r0})],r3.prototype,"data",void 0);let r4=new WeakMap;function r6(e){let t=r4.get(e);if(!t)throw new tH("Cannot get CryptoKey from secure storage");return t}function r5(e){let t=t4.create(e.algorithm,e.type,e.extractable,e.usages);return Object.freeze(t),r4.set(t,e),t}class r9{static async generateKey(e,t,r){let n=new r3;return n.algorithm=e,n.extractable=t,n.usages=r,n.data=rY().randomBytes(e.length>>3),n}static async exportKey(e,t){if(!(t instanceof r3))throw Error("key: Is not AesCryptoKey");switch(e.toLowerCase()){case"jwk":return tU.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new tH("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,n,i){let a;switch(e.toLowerCase()){case"jwk":a=tL.fromJSON(t,{targetSchema:r3});break;case"raw":(a=new r3).data=Buffer.from(t);break;default:throw new tH("format: Must be 'jwk' or 'raw'")}switch(a.algorithm=r,a.algorithm.length=a.data.length<<3,a.extractable=n,a.usages=i,a.algorithm.length){case 128:case 192:case 256:break;default:throw new tH("keyData: Is wrong key length")}return a}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"AES-CBC":return this.encryptAesCBC(e,t,Buffer.from(r));case"AES-CTR":return this.encryptAesCTR(e,t,Buffer.from(r));case"AES-GCM":return this.encryptAesGCM(e,t,Buffer.from(r));case"AES-KW":return this.encryptAesKW(e,t,Buffer.from(r));case"AES-ECB":return this.encryptAesECB(e,t,Buffer.from(r));default:throw new tH("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof r3))throw Error("key: Is not AesCryptoKey");switch(e.name.toUpperCase()){case"AES-CBC":return this.decryptAesCBC(e,t,Buffer.from(r));case"AES-CTR":return this.decryptAesCTR(e,t,Buffer.from(r));case"AES-GCM":return this.decryptAesGCM(e,t,Buffer.from(r));case"AES-KW":return this.decryptAesKW(e,t,Buffer.from(r));case"AES-ECB":return this.decryptAesECB(e,t,Buffer.from(r));default:throw new tH("algorithm: Is not recognized")}}static async encryptAesCBC(e,t,r){let n=rY().createCipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}static async decryptAesCBC(e,t,r){let n=rY().createDecipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}static async encryptAesCTR(e,t,r){let n=rY().createCipheriv(`aes-${t.algorithm.length}-ctr`,t.data,Buffer.from(e.counter)),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}static async decryptAesCTR(e,t,r){let n=rY().createDecipheriv(`aes-${t.algorithm.length}-ctr`,t.data,new Uint8Array(e.counter)),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}static async encryptAesGCM(e,t,r){let n=rY().createCipheriv(`aes-${t.algorithm.length}-gcm`,t.data,Buffer.from(e.iv),{authTagLength:(e.tagLength||128)>>3});e.additionalData&&n.setAAD(Buffer.from(e.additionalData));let i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final(),n.getAuthTag()])).buffer}static async decryptAesGCM(e,t,r){let n=rY().createDecipheriv(`aes-${t.algorithm.length}-gcm`,t.data,new Uint8Array(e.iv)),i=(e.tagLength||128)>>3,a=r.slice(0,r.length-i),o=r.slice(r.length-i);e.additionalData&&n.setAAD(Buffer.from(e.additionalData)),n.setAuthTag(o);let s=n.update(a);return new Uint8Array(s=Buffer.concat([s,n.final()])).buffer}static async encryptAesKW(e,t,r){let n=rY().createCipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}static async decryptAesKW(e,t,r){let n=rY().createDecipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}static async encryptAesECB(e,t,r){let n=rY().createCipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}static async decryptAesECB(e,t,r){let n=rY().createDecipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}}r9.AES_KW_IV=Buffer.from("A6A6A6A6A6A6A6A6","hex");class r7 extends tz{async onGenerateKey(e,t,r){return r5(await r9.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r9.encrypt(e,r6(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r9.decrypt(e,r6(t),new Uint8Array(r))}async onExportKey(e,t){return r9.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await r9.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r6(e) instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}let ne=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nt=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135]);function nr(e){let t=Buffer.alloc(e.length),r=e.length-1;for(let n=0;n<r;n++)t[n]=e[n]<<1,128&e[n+1]&&(t[n]+=1);return t[r]=e[r]<<1,t}function nn(e,t){let r=Math.min(e.length,t.length),n=Buffer.alloc(r);for(let i=0;i<r;i++)n[i]=e[i]^t[i];return n}function ni(e,t){let r=rX.createCipheriv(`aes${e.length<<3}`,e,ne),n=r.update(t);return r.final(),n}function na(e,t){let r=Buffer.alloc(16),n=16*t;return e.copy(r,0,n,n+16),r}class no extends tF{async onGenerateKey(e,t,r){return r5(await r9.generateKey({name:this.name,length:e.length},t,r))}async onSign(e,t,r){return new Uint8Array(function(e,t){let r,n;let i=function(e){let t=ni(e,ne),r=nr(t);128&t[0]&&(r=nn(r,nt));let n=nr(r);return 128&r[0]&&(n=nn(n,nt)),{subkey1:r,subkey2:n}}(e),a=Math.ceil(t.length/16);0===a?(a=1,r=!1):r=t.length%16==0;let o=a-1;n=r?nn(na(t,o),i.subkey1):nn(function(e,t){let r=Buffer.alloc(16),n=16*t,i=e.length;return r.fill(0),e.copy(r,0,n,i),r[i-n]=128,r}(t,o),i.subkey2);let s=ne;for(let r=0;r<o;r++)s=ni(e,nn(s,na(t,r)));return ni(e,nn(n,s))}(r6(t).data,Buffer.from(r))).buffer}async onVerify(e,t,r,n){let i=await this.sign(e,t,n);return 0===Buffer.from(r).compare(Buffer.from(i))}async onExportKey(e,t){return r9.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await r9.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r6(e) instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}class ns extends tW{async onGenerateKey(e,t,r){return r5(await r9.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r9.encrypt(e,r6(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r9.decrypt(e,r6(t),new Uint8Array(r))}async onExportKey(e,t){return r9.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await r9.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r6(e) instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}class nl extends tG{async onGenerateKey(e,t,r){return r5(await r9.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r9.encrypt(e,r6(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r9.decrypt(e,r6(t),new Uint8Array(r))}async onExportKey(e,t){return r9.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await r9.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r6(e) instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}class nu extends tX{async onGenerateKey(e,t,r){return r5(await r9.generateKey({name:this.name,length:e.length},t,r))}async onExportKey(e,t){return r9.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await r9.importKey(e,t,{name:r.name},n,i))}async onEncrypt(e,t,r){return r9.encrypt(e,r6(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r9.decrypt(e,r6(t),new Uint8Array(r))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r6(e) instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}class nc extends tJ{async onGenerateKey(e,t,r){return r5(await r9.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r9.encrypt(e,r6(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r9.decrypt(e,r6(t),new Uint8Array(r))}async onExportKey(e,t){return r9.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await r9.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r6(e) instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}class nd extends r2{get alg(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return"DES-CBC";case"DES-EDE3-CBC":return"3DES-CBC";default:throw new tj("Unsupported algorithm name")}}set alg(e){}}(0,rQ.gn)([tK({name:"k",converter:r0})],nd.prototype,"data",void 0);class nh{static async generateKey(e,t,r){let n=new nd;return n.algorithm=e,n.extractable=t,n.usages=r,n.data=rY().randomBytes(e.length>>3),n}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tU.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new tH("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,n,i){let a;switch(e.toLowerCase()){case"jwk":a=tL.fromJSON(t,{targetSchema:nd});break;case"raw":(a=new nd).data=Buffer.from(t);break;default:throw new tH("format: Must be 'jwk' or 'raw'")}return a.algorithm=r,a.extractable=n,a.usages=i,a}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"DES-CBC":return this.encryptDesCBC(e,t,Buffer.from(r));case"DES-EDE3-CBC":return this.encryptDesEDE3CBC(e,t,Buffer.from(r));default:throw new tH("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof nd))throw Error("key: Is not DesCryptoKey");switch(e.name.toUpperCase()){case"DES-CBC":return this.decryptDesCBC(e,t,Buffer.from(r));case"DES-EDE3-CBC":return this.decryptDesEDE3CBC(e,t,Buffer.from(r));default:throw new tH("algorithm: Is not recognized")}}static async encryptDesCBC(e,t,r){let n=rY().createCipheriv("des-cbc",t.data,new Uint8Array(e.iv)),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}static async decryptDesCBC(e,t,r){let n=rY().createDecipheriv("des-cbc",t.data,new Uint8Array(e.iv)),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}static async encryptDesEDE3CBC(e,t,r){let n=rY().createCipheriv("des-ede3-cbc",t.data,Buffer.from(e.iv)),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}static async decryptDesEDE3CBC(e,t,r){let n=rY().createDecipheriv("des-ede3-cbc",t.data,new Uint8Array(e.iv)),i=n.update(r);return new Uint8Array(i=Buffer.concat([i,n.final()])).buffer}}class nf extends tY{constructor(){super(...arguments),this.keySizeBits=64,this.ivSize=8,this.name="DES-CBC"}async onGenerateKey(e,t,r){return r5(await nh.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return nh.encrypt(e,r6(t),new Uint8Array(r))}async onDecrypt(e,t,r){return nh.decrypt(e,r6(t),new Uint8Array(r))}async onExportKey(e,t){return nh.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){let a=await nh.importKey(e,t,{name:this.name,length:this.keySizeBits},n,i);if(a.data.length!==this.keySizeBits>>3)throw new tH("keyData: Wrong key size");return r5(a)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r6(e) instanceof nd))throw TypeError("key: Is not a DesCryptoKey")}}class np extends tY{constructor(){super(...arguments),this.keySizeBits=192,this.ivSize=8,this.name="DES-EDE3-CBC"}async onGenerateKey(e,t,r){return r5(await nh.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return nh.encrypt(e,r6(t),new Uint8Array(r))}async onDecrypt(e,t,r){return nh.decrypt(e,r6(t),new Uint8Array(r))}async onExportKey(e,t){return nh.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){let a=await nh.importKey(e,t,{name:this.name,length:this.keySizeBits},n,i);if(a.data.length!==this.keySizeBits>>3)throw new tH("keyData: Wrong key size");return r5(a)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r6(e) instanceof nd))throw TypeError("key: Is not a DesCryptoKey")}}function ng(e){switch(e.name.toUpperCase()){case"RSA-OAEP":{let t=/(\d+)$/.exec(e.hash.name)[1];return`RSA-OAEP${"1"!==t?`-${t}`:""}`}case"RSASSA-PKCS1-V1_5":return`RS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PSS":return`PS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PKCS1":return"RS1";default:throw new tH("algorithm: Is not recognized")}}class ny extends r8{constructor(){super(...arguments),this.type="private"}getKey(){let e=tp.parse(this.data,rK.PrivateKeyInfo);return tp.parse(e.privateKey,rK.RsaPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:ng(this.algorithm),key_ops:this.usages,ext:this.extractable},tU.toJSON(e))}fromJSON(e){let t=tL.fromJSON(e,{targetSchema:rK.RsaPrivateKey}),r=new rK.PrivateKeyInfo;r.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.privateKeyAlgorithm.parameters=null,r.privateKey=tg.serialize(t),this.data=Buffer.from(tg.serialize(r))}}class nm extends r8{constructor(){super(...arguments),this.type="public"}getKey(){let e=tp.parse(this.data,rK.PublicKeyInfo);return tp.parse(e.publicKey,rK.RsaPublicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:ng(this.algorithm),key_ops:this.usages,ext:this.extractable},tU.toJSON(e))}fromJSON(e){let t=tL.fromJSON(e,{targetSchema:rK.RsaPublicKey}),r=new rK.PublicKeyInfo;r.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.publicKeyAlgorithm.parameters=null,r.publicKey=tg.serialize(t),this.data=Buffer.from(tg.serialize(r))}}class nb{static async generateKey(e,t,r){let n=new ny;n.algorithm=e,n.extractable=t,n.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let i=new nm;i.algorithm=e,i.extractable=!0,i.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let a=Buffer.concat([Buffer.alloc(4-e.publicExponent.byteLength,0),Buffer.from(e.publicExponent)]).readInt32BE(0),o=rY().generateKeyPairSync("rsa",{modulusLength:e.modulusLength,publicExponent:a,publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return n.data=o.privateKey,i.data=o.publicKey,{privateKey:n,publicKey:i}}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tU.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;default:throw new tH("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async importKey(e,t,r,n,i){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tL.fromJSON(t,{targetSchema:rK.RsaPrivateKey});return this.importPrivateKey(e,r,n,i)}{let e=tL.fromJSON(t,{targetSchema:rK.RsaPublicKey});return this.importPublicKey(e,r,n,i)}case"spki":{let e=tp.parse(new Uint8Array(t),rK.PublicKeyInfo),a=tp.parse(e.publicKey,rK.RsaPublicKey);return this.importPublicKey(a,r,n,i)}case"pkcs8":{let e=tp.parse(new Uint8Array(t),rK.PrivateKeyInfo),a=tp.parse(e.privateKey,rK.RsaPrivateKey);return this.importPrivateKey(a,r,n,i)}default:throw new tH("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async sign(e,t,r){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.signRsa(e,t,r);default:throw new tH("algorithm: Is not recognized")}}static async verify(e,t,r,n){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.verifySSA(e,t,n,r);default:throw new tH("algorithm: Is not recognized")}}static async encrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.encryptOAEP(e,t,r);throw new tH("algorithm: Is not recognized")}static async decrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.decryptOAEP(e,t,r);throw new tH("algorithm: Is not recognized")}static importPrivateKey(e,t,r,n){let i=new rK.PrivateKeyInfo;i.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",i.privateKeyAlgorithm.parameters=null,i.privateKey=tg.serialize(e);let a=new ny;return a.data=Buffer.from(tg.serialize(i)),a.algorithm=Object.assign({},t),a.algorithm.publicExponent=new Uint8Array(e.publicExponent),a.algorithm.modulusLength=e.modulus.byteLength<<3,a.extractable=r,a.usages=n,a}static importPublicKey(e,t,r,n){let i=new rK.PublicKeyInfo;i.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",i.publicKeyAlgorithm.parameters=null,i.publicKey=tg.serialize(e);let a=new nm;return a.data=Buffer.from(tg.serialize(i)),a.algorithm=Object.assign({},t),a.algorithm.publicExponent=new Uint8Array(e.publicExponent),a.algorithm.modulusLength=e.modulus.byteLength<<3,a.extractable=r,a.usages=n,a}static getCryptoAlgorithm(e){switch(e.hash.name.toUpperCase()){case"SHA-1":return"RSA-SHA1";case"SHA-256":return"RSA-SHA256";case"SHA-384":return"RSA-SHA384";case"SHA-512":return"RSA-SHA512";case"SHA3-256":return"RSA-SHA3-256";case"SHA3-384":return"RSA-SHA3-384";case"SHA3-512":return"RSA-SHA3-512";default:throw new tH("algorithm.hash: Is not recognized")}}static signRsa(e,t,r){let n=this.getCryptoAlgorithm(t.algorithm),i=rY().createSign(n);i.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let a={key:t.pem};return"RSA-PSS"===e.name.toUpperCase()&&(a.padding=rY().constants.RSA_PKCS1_PSS_PADDING,a.saltLength=e.saltLength),new Uint8Array(i.sign(a)).buffer}static verifySSA(e,t,r,n){let i=this.getCryptoAlgorithm(t.algorithm),a=rY().createVerify(i);a.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let o={key:t.pem};return"RSA-PSS"===e.name.toUpperCase()&&(o.padding=rY().constants.RSA_PKCS1_PSS_PADDING,o.saltLength=e.saltLength),a.verify(o,n)}static encryptOAEP(e,t,r){let n={key:`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`,padding:rY().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(rY().publicEncrypt(n,r)).buffer}static decryptOAEP(e,t,r){let n={key:`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`,padding:rY().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(rY().privateDecrypt(n,r)).buffer}}nb.publicKeyUsages=["verify","encrypt","wrapKey"],nb.privateKeyUsages=["sign","decrypt","unwrapKey"];class nv extends tQ{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let n=await nb.generateKey({...e,name:this.name},t,r);return{privateKey:r5(n.privateKey),publicKey:r5(n.publicKey)}}async onSign(e,t,r){return nb.sign(e,r6(t),new Uint8Array(r))}async onVerify(e,t,r,n){return nb.verify(e,r6(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return nb.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await nb.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r6(e);if(!(r instanceof ny||r instanceof nm))throw TypeError("key: Is not RSA CryptoKey")}}class nw extends t0{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let n=await nb.generateKey({...e,name:this.name},t,r);return{privateKey:r5(n.privateKey),publicKey:r5(n.publicKey)}}async onSign(e,t,r){return nb.sign(e,r6(t),new Uint8Array(r))}async onVerify(e,t,r,n){return nb.verify(e,r6(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return nb.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await nb.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r6(e);if(!(r instanceof ny||r instanceof nm))throw TypeError("key: Is not RSA CryptoKey")}}class nS{static size(e){switch(e.name.toUpperCase()){case"SHA-1":return 160;case"SHA-256":case"SHA3-256":return 256;case"SHA-384":case"SHA3-384":return 384;case"SHA-512":case"SHA3-512":return 512;default:throw Error("Unrecognized name")}}static getAlgorithmName(e){switch(e.name.toUpperCase()){case"SHA-1":return"sha1";case"SHA-256":return"sha256";case"SHA-384":return"sha384";case"SHA-512":return"sha512";case"SHA3-256":return"sha3-256";case"SHA3-384":return"sha3-384";case"SHA3-512":return"sha3-512";default:throw Error("Unrecognized name")}}static digest(e,t){let r=this.getAlgorithmName(e);return new Uint8Array(rY().createHash(r).update(Buffer.from(t)).digest()).buffer}}class n_ extends t1{async onGenerateKey(e,t,r){let n=await nb.generateKey({...e,name:this.name},t,r);return{privateKey:r5(n.privateKey),publicKey:r5(n.publicKey)}}async onEncrypt(e,t,r){let n=r6(t),i=new Uint8Array(r),a=Math.ceil(n.algorithm.modulusLength>>3),o=nS.size(n.algorithm.hash)>>3,s=i.byteLength,l=a-s-2*o-2;if(s>a-2*o-2)throw Error("Data too large");let c=new Uint8Array(a),d=c.subarray(1,o+1),h=c.subarray(o+1);h.set(i,o+l+1);let f=rY().createHash(n.algorithm.hash.name.replace("-","")).update(u.toUint8Array(e.label||new Uint8Array(0))).digest();h.set(f,0),h[o+l]=1,rY().randomFillSync(d);let p=this.mgf1(n.algorithm.hash,d,h.length);for(let e=0;e<h.length;e++)h[e]^=p[e];let g=this.mgf1(n.algorithm.hash,h,d.length);for(let e=0;e<d.length;e++)d[e]^=g[e];return n.pem||(n.pem=`-----BEGIN PUBLIC KEY-----
${n.data.toString("base64")}
-----END PUBLIC KEY-----`),new Uint8Array(rY().publicEncrypt({key:n.pem,padding:rY().constants.RSA_NO_PADDING},Buffer.from(c))).buffer}async onDecrypt(e,t,r){let n=r6(t),i=Math.ceil(n.algorithm.modulusLength>>3),a=nS.size(n.algorithm.hash)>>3;if(r.byteLength!==i)throw Error("Bad data");n.pem||(n.pem=`-----BEGIN PRIVATE KEY-----
${n.data.toString("base64")}
-----END PRIVATE KEY-----`);let o=rY().privateDecrypt({key:n.pem,padding:rY().constants.RSA_NO_PADDING},Buffer.from(r)),s=o[0],l=o.subarray(1,a+1),c=o.subarray(a+1);if(0!==s)throw Error("Decryption failed");let d=this.mgf1(n.algorithm.hash,c,l.length);for(let e=0;e<l.length;e++)l[e]^=d[e];let h=this.mgf1(n.algorithm.hash,l,c.length);for(let e=0;e<c.length;e++)c[e]^=h[e];let f=rY().createHash(n.algorithm.hash.name.replace("-","")).update(u.toUint8Array(e.label||new Uint8Array(0))).digest();for(let e=0;e<a;e++)if(f[e]!==c[e])throw Error("Decryption failed");let p=a;for(;p<c.length;p++){let e=c[p];if(1===e)break;if(0!==e)throw Error("Decryption failed")}if(p===c.length)throw Error("Decryption failed");return new Uint8Array(o=c.subarray(p+1)).buffer}async onExportKey(e,t){return nb.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await nb.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r6(e);if(!(r instanceof ny||r instanceof nm))throw TypeError("key: Is not RSA CryptoKey")}mgf1(e,t,r=0){let n=nS.size(e)>>3,i=new Uint8Array(r),a=new Uint8Array(4),o=Math.ceil(r/n);for(let r=0;r<o;r++){a[0]=r>>>24,a[1]=r>>>16&255,a[2]=r>>>8&255,a[3]=255&r;let o=i.subarray(r*n),s=rY().createHash(e.name.replace("-","")).update(t).update(a).digest();s.length>o.length&&(s=s.subarray(0,o.length)),o.set(s)}return i}}class nA extends tq{constructor(){super(...arguments),this.name="RSAES-PKCS1-v1_5",this.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]}}async onGenerateKey(e,t,r){let n=await nb.generateKey({...e,name:this.name},t,r);return{privateKey:r5(n.privateKey),publicKey:r5(n.publicKey)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=y.ToBase64(e.publicExponent);if(!("Aw=="===t||"AQAB"===t))throw TypeError("publicExponent: Must be [3] or [1,0,1]");switch(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength){case 1024:case 2048:case 4096:break;default:throw TypeError("modulusLength: Must be 1024, 2048, or 4096")}}async onEncrypt(e,t,r){let n=this.toCryptoOptions(t),i=rX.publicEncrypt(n,new Uint8Array(r));return new Uint8Array(i).buffer}async onDecrypt(e,t,r){let n=this.toCryptoOptions(t),i=rX.privateDecrypt(n,new Uint8Array(r));return new Uint8Array(i).buffer}async onExportKey(e,t){return nb.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await nb.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r6(e);if(!(r instanceof ny||r instanceof nm))throw TypeError("key: Is not RSA CryptoKey")}toCryptoOptions(e){let t=e.type.toUpperCase();return{key:`-----BEGIN ${t} KEY-----
${r6(e).data.toString("base64")}
-----END ${t} KEY-----`,padding:rX.constants.RSA_PKCS1_PADDING}}}let nk={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10",brainpoolP160r1:"1.3.36.3.3.2.8.1.1.1","1.3.36.3.3.2.8.1.1.1":"brainpoolP160r1",brainpoolP160t1:"1.3.36.3.3.2.8.1.1.2","1.3.36.3.3.2.8.1.1.2":"brainpoolP160t1",brainpoolP192r1:"1.3.36.3.3.2.8.1.1.3","1.3.36.3.3.2.8.1.1.3":"brainpoolP192r1",brainpoolP192t1:"1.3.36.3.3.2.8.1.1.4","1.3.36.3.3.2.8.1.1.4":"brainpoolP192t1",brainpoolP224r1:"1.3.36.3.3.2.8.1.1.5","1.3.36.3.3.2.8.1.1.5":"brainpoolP224r1",brainpoolP224t1:"1.3.36.3.3.2.8.1.1.6","1.3.36.3.3.2.8.1.1.6":"brainpoolP224t1",brainpoolP256r1:"1.3.36.3.3.2.8.1.1.7","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1",brainpoolP256t1:"1.3.36.3.3.2.8.1.1.8","1.3.36.3.3.2.8.1.1.8":"brainpoolP256t1",brainpoolP320r1:"1.3.36.3.3.2.8.1.1.9","1.3.36.3.3.2.8.1.1.9":"brainpoolP320r1",brainpoolP320t1:"1.3.36.3.3.2.8.1.1.10","1.3.36.3.3.2.8.1.1.10":"brainpoolP320t1",brainpoolP384r1:"1.3.36.3.3.2.8.1.1.11","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1",brainpoolP384t1:"1.3.36.3.3.2.8.1.1.12","1.3.36.3.3.2.8.1.1.12":"brainpoolP384t1",brainpoolP512r1:"1.3.36.3.3.2.8.1.1.13","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1",brainpoolP512t1:"1.3.36.3.3.2.8.1.1.14","1.3.36.3.3.2.8.1.1.14":"brainpoolP512t1"};function nE(e){let t=nk[e];if(!t)throw new tH(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class nx extends r8{constructor(){super(...arguments),this.type="private"}getKey(){let e=tp.parse(this.data,rK.PrivateKeyInfo);return tp.parse(e.privateKey,rK.EcPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tU.toJSON(e))}fromJSON(e){if(!e.crv)throw new tH("Cannot get named curve from JWK. Property 'crv' is required");let t=new rK.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",t.privateKeyAlgorithm.parameters=tg.serialize(new rK.ObjectIdentifier(nE(e.crv)));let r=tL.fromJSON(e,{targetSchema:rK.EcPrivateKey});return t.privateKey=tg.serialize(r),this.data=Buffer.from(tg.serialize(t)),this}}class nP extends r8{constructor(){super(...arguments),this.type="public"}getKey(){let e=tp.parse(this.data,rK.PublicKeyInfo);return new rK.EcPublicKey(e.publicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tU.toJSON(e))}fromJSON(e){if(!e.crv)throw new tH("Cannot get named curve from JWK. Property 'crv' is required");let t=tL.fromJSON(e,{targetSchema:rK.EcPublicKey}),r=new rK.PublicKeyInfo;return r.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1",r.publicKeyAlgorithm.parameters=tg.serialize(new rK.ObjectIdentifier(nE(e.crv))),r.publicKey=tg.toASN(t).valueHex,this.data=Buffer.from(tg.serialize(r)),this}}class nC extends tq{constructor(){super(...arguments),this.name="SHA-1",this.usages=[]}async onDigest(e,t){return nS.digest(e,t)}}class nT extends tq{constructor(){super(...arguments),this.name="SHA-256",this.usages=[]}async onDigest(e,t){return nS.digest(e,t)}}class nO extends tq{constructor(){super(...arguments),this.name="SHA-384",this.usages=[]}async onDigest(e,t){return nS.digest(e,t)}}class nR extends tq{constructor(){super(...arguments),this.name="SHA-512",this.usages=[]}async onDigest(e,t){return nS.digest(e,t)}}class nB extends tq{constructor(){super(...arguments),this.name="SHA3-256",this.usages=[]}async onDigest(e,t){return nS.digest(e,t)}}class nN extends tq{constructor(){super(...arguments),this.name="SHA3-384",this.usages=[]}async onDigest(e,t){return nS.digest(e,t)}}class nI extends tq{constructor(){super(...arguments),this.name="SHA3-512",this.usages=[]}async onDigest(e,t){return nS.digest(e,t)}}class nU{static async generateKey(e,t,r){let n=new nx;n.algorithm=e,n.extractable=t,n.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let i=new nP;i.algorithm=e,i.extractable=!0,i.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let a=rY().generateKeyPairSync("ec",{namedCurve:this.getOpenSSLNamedCurve(e.namedCurve),publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return n.data=a.privateKey,i.data=a.publicKey,{privateKey:n,publicKey:i}}static async sign(e,t,r){let n=nS.getAlgorithmName(e.hash),i=rY().createSign(n);i.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let a={key:t.pem},o=i.sign(a),s=tp.parse(o,rK.EcDsaSignature);return rd.encodeSignature(s,rM.get(t.algorithm.namedCurve).size).buffer}static async verify(e,t,r,n){let i=nS.getAlgorithmName(e.hash),a=rY().createVerify(i);a.update(Buffer.from(n)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let o={key:t.pem},s=new rK.EcDsaSignature,l=rM.get(t.algorithm.namedCurve),c=rd.decodeSignature(r,l.size);s.r=u.toArrayBuffer(c.r),s.s=u.toArrayBuffer(c.s);let d=Buffer.from(tg.serialize(s));return a.verify(o,d)}static async deriveBits(e,t,r){let n=this.getOpenSSLNamedCurve(t.algorithm.namedCurve),i=rY().createECDH(n),a=tp.parse(t.data,rK.PrivateKeyInfo),o=tp.parse(a.privateKey,rK.EcPrivateKey);i.setPrivateKey(Buffer.from(o.privateKey));let s=tp.parse(e.public.data,rK.PublicKeyInfo),l=i.computeSecret(Buffer.from(s.publicKey));return null===r?l:new Uint8Array(l).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tU.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return tp.parse(t.data,rK.PublicKeyInfo).publicKey;default:throw new tH("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,n,i){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tL.fromJSON(t,{targetSchema:rK.EcPrivateKey});return this.importPrivateKey(e,r,n,i)}{let e=tL.fromJSON(t,{targetSchema:rK.EcPublicKey});return this.importPublicKey(e,r,n,i)}case"raw":{let e=new rK.EcPublicKey(t);return this.importPublicKey(e,r,n,i)}case"spki":{let e=tp.parse(new Uint8Array(t),rK.PublicKeyInfo),a=new rK.EcPublicKey(e.publicKey);return this.assertKeyParameters(e.publicKeyAlgorithm.parameters,r.namedCurve),this.importPublicKey(a,r,n,i)}case"pkcs8":{let e=tp.parse(new Uint8Array(t),rK.PrivateKeyInfo),a=tp.parse(e.privateKey,rK.EcPrivateKey);return this.assertKeyParameters(e.privateKeyAlgorithm.parameters,r.namedCurve),this.importPrivateKey(a,r,n,i)}default:throw new tH("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static assertKeyParameters(e,t){if(!e)throw new tM("Key info doesn't have required parameters");let r="";try{r=tp.parse(e,rK.ObjectIdentifier).value}catch(e){throw new tM("Cannot read key info parameters")}if(nE(t)!==r)throw new tM("Key info parameter doesn't match to named curve")}static async importPrivateKey(e,t,r,n){let i=new rK.PrivateKeyInfo;i.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",i.privateKeyAlgorithm.parameters=tg.serialize(new rK.ObjectIdentifier(nE(t.namedCurve))),i.privateKey=tg.serialize(e);let a=new nx;return a.data=Buffer.from(tg.serialize(i)),a.algorithm=Object.assign({},t),a.extractable=r,a.usages=n,a}static async importPublicKey(e,t,r,n){let i=new rK.PublicKeyInfo;i.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1";let a=nE(t.namedCurve);i.publicKeyAlgorithm.parameters=tg.serialize(new rK.ObjectIdentifier(a)),i.publicKey=e.value;let o=new nP;return o.data=Buffer.from(tg.serialize(i)),o.algorithm=Object.assign({},t),o.extractable=r,o.usages=n,o}static getOpenSSLNamedCurve(e){switch(e.toUpperCase()){case"P-256":return"prime256v1";case"K-256":return"secp256k1";case"P-384":return"secp384r1";case"P-521":return"secp521r1";default:return e}}}nU.publicKeyUsages=["verify"],nU.privateKeyUsages=["sign","deriveKey","deriveBits"];class nL extends t8{constructor(){super(...arguments),this.namedCurves=rM.names,this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let n=await nU.generateKey({...e,name:this.name},t,r);return{privateKey:r5(n.privateKey),publicKey:r5(n.publicKey)}}async onSign(e,t,r){return nU.sign(e,r6(t),new Uint8Array(r))}async onVerify(e,t,r,n){return nU.verify(e,r6(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return nU.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await nU.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r6(e);if(!(r instanceof nx||r instanceof nP))throw TypeError("key: Is not EC CryptoKey")}}class nK extends t6{constructor(){super(...arguments),this.namedCurves=rM.names}async onGenerateKey(e,t,r){let n=await nU.generateKey({...e,name:this.name},t,r);return{privateKey:r5(n.privateKey),publicKey:r5(n.publicKey)}}async onExportKey(e,t){return nU.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await nU.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r6(e);if(!(r instanceof nx||r instanceof nP))throw TypeError("key: Is not EC CryptoKey")}async onDeriveBits(e,t,r){return await nU.deriveBits({...e,public:r6(e.public)},r6(t),r)}}let nM={[rK.idEd448]:"Ed448",ed448:rK.idEd448,[rK.idX448]:"X448",x448:rK.idX448,[rK.idEd25519]:"Ed25519",ed25519:rK.idEd25519,[rK.idX25519]:"X25519",x25519:rK.idX25519};function nj(e){let t=nM[e.toLowerCase()];if(!t)throw new tH(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class nD extends r8{constructor(){super(...arguments),this.type="private"}getKey(){let e=tp.parse(this.data,rK.PrivateKeyInfo);return tp.parse(e.privateKey,rK.CurvePrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tU.toJSON(e))}fromJSON(e){if(!e.crv)throw new tH("Cannot get named curve from JWK. Property 'crv' is required");let t=new rK.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm=nj(e.crv);let r=tL.fromJSON(e,{targetSchema:rK.CurvePrivateKey});return t.privateKey=tg.serialize(r),this.data=Buffer.from(tg.serialize(t)),this}}class nH extends r8{constructor(){super(...arguments),this.type="public"}getKey(){return tp.parse(this.data,rK.PublicKeyInfo).publicKey}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},{x:y.ToBase64Url(e)})}fromJSON(e){if(!e.crv)throw new tH("Cannot get named curve from JWK. Property 'crv' is required");if(!e.x)throw new tH("Cannot get property from JWK. Property 'x' is required");let t=new rK.PublicKeyInfo;return t.publicKeyAlgorithm.algorithm=nj(e.crv),t.publicKey=y.FromBase64Url(e.x),this.data=Buffer.from(tg.serialize(t)),this}}class n${static async generateKey(e,t,r){let n=new nD;n.algorithm=e,n.extractable=t,n.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let i=new nH;i.algorithm=e,i.extractable=!0,i.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let a=e.namedCurve.toLowerCase(),o=rY().generateKeyPairSync(a,{publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return n.data=o.privateKey,i.data=o.publicKey,{privateKey:n,publicKey:i}}static async sign(e,t,r){t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let n={key:t.pem},i=rY().sign(null,Buffer.from(r),n);return u.toArrayBuffer(i)}static async verify(e,t,r,n){t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let i={key:t.pem};return rY().verify(null,Buffer.from(n),i,Buffer.from(r))}static async deriveBits(e,t,r){let n=rY().createPublicKey({key:e.public.data,format:"der",type:"spki"}),i=rY().createPrivateKey({key:t.data,format:"der",type:"pkcs8"});return new Uint8Array(rY().diffieHellman({publicKey:n,privateKey:i})).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tU.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return tp.parse(t.data,rK.PublicKeyInfo).publicKey;default:throw new tH("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,n,i){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tL.fromJSON(t,{targetSchema:rK.CurvePrivateKey});return this.importPrivateKey(e,r,n,i)}if(!t.x)throw TypeError("keyData: Cannot get required 'x' filed");return this.importPublicKey(y.FromBase64Url(t.x),r,n,i);case"raw":return this.importPublicKey(t,r,n,i);case"spki":{let e=tp.parse(new Uint8Array(t),rK.PublicKeyInfo);return this.importPublicKey(e.publicKey,r,n,i)}case"pkcs8":{let e=tp.parse(new Uint8Array(t),rK.PrivateKeyInfo),a=tp.parse(e.privateKey,rK.CurvePrivateKey);return this.importPrivateKey(a,r,n,i)}default:throw new tH("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static importPrivateKey(e,t,r,n){let i=new nD;return i.fromJSON({crv:t.namedCurve,d:y.ToBase64Url(e.d)}),i.algorithm=Object.assign({},t),i.extractable=r,i.usages=n,i}static async importPublicKey(e,t,r,n){let i=new nH;return i.fromJSON({crv:t.namedCurve,x:y.ToBase64Url(e)}),i.algorithm=Object.assign({},t),i.extractable=r,i.usages=n,i}}n$.publicKeyUsages=["verify"],n$.privateKeyUsages=["sign","deriveKey","deriveBits"];class nq extends t9{async onGenerateKey(e,t,r){let n=await n$.generateKey({name:this.name,namedCurve:e.namedCurve.replace(/^ed/i,"Ed")},t,r);return{privateKey:r5(n.privateKey),publicKey:r5(n.publicKey)}}async onSign(e,t,r){return n$.sign(e,r6(t),new Uint8Array(r))}async onVerify(e,t,r,n){return n$.verify(e,r6(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return n$.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await n$.importKey(e,t,{...r,name:this.name},n,i))}}class nV extends t5{async onGenerateKey(e,t,r){let n=await n$.generateKey({name:this.name,namedCurve:e.namedCurve.toUpperCase()},t,r);return{privateKey:r5(n.privateKey),publicKey:r5(n.publicKey)}}async onDeriveBits(e,t,r){return await n$.deriveBits({...e,public:r6(e.public)},r6(t),r)}async onExportKey(e,t){return n$.exportKey(e,r6(t))}async onImportKey(e,t,r,n,i){return r5(await n$.importKey(e,t,{...r,name:this.name},n,i))}}class nz extends r1{}class nF extends rD{async onDeriveBits(e,t,r){return new Promise((n,i)=>{let a=u.toArrayBuffer(e.salt),o=e.hash.name.replace("-","");rY().pbkdf2(r6(t).data,Buffer.from(a),e.iterations,r>>3,o,(e,t)=>{e?i(e):n(new Uint8Array(t).buffer)})})}async onImportKey(e,t,r,n,i){if("raw"===e){let e=new nz;return e.data=Buffer.from(t),e.algorithm={name:this.name},e.extractable=!1,e.usages=i,r5(e)}throw new tH("format: Must be 'raw'")}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r6(e) instanceof nz))throw TypeError("key: Is not PBKDF CryptoKey")}}class nW extends r1{get alg(){let e=this.algorithm.hash.name.toUpperCase();return`HS${e.replace("SHA-","")}`}set alg(e){}}(0,rQ.gn)([tK({name:"k",converter:r0})],nW.prototype,"data",void 0);class nJ extends rj{async onGenerateKey(e,t,r){let n=(e.length||this.getDefaultLength(e.hash.name))>>3<<3,i=new nW;return i.algorithm={...e,length:n,name:this.name},i.extractable=t,i.usages=r,i.data=rY().randomBytes(n>>3),r5(i)}async onSign(e,t,r){let n=nS.getAlgorithmName(t.algorithm.hash);return new Uint8Array(rY().createHmac(n,r6(t).data).update(Buffer.from(r)).digest()).buffer}async onVerify(e,t,r,n){let i=nS.getAlgorithmName(t.algorithm.hash);return 0===rY().createHmac(i,r6(t).data).update(Buffer.from(n)).digest().compare(Buffer.from(r))}async onImportKey(e,t,r,n,i){let a;switch(e.toLowerCase()){case"jwk":a=tL.fromJSON(t,{targetSchema:nW});break;case"raw":(a=new nW).data=Buffer.from(t);break;default:throw new tH("format: Must be 'jwk' or 'raw'")}return a.algorithm={hash:{name:r.hash.name},name:this.name,length:a.data.length<<3},a.extractable=n,a.usages=i,r5(a)}async onExportKey(e,t){switch(e.toLowerCase()){case"jwk":return tU.toJSON(r6(t));case"raw":return new Uint8Array(r6(t).data).buffer;default:throw new tH("format: Must be 'jwk' or 'raw'")}}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r6(e) instanceof nW))throw TypeError("key: Is not HMAC CryptoKey")}}class nG extends r1{}class nX extends rH{async onImportKey(e,t,r,n,i){if("raw"!==e.toLowerCase())throw new tH("Operation not supported");let a=new nG;return a.data=Buffer.from(t),a.algorithm={name:this.name},a.extractable=n,a.usages=i,r5(a)}async onDeriveBits(e,t,r){let n=e.hash.name.replace("-",""),i=rY().createHash(n).digest().length,a=r/8,o=u.toUint8Array(e.info),s=rY().createHmac(n,u.toUint8Array(e.salt)).update(u.toUint8Array(r6(t).data)).digest(),l=[Buffer.alloc(0)],c=Math.ceil(a/i)+1;for(let e=1;e<c;++e)l.push(rY().createHmac(n,s).update(Buffer.concat([l[e-1],o,Buffer.from([e])])).digest());return Buffer.concat(l).slice(0,a)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r6(e) instanceof nG))throw TypeError("key: Is not HKDF CryptoKey")}}class nY{static digest(e,t){return new Uint8Array(rY().createHash(e.name.toLowerCase(),{outputLength:e.length}).update(Buffer.from(t)).digest()).buffer}}class nZ extends rq{async onDigest(e,t){return nY.digest(e,t)}}class nQ extends rV{async onDigest(e,t){return nY.digest(e,t)}}class n0 extends rG{constructor(){var e;super(),this.providers.set(new r7),this.providers.set(new ns),this.providers.set(new nl),this.providers.set(new no),this.providers.set(new nu),this.providers.set(new nc),this.providers.set(new nf),this.providers.set(new np),this.providers.set(new nv),this.providers.set(new nw),this.providers.set(new n_),this.providers.set(new nA),this.providers.set(new nL),this.providers.set(new nK),this.providers.set(new nC),this.providers.set(new nT),this.providers.set(new nO),this.providers.set(new nR),this.providers.set(new nF),this.providers.set(new nJ),this.providers.set(new nX);let t=null===(e=/^v(\d+)/.exec(rZ.version))||void 0===e?void 0:e[1];t&&parseInt(t,10)>=12&&(this.providers.set(new nZ),this.providers.set(new nQ));let r=rX.getHashes();r.includes("sha3-256")&&this.providers.set(new nB),r.includes("sha3-384")&&this.providers.set(new nN),r.includes("sha3-512")&&this.providers.set(new nI),t&&parseInt(t,10)>=14&&(this.providers.set(new nq),this.providers.set(new nV))}}class n1 extends rz{constructor(){super(...arguments),this.subtle=new n0}getRandomValues(e){if(!ArrayBuffer.isView(e))throw TypeError("Failed to execute 'getRandomValues' on 'Crypto': parameter 1 is not of type 'ArrayBufferView'");let t=Buffer.from(e.buffer,e.byteOffset,e.byteLength);return rY().randomFillSync(t),e}}},43183:(e,t)=>{"use strict";function r(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}t.Q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var n={},i=(t||{}).decode||r,a=0;a<e.length;){var o=e.indexOf("=",a);if(-1===o)break;var s=e.indexOf(";",a);if(-1===s)s=e.length;else if(s<o){a=e.lastIndexOf(";",o-1)+1;continue}var l=e.slice(a,o).trim();if(void 0===n[l]){var u=e.slice(o+1,s).trim();34===u.charCodeAt(0)&&(u=u.slice(1,-1)),n[l]=function(e,t){try{return t(e)}catch(t){return e}}(u,i)}a=s+1}return n},Object.prototype.toString},74469:e=>{"use strict";var t=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==r},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s(Array.isArray(e)?[]:{},e,t):e}function i(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function a(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[])}function o(e,t){try{return t in e}catch(e){return!1}}function s(e,r,l){(l=l||{}).arrayMerge=l.arrayMerge||i,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=n;var u,c,d=Array.isArray(r);return d!==Array.isArray(e)?n(r,l):d?l.arrayMerge(e,r,l):(c={},(u=l).isMergeableObject(e)&&a(e).forEach(function(t){c[t]=n(e[t],u)}),a(r).forEach(function(t){(!o(e,t)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(o(e,t)&&u.isMergeableObject(r[t])?c[t]=(function(e,t){if(!t.customMerge)return s;var r=t.customMerge(e);return"function"==typeof r?r:s})(t,u)(e[t],r[t],u):c[t]=n(r[t],u))}),c)}s.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return s(e,r,t)},{})},e.exports=s},49245:e=>{"use strict";let t=e=>"object"==typeof e&&null!==e,r=Symbol("skip"),n=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),i=(e,t,a,o=new WeakMap)=>{if(a={deep:!1,target:{},...a},o.has(e))return o.get(e);o.set(e,a.target);let{target:s}=a;delete a.target;let l=e=>e.map(e=>n(e)?i(e,t,a,o):e);if(Array.isArray(e))return l(e);for(let[u,c]of Object.entries(e)){let d=t(u,c,e);if(d===r)continue;let[h,f,{shouldRecurse:p=!0}={}]=d;"__proto__"!==h&&(a.deep&&p&&n(f)&&(f=Array.isArray(f)?l(f):i(f,t,a,o)),s[h]=f)}return s};e.exports=(e,r,n)=>{if(!t(e))throw TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return i(e,r,n)},e.exports.mapObjectSkip=r},71615:(e,t,r)=>{"use strict";r.r(t);var n=r(88757),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},58585:(e,t,r)=>{"use strict";r.r(t);var n=r(61085),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},87070:(e,t,r)=>{"use strict";var n=r(98277);r.o(n,"NextRequest")&&r.d(t,{NextRequest:function(){return n.NextRequest}}),r.o(n,"NextResponse")&&r.d(t,{NextResponse:function(){return n.NextResponse}})},48839:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bootstrap:function(){return s},error:function(){return u},event:function(){return f},info:function(){return h},prefixes:function(){return i},ready:function(){return d},trace:function(){return p},wait:function(){return l},warn:function(){return c},warnOnce:function(){return y}});let n=r(91354),i={wait:(0,n.white)((0,n.bold)("○")),error:(0,n.red)((0,n.bold)("⨯")),warn:(0,n.yellow)((0,n.bold)("⚠")),ready:"▲",info:(0,n.white)((0,n.bold)(" ")),event:(0,n.green)((0,n.bold)("✓")),trace:(0,n.magenta)((0,n.bold)("\xbb"))},a={log:"log",warn:"warn",error:"error"};function o(e,...t){(""===t[0]||void 0===t[0])&&1===t.length&&t.shift();let r=e in a?a[e]:"log",n=i[e];0===t.length?console[r](""):console[r](" "+n,...t)}function s(...e){console.log(" ",...e)}function l(...e){o("wait",...e)}function u(...e){o("error",...e)}function c(...e){o("warn",...e)}function d(...e){o("ready",...e)}function h(...e){o("info",...e)}function f(...e){o("event",...e)}function p(...e){o("trace",...e)}let g=new Set;function y(...e){g.has(e[0])||(g.add(e.join(" ")),c(...e))}},68570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createProxy",{enumerable:!0,get:function(){return n}});let n=r(51749).createClientModuleProxy},33085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraftMode",{enumerable:!0,get:function(){return a}});let n=r(45869),i=r(6278);class a{get isEnabled(){return this._provider.isEnabled}enable(){let e=n.staticGenerationAsyncStorage.getStore();return e&&(0,i.trackDynamicDataAccessed)(e,"draftMode().enable()"),this._provider.enable()}disable(){let e=n.staticGenerationAsyncStorage.getStore();return e&&(0,i.trackDynamicDataAccessed)(e,"draftMode().disable()"),this._provider.disable()}constructor(e){this._provider=e}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},88757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{cookies:function(){return h},draftMode:function(){return f},headers:function(){return d}});let n=r(68996),i=r(53047),a=r(92044),o=r(72934),s=r(33085),l=r(6278),u=r(45869),c=r(54580);function d(){let e="headers",t=u.staticGenerationAsyncStorage.getStore();if(t){if(t.forceStatic)return i.HeadersAdapter.seal(new Headers({}));(0,l.trackDynamicDataAccessed)(t,e)}return(0,c.getExpectedRequestStore)(e).headers}function h(){let e="cookies",t=u.staticGenerationAsyncStorage.getStore();if(t){if(t.forceStatic)return n.RequestCookiesAdapter.seal(new a.RequestCookies(new Headers({})));(0,l.trackDynamicDataAccessed)(t,e)}let r=(0,c.getExpectedRequestStore)(e),i=o.actionAsyncStorage.getStore();return(null==i?void 0:i.isAction)||(null==i?void 0:i.isAppRoute)?r.mutableCookies:r.cookies}function f(){let e=(0,c.getExpectedRequestStore)("draftMode");return new s.DraftMode(e.draftMode)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},44789:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return n},isDynamicServerError:function(){return i}});let r="DYNAMIC_SERVER_USAGE";class n extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return n.RedirectType},notFound:function(){return i.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=r(83953),i=r(16399);class a extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new a}delete(){throw new a}set(){throw new a}sort(){throw new a}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return i},notFound:function(){return n}});let r="NEXT_NOT_FOUND";function n(){let e=Error(r);throw e.digest=r,e}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return f},getURLFromRedirectError:function(){return h},isRedirectError:function(){return d},permanentRedirect:function(){return c},redirect:function(){return u}});let i=r(54580),a=r(72934),o=r(8586),s="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let n=Error(s);n.digest=s+";"+t+";"+e+";"+r+";";let a=i.requestAsyncStorage.getStore();return a&&(n.mutableCookies=a.mutableCookies),n}function u(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,n,i]=e.digest.split(";",4),a=Number(i);return t===s&&("replace"===r||"push"===r)&&"string"==typeof n&&!isNaN(a)&&a in o.RedirectStatusCode}function h(e){return d(e)?e.digest.split(";",3)[2]:null}function f(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},24618:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{StaticGenBailoutError:function(){return n},isStaticGenBailoutError:function(){return i}});let r="NEXT_STATIC_GEN_BAILOUT";class n extends Error{constructor(...e){super(...e),this.code=r}}function i(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79925:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a={};function o(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function s(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[n,i],...a]=s(e),{domain:o,expires:l,httponly:d,maxage:h,path:f,samesite:p,secure:g,partitioned:y,priority:m}=Object.fromEntries(a.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:n,value:decodeURIComponent(i),domain:o,...l&&{expires:new Date(l)},...d&&{httpOnly:!0},..."string"==typeof h&&{maxAge:Number(h)},path:f,...p&&{sameSite:u.includes(t=(t=p).toLowerCase())?t:void 0},...g&&{secure:!0},...m&&{priority:c.includes(r=(r=m).toLowerCase())?r:void 0},...y&&{partitioned:!0}})}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{RequestCookies:()=>d,ResponseCookies:()=>h,parseCookie:()=>s,parseSetCookie:()=>l,stringifyCookie:()=>o}),e.exports=((e,a,o,s)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let l of n(a))i.call(e,l)||l===o||t(e,l,{get:()=>a[l],enumerable:!(s=r(a,l))||s.enumerable});return e})(t({},"__esModule",{value:!0}),a);var u=["strict","lax","none"],c=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of s(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>o(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>o(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},h=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,a,o=[],s=0;function l(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,a=!1;l();)if(","===(r=e.charAt(s))){for(n=s,s+=1,l(),i=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(a=!0,s=i,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!a||s>=e.length)&&o.push(e.substring(t,e.length))}return o}(i)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=o(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(o).join("; ")}}},27482:e=>{(()=>{"use strict";var t={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),a=r(930),o="context",s=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(o,e,a.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(o)||s}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(o,a.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),a=r(957),o=r(172);class s{constructor(){function e(e){return function(...t){let r=(0,o.getGlobal)("diag");if(r)return r[e](...t)}}let t=this;t.setLogger=(e,r={logLevel:a.DiagLogLevel.INFO})=>{var n,s,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,o.getGlobal)("diag"),c=(0,i.createLogLevelDiagLogger)(null!==(s=r.logLevel)&&void 0!==s?s:a.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!==(l=Error().stack)&&void 0!==l?l:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),c.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,o.registerGlobal)("diag",c,t,!0)},t.disable=()=>{(0,o.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new s),this._instance}}t.DiagAPI=s},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),a=r(930),o="metrics";class s{constructor(){}static getInstance(){return this._instance||(this._instance=new s),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(o,e,a.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(o)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(o,a.DiagAPI.instance())}}t.MetricsAPI=s},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),a=r(194),o=r(277),s=r(369),l=r(930),u="propagation",c=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=s.createBaggage,this.getBaggage=o.getBaggage,this.getActiveBaggage=o.getActiveBaggage,this.setBaggage=o.setBaggage,this.deleteBaggage=o.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,l.DiagAPI.instance())}inject(e,t,r=a.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=a.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||c}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),a=r(139),o=r(607),s=r(930),l="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=a.wrapSpanContext,this.isSpanContextValid=a.isSpanContextValid,this.deleteSpan=o.deleteSpan,this.getSpan=o.getSpan,this.getActiveSpan=o.getActiveSpan,this.getSpanContext=o.getSpanContext,this.setSpan=o.setSpan,this.setSpanContext=o.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,s.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,s.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function a(e){return e.getValue(i)||void 0}t.getBaggage=a,t.getActiveBaggage=function(){return a(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),a=r(830),o=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(o.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:a.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);class i{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=i},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);class i{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return a("debug",this._namespace,e)}error(...e){return a("error",this._namespace,e)}info(...e){return a("info",this._namespace,e)}warn(...e){return a("warn",this._namespace,e)}verbose(...e){return a("verbose",this._namespace,e)}}function a(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=i},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class n{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}t.DiagConsoleLogger=n},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),a=r(130),o=i.VERSION.split(".")[0],s=Symbol.for(`opentelemetry.js.api.${o}`),l=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var a;let o=l[s]=null!==(a=l[s])&&void 0!==a?a:{version:i.VERSION};if(!n&&o[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(o.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${o.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return o[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null===(t=l[s])||void 0===t?void 0:t.version;if(n&&(0,a.isCompatible)(n))return null===(r=l[s])||void 0===r?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=l[s];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function a(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function o(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return o(e);let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=s.prerelease||a.major!==s.major?o(e):0===a.major?a.minor===s.minor&&a.patch<=s.patch?(t.add(e),!0):o(e):a.minor<=s.minor?(t.add(e),!0):o(e)}}t._makeCompatibilityCheck=a,t.isCompatible=a(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class a extends n{add(e,t){}}t.NoopUpDownCounterMetric=a;class o extends n{record(e,t){}}t.NoopHistogramMetric=o;class s{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=s;class l extends s{}t.NoopObservableCounterMetric=l;class u extends s{}t.NoopObservableGaugeMetric=u;class c extends s{}t.NoopObservableUpDownCounterMetric=c,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new o,t.NOOP_UP_DOWN_COUNTER_METRIC=new a,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new c,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:global},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class r{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=r},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);class i{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=i},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),a=r(403),o=r(139),s=n.ContextAPI.getInstance();class l{startSpan(e,t,r=s.active()){if(null==t?void 0:t.root)return new a.NonRecordingSpan;let n=r&&(0,i.getSpanContext)(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,o.isSpanContextValid)(n)?new a.NonRecordingSpan(n):new a.NonRecordingSpan}startActiveSpan(e,t,r,n){let a,o,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(a=t,l=r):(a=t,o=r,l=n);let u=null!=o?o:s.active(),c=this.startSpan(e,a,u),d=(0,i.setSpan)(u,c);return s.with(d,l,void 0,c)}}t.NoopTracer=l},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);class i{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=i},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;class i{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}t.ProxyTracer=i},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;class a{getTracer(e,t,r){var i;return null!==(i=this.getDelegateTracer(e,t,r))&&void 0!==i?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=a},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),a=r(491),o=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function s(e){return e.getValue(o)||void 0}function l(e,t){return e.setValue(o,t)}t.getSpan=s,t.getActiveSpan=function(){return s(a.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(o)},t.setSpanContext=function(e,t){return l(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=s(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let a=r.slice(0,i),o=r.slice(i+1,t.length);(0,n.validateKey)(a)&&(0,n.validateValue)(o)&&e.set(a,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,a=RegExp(`^(?:${n}|${i})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;t.validateKey=function(e){return a.test(e)},t.validateValue=function(e){return o.test(e)&&!s.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),a=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function s(e){return a.test(e)&&e!==n.INVALID_TRACEID}function l(e){return o.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=s,t.isValidSpanId=l,t.isSpanContextValid=function(e){return s(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var a=r[e]={exports:{}},o=!0;try{t[e].call(a.exports,a,a.exports,n),o=!1}finally{o&&delete r[e]}return a.exports}n.ab=__dirname+"/";var i={};(()=>{Object.defineProperty(i,"__esModule",{value:!0}),i.trace=i.propagation=i.metrics=i.diag=i.context=i.INVALID_SPAN_CONTEXT=i.INVALID_TRACEID=i.INVALID_SPANID=i.isValidSpanId=i.isValidTraceId=i.isSpanContextValid=i.createTraceState=i.TraceFlags=i.SpanStatusCode=i.SpanKind=i.SamplingDecision=i.ProxyTracerProvider=i.ProxyTracer=i.defaultTextMapSetter=i.defaultTextMapGetter=i.ValueType=i.createNoopMeter=i.DiagLogLevel=i.DiagConsoleLogger=i.ROOT_CONTEXT=i.createContextKey=i.baggageEntryMetadataFromString=void 0;var e=n(369);Object.defineProperty(i,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=n(780);Object.defineProperty(i,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(i,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var r=n(972);Object.defineProperty(i,"DiagConsoleLogger",{enumerable:!0,get:function(){return r.DiagConsoleLogger}});var a=n(957);Object.defineProperty(i,"DiagLogLevel",{enumerable:!0,get:function(){return a.DiagLogLevel}});var o=n(102);Object.defineProperty(i,"createNoopMeter",{enumerable:!0,get:function(){return o.createNoopMeter}});var s=n(901);Object.defineProperty(i,"ValueType",{enumerable:!0,get:function(){return s.ValueType}});var l=n(194);Object.defineProperty(i,"defaultTextMapGetter",{enumerable:!0,get:function(){return l.defaultTextMapGetter}}),Object.defineProperty(i,"defaultTextMapSetter",{enumerable:!0,get:function(){return l.defaultTextMapSetter}});var u=n(125);Object.defineProperty(i,"ProxyTracer",{enumerable:!0,get:function(){return u.ProxyTracer}});var c=n(846);Object.defineProperty(i,"ProxyTracerProvider",{enumerable:!0,get:function(){return c.ProxyTracerProvider}});var d=n(996);Object.defineProperty(i,"SamplingDecision",{enumerable:!0,get:function(){return d.SamplingDecision}});var h=n(357);Object.defineProperty(i,"SpanKind",{enumerable:!0,get:function(){return h.SpanKind}});var f=n(847);Object.defineProperty(i,"SpanStatusCode",{enumerable:!0,get:function(){return f.SpanStatusCode}});var p=n(475);Object.defineProperty(i,"TraceFlags",{enumerable:!0,get:function(){return p.TraceFlags}});var g=n(98);Object.defineProperty(i,"createTraceState",{enumerable:!0,get:function(){return g.createTraceState}});var y=n(139);Object.defineProperty(i,"isSpanContextValid",{enumerable:!0,get:function(){return y.isSpanContextValid}}),Object.defineProperty(i,"isValidTraceId",{enumerable:!0,get:function(){return y.isValidTraceId}}),Object.defineProperty(i,"isValidSpanId",{enumerable:!0,get:function(){return y.isValidSpanId}});var m=n(476);Object.defineProperty(i,"INVALID_SPANID",{enumerable:!0,get:function(){return m.INVALID_SPANID}}),Object.defineProperty(i,"INVALID_TRACEID",{enumerable:!0,get:function(){return m.INVALID_TRACEID}}),Object.defineProperty(i,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return m.INVALID_SPAN_CONTEXT}});let b=n(67);Object.defineProperty(i,"context",{enumerable:!0,get:function(){return b.context}});let v=n(506);Object.defineProperty(i,"diag",{enumerable:!0,get:function(){return v.diag}});let w=n(886);Object.defineProperty(i,"metrics",{enumerable:!0,get:function(){return w.metrics}});let S=n(939);Object.defineProperty(i,"propagation",{enumerable:!0,get:function(){return S.propagation}});let _=n(845);Object.defineProperty(i,"trace",{enumerable:!0,get:function(){return _.trace}}),i.default={context:b.context,diag:v.diag,metrics:w.metrics,propagation:S.propagation,trace:_.trace}})(),e.exports=i})()},18346:(e,t,r)=>{var n;(()=>{var i={226:function(i,a){!function(o,s){"use strict";var l="function",u="undefined",c="object",d="string",h="major",f="model",p="name",g="type",y="vendor",m="version",b="architecture",v="console",w="mobile",S="tablet",_="smarttv",A="wearable",k="embedded",E="Amazon",x="Apple",P="ASUS",C="BlackBerry",T="Browser",O="Chrome",R="Firefox",B="Google",N="Huawei",I="Microsoft",U="Motorola",L="Opera",K="Samsung",M="Sharp",j="Sony",D="Xiaomi",H="Zebra",$="Facebook",q="Chromium OS",V="Mac OS",z=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},F=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},W=function(e,t){return typeof e===d&&-1!==J(t).indexOf(J(e))},J=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===u?e:e.substring(0,350)},X=function(e,t){for(var r,n,i,a,o,u,d=0;d<t.length&&!o;){var h=t[d],f=t[d+1];for(r=n=0;r<h.length&&!o&&h[r];)if(o=h[r++].exec(e))for(i=0;i<f.length;i++)u=o[++n],typeof(a=f[i])===c&&a.length>0?2===a.length?typeof a[1]==l?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==l||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):void 0):this[a]=u||s;d+=2}},Y=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(W(t[r][n],e))return"?"===r?s:r}else if(W(t[r],e))return"?"===r?s:r;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,m],[/opios[\/ ]+([\w\.]+)/i],[m,[p,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[p,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[p,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[m,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+T],m],[/\bfocus\/([\w\.]+)/i],[m,[p,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[p,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[p,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[p,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[m,[p,R]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+T]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+T],m],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,$],m],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[p,O+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,O+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[p,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[m,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[p,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,m],[/(cobalt)\/([\w\.]+)/i],[p,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,J]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",J]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,J]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[y,K],[g,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[y,K],[g,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[y,x],[g,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[y,x],[g,S]],[/(macintosh);/i],[f,[y,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[y,M],[g,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[y,N],[g,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[y,N],[g,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[y,D],[g,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[y,D],[g,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[y,"OPPO"],[g,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[y,"Vivo"],[g,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[y,"Realme"],[g,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[y,U],[g,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[y,U],[g,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[y,"LG"],[g,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[y,"LG"],[g,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[y,"Lenovo"],[g,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[y,"Nokia"],[g,w]],[/(pixel c)\b/i],[f,[y,B],[g,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[y,B],[g,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[y,j],[g,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[y,j],[g,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[y,"OnePlus"],[g,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[y,E],[g,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[y,E],[g,w]],[/(playbook);[-\w\),; ]+(rim)/i],[f,y,[g,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[y,C],[g,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[y,P],[g,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[y,P],[g,w]],[/(nexus 9)/i],[f,[y,"HTC"],[g,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[f,/_/g," "],[g,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[y,"Acer"],[g,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[y,"Meizu"],[g,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,f,[g,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,f,[g,S]],[/(surface duo)/i],[f,[y,I],[g,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[y,"Fairphone"],[g,w]],[/(u304aa)/i],[f,[y,"AT&T"],[g,w]],[/\bsie-(\w*)/i],[f,[y,"Siemens"],[g,w]],[/\b(rct\w+) b/i],[f,[y,"RCA"],[g,S]],[/\b(venue[\d ]{2,7}) b/i],[f,[y,"Dell"],[g,S]],[/\b(q(?:mv|ta)\w+) b/i],[f,[y,"Verizon"],[g,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[y,"Barnes & Noble"],[g,S]],[/\b(tm\d{3}\w+) b/i],[f,[y,"NuVision"],[g,S]],[/\b(k88) b/i],[f,[y,"ZTE"],[g,S]],[/\b(nx\d{3}j) b/i],[f,[y,"ZTE"],[g,w]],[/\b(gen\d{3}) b.+49h/i],[f,[y,"Swiss"],[g,w]],[/\b(zur\d{3}) b/i],[f,[y,"Swiss"],[g,S]],[/\b((zeki)?tb.*\b) b/i],[f,[y,"Zeki"],[g,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],f,[g,S]],[/\b(ns-?\w{0,9}) b/i],[f,[y,"Insignia"],[g,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[y,"NextBook"],[g,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],f,[g,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],f,[g,w]],[/\b(ph-1) /i],[f,[y,"Essential"],[g,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[y,"Envizen"],[g,S]],[/\b(trio[-\w\. ]+) b/i],[f,[y,"MachSpeed"],[g,S]],[/\btu_(1491) b/i],[f,[y,"Rotor"],[g,S]],[/(shield[\w ]+) b/i],[f,[y,"Nvidia"],[g,S]],[/(sprint) (\w+)/i],[y,f,[g,w]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[y,I],[g,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[y,H],[g,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[y,H],[g,w]],[/smart-tv.+(samsung)/i],[y,[g,_]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[y,K],[g,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,"LG"],[g,_]],[/(apple) ?tv/i],[y,[f,x+" TV"],[g,_]],[/crkey/i],[[f,O+"cast"],[y,B],[g,_]],[/droid.+aft(\w)( bui|\))/i],[f,[y,E],[g,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[y,M],[g,_]],[/(bravia[\w ]+)( bui|\))/i],[f,[y,j],[g,_]],[/(mitv-\w{5}) bui/i],[f,[y,D],[g,_]],[/Hbbtv.*(technisat) (.*);/i],[y,f,[g,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,G],[f,G],[g,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,f,[g,v]],[/droid.+; (shield) bui/i],[f,[y,"Nvidia"],[g,v]],[/(playstation [345portablevi]+)/i],[f,[y,j],[g,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[y,I],[g,v]],[/((pebble))app/i],[y,f,[g,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[y,x],[g,A]],[/droid.+; (glass) \d/i],[f,[y,B],[g,A]],[/droid.+; (wt63?0{2,3})\)/i],[f,[y,H],[g,A]],[/(quest( 2| pro)?)/i],[f,[y,$],[g,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[g,k]],[/(aeobc)\b/i],[f,[y,E],[g,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[g,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,w]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[m,Y,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[m,Y,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,V],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,m],[/\(bb(10);/i],[m,[p,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[p,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[p,O+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,q],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,m],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,m]]},ee=function(e,t){if(typeof e===c&&(t=e,e=s),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof o!==u&&o.navigator?o.navigator:s,n=e||(r&&r.userAgent?r.userAgent:""),i=r&&r.userAgentData?r.userAgentData:s,a=t?z(Q,t):Q,v=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[p]=s,t[m]=s,X.call(t,n,a.browser),t[h]=typeof(e=t[m])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:s,v&&r&&r.brave&&typeof r.brave.isBrave==l&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[b]=s,X.call(e,n,a.cpu),e},this.getDevice=function(){var e={};return e[y]=s,e[f]=s,e[g]=s,X.call(e,n,a.device),v&&!e[g]&&i&&i.mobile&&(e[g]=w),v&&"Macintosh"==e[f]&&r&&typeof r.standalone!==u&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[f]="iPad",e[g]=S),e},this.getEngine=function(){var e={};return e[p]=s,e[m]=s,X.call(e,n,a.engine),e},this.getOS=function(){var e={};return e[p]=s,e[m]=s,X.call(e,n,a.os),v&&!e[p]&&i&&"Unknown"!=i.platform&&(e[p]=i.platform.replace(/chrome os/i,q).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>350?G(e,350):e,this},this.setUA(n),this};ee.VERSION="1.0.35",ee.BROWSER=F([p,m,h]),ee.CPU=F([b]),ee.DEVICE=F([f,y,g,v,w,_,S,A,k]),ee.ENGINE=ee.OS=F([p,m]),typeof a!==u?(i.exports&&(a=i.exports=ee),a.UAParser=ee):r.amdO?void 0!==(n=(function(){return ee}).call(t,r,t,e))&&(e.exports=n):typeof o!==u&&(o.UAParser=ee);var et=typeof o!==u&&(o.jQuery||o.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},n=!0;try{i[e].call(r.exports,r,r.exports,o),n=!1}finally{n&&delete a[e]}return r.exports}o.ab=__dirname+"/";var s=o(226);e.exports=s})()},11943:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_SUFFIX:function(){return l},APP_DIR_ALIAS:function(){return P},CACHE_ONE_YEAR:function(){return w},DOT_NEXT_ALIAS:function(){return E},ESLINT_DEFAULT_DIRS:function(){return z},GSP_NO_RETURNED_VALUE:function(){return j},GSSP_COMPONENT_MEMBER_ERROR:function(){return $},GSSP_NO_RETURNED_VALUE:function(){return D},INSTRUMENTATION_HOOK_FILENAME:function(){return A},MIDDLEWARE_FILENAME:function(){return S},MIDDLEWARE_LOCATION_REGEXP:function(){return _},NEXT_BODY_SUFFIX:function(){return d},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return v},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return p},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return g},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return f},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return b},NEXT_CACHE_TAGS_HEADER:function(){return h},NEXT_CACHE_TAG_MAX_ITEMS:function(){return y},NEXT_CACHE_TAG_MAX_LENGTH:function(){return m},NEXT_DATA_SUFFIX:function(){return u},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return n},NEXT_META_SUFFIX:function(){return c},NEXT_QUERY_PARAM_PREFIX:function(){return r},NON_STANDARD_NODE_ENV:function(){return q},PAGES_DIR_ALIAS:function(){return k},PRERENDER_REVALIDATE_HEADER:function(){return i},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return a},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return N},ROOT_DIR_ALIAS:function(){return x},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return B},RSC_ACTION_ENCRYPTION_ALIAS:function(){return R},RSC_ACTION_PROXY_ALIAS:function(){return O},RSC_ACTION_VALIDATE_ALIAS:function(){return T},RSC_MOD_REF_PROXY_ALIAS:function(){return C},RSC_PREFETCH_SUFFIX:function(){return o},RSC_SUFFIX:function(){return s},SERVER_PROPS_EXPORT_ERROR:function(){return M},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return U},SERVER_PROPS_SSG_CONFLICT:function(){return L},SERVER_RUNTIME:function(){return F},SSG_FALLBACK_EXPORT_ERROR:function(){return V},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return I},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return K},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return H},WEBPACK_LAYERS:function(){return J},WEBPACK_RESOURCE_QUERIES:function(){return G}});let r="nxtP",n="nxtI",i="x-prerender-revalidate",a="x-prerender-revalidate-if-generated",o=".prefetch.rsc",s=".rsc",l=".action",u=".json",c=".meta",d=".body",h="x-next-cache-tags",f="x-next-cache-soft-tags",p="x-next-revalidated-tags",g="x-next-revalidate-tag-token",y=128,m=256,b=1024,v="_N_T_",w=31536e3,S="middleware",_=`(?:src/)?${S}`,A="instrumentation",k="private-next-pages",E="private-dot-next",x="private-next-root-dir",P="private-next-app-dir",C="next/dist/build/webpack/loaders/next-flight-loader/module-proxy",T="private-next-rsc-action-validate",O="private-next-rsc-server-reference",R="private-next-rsc-action-encryption",B="private-next-rsc-action-client-wrapper",N="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",I="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",U="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",L="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",K="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",M="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",j="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",D="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",H="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",$="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",q='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',V="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",z=["app","pages","components","lib","src"],F={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},W={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"},J={...W,GROUP:{serverOnly:[W.reactServerComponents,W.actionBrowser,W.appMetadataRoute,W.appRouteHandler,W.instrument],clientOnly:[W.serverSideRendering,W.appPagesBrowser],nonClientServerTarget:[W.middleware,W.api],app:[W.reactServerComponents,W.actionBrowser,W.appMetadataRoute,W.appRouteHandler,W.serverSideRendering,W.appPagesBrowser,W.shared,W.instrument]}},G={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},91354:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bgBlack:function(){return x},bgBlue:function(){return O},bgCyan:function(){return B},bgGreen:function(){return C},bgMagenta:function(){return R},bgRed:function(){return P},bgWhite:function(){return N},bgYellow:function(){return T},black:function(){return y},blue:function(){return w},bold:function(){return u},cyan:function(){return A},dim:function(){return c},gray:function(){return E},green:function(){return b},hidden:function(){return p},inverse:function(){return f},italic:function(){return d},magenta:function(){return S},purple:function(){return _},red:function(){return m},reset:function(){return l},strikethrough:function(){return g},underline:function(){return h},white:function(){return k},yellow:function(){return v}});let{env:n,stdout:i}=(null==(r=globalThis)?void 0:r.process)??{},a=n&&!n.NO_COLOR&&(n.FORCE_COLOR||(null==i?void 0:i.isTTY)&&!n.CI&&"dumb"!==n.TERM),o=(e,t,r,n)=>{let i=e.substring(0,n)+r,a=e.substring(n+t.length),s=a.indexOf(t);return~s?i+o(a,t,r,s):i+a},s=(e,t,r=e)=>a?n=>{let i=""+n,a=i.indexOf(t,e.length);return~a?e+o(i,t,r,a)+t:e+i+t}:String,l=a?e=>`\x1b[0m${e}\x1b[0m`:String,u=s("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m"),c=s("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),d=s("\x1b[3m","\x1b[23m"),h=s("\x1b[4m","\x1b[24m"),f=s("\x1b[7m","\x1b[27m"),p=s("\x1b[8m","\x1b[28m"),g=s("\x1b[9m","\x1b[29m"),y=s("\x1b[30m","\x1b[39m"),m=s("\x1b[31m","\x1b[39m"),b=s("\x1b[32m","\x1b[39m"),v=s("\x1b[33m","\x1b[39m"),w=s("\x1b[34m","\x1b[39m"),S=s("\x1b[35m","\x1b[39m"),_=s("\x1b[38;2;173;127;168m","\x1b[39m"),A=s("\x1b[36m","\x1b[39m"),k=s("\x1b[37m","\x1b[39m"),E=s("\x1b[90m","\x1b[39m"),x=s("\x1b[40m","\x1b[49m"),P=s("\x1b[41m","\x1b[49m"),C=s("\x1b[42m","\x1b[49m"),T=s("\x1b[43m","\x1b[49m"),O=s("\x1b[44m","\x1b[49m"),R=s("\x1b[45m","\x1b[49m"),B=s("\x1b[46m","\x1b[49m"),N=s("\x1b[47m","\x1b[49m")},38834:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getPathname:function(){return n},isFullStringUrl:function(){return i},parseUrl:function(){return a}});let r="http://n";function n(e){return new URL(e,r).pathname}function i(e){return/https?:\/\//.test(e)}function a(e){let t;try{t=new URL(e,r)}catch{}return t}},6278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{Postpone:function(){return d},createPostponedAbortSignal:function(){return m},createPrerenderState:function(){return l},formatDynamicAPIAccesses:function(){return g},markCurrentScopeAsDynamic:function(){return u},trackDynamicDataAccessed:function(){return c},trackDynamicFetch:function(){return h},usedDynamicAPIs:function(){return p}});let n=function(e){return e&&e.__esModule?e:{default:e}}(r(71159)),i=r(44789),a=r(24618),o=r(38834),s="function"==typeof n.default.unstable_postpone;function l(e){return{isDebugSkeleton:e,dynamicAccesses:[]}}function u(e,t){let r=(0,o.getPathname)(e.urlPathname);if(!e.isUnstableCacheCallback){if(e.dynamicShouldError)throw new a.StaticGenBailoutError(`Route ${r} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(e.prerenderState)f(e.prerenderState,t,r);else if(e.revalidate=0,e.isStaticGeneration){let n=new i.DynamicServerError(`Route ${r} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=t,e.dynamicUsageStack=n.stack,n}}}function c(e,t){let r=(0,o.getPathname)(e.urlPathname);if(e.isUnstableCacheCallback)throw Error(`Route ${r} used "${t}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${t}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if(e.dynamicShouldError)throw new a.StaticGenBailoutError(`Route ${r} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(e.prerenderState)f(e.prerenderState,t,r);else if(e.revalidate=0,e.isStaticGeneration){let n=new i.DynamicServerError(`Route ${r} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=t,e.dynamicUsageStack=n.stack,n}}function d({reason:e,prerenderState:t,pathname:r}){f(t,e,r)}function h(e,t){e.prerenderState&&f(e.prerenderState,t,e.urlPathname)}function f(e,t,r){y();let i=`Route ${r} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`;e.dynamicAccesses.push({stack:e.isDebugSkeleton?Error().stack:void 0,expression:t}),n.default.unstable_postpone(i)}function p(e){return e.dynamicAccesses.length>0}function g(e){return e.dynamicAccesses.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function y(){if(!s)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}function m(e){y();let t=new AbortController;try{n.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}},88716:(e,t)=>{"use strict";var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},23191:(e,t,r)=>{"use strict";e.exports=r(20399)},51749:(e,t,r)=>{"use strict";e.exports=r(23191).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},71159:(e,t,r)=>{"use strict";e.exports=r(23191).vendored["react-rsc"].React},14300:(e,t)=>{"use strict";function r(e){if(!e.body)return[e,e];let[t,r]=e.body.tee(),n=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(n,"url",{value:e.url});let i=new Response(r,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(i,"url",{value:e.url}),[n,i]}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cloneResponse",{enumerable:!0,get:function(){return r}})},99585:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupeFetch",{enumerable:!0,get:function(){return o}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(71159)),i=r(14300);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e){let t=n.cache(e=>[]);return function(r,n){let a,o;if(n&&n.signal)return e(r,n);if("string"!=typeof r||n){let t="string"==typeof r||r instanceof URL?new Request(r,n):r;if("GET"!==t.method&&"HEAD"!==t.method||t.keepalive)return e(r,n);o=JSON.stringify([t.method,Array.from(t.headers.entries()),t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity]),a=t.url}else o='["GET",[],null,"follow",null,null,null,null]',a=r;let s=t(a);for(let e=0,t=s.length;e<t;e+=1){let[t,r]=s[e];if(t===o)return r.then(()=>{let t=s[e][2];if(!t)throw Error("No cached response");let[r,n]=(0,i.cloneResponse)(t);return s[e][2]=n,r})}let l=new AbortController,u=e(r,{...n,signal:l.signal}),c=[o,u,null];return s.push(c),u.then(e=>{let[t,r]=(0,i.cloneResponse)(e);return c[2]=r,t})}}},60670:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{addImplicitTags:function(){return p},patchFetch:function(){return y},validateRevalidate:function(){return d},validateTags:function(){return h}});let n=r(71376),i=r(64994),a=r(11943),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(48839)),s=r(6278),l=r(99585),u=r(14300);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){try{let r;if(!1===e)r=e;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or "false"`);return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}function h(e,t){let r=[],n=[];for(let i=0;i<e.length;i++){let o=e[i];if("string"!=typeof o?n.push({tag:o,reason:"invalid type, must be a string"}):o.length>a.NEXT_CACHE_TAG_MAX_LENGTH?n.push({tag:o,reason:`exceeded max length of ${a.NEXT_CACHE_TAG_MAX_LENGTH}`}):r.push(o),r.length>a.NEXT_CACHE_TAG_MAX_ITEMS){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(i).join(", "));break}}if(n.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),n))console.log(`tag: "${e}" ${r}`);return r}let f=e=>{let t=["/layout"];if(e.startsWith("/")){let r=e.split("/");for(let e=1;e<r.length+1;e++){let n=r.slice(0,e).join("/");n&&(n.endsWith("/page")||n.endsWith("/route")||(n=`${n}${n.endsWith("/")?"":"/"}layout`),t.push(n))}}return t};function p(e){var t,r;let n=[],{pagePath:i,urlPathname:o}=e;if(Array.isArray(e.tags)||(e.tags=[]),i)for(let r of f(i))r=`${a.NEXT_CACHE_IMPLICIT_TAG_ID}${r}`,(null==(t=e.tags)?void 0:t.includes(r))||e.tags.push(r),n.push(r);if(o){let t=new URL(o,"http://n").pathname,i=`${a.NEXT_CACHE_IMPLICIT_TAG_ID}${t}`;(null==(r=e.tags)?void 0:r.includes(i))||e.tags.push(i),n.push(i)}return n}function g(e,t){var r;e&&(null==(r=e.requestEndedState)||r.ended)}function y(e){var t;if("__nextPatched"in(t=globalThis.fetch)&&!0===t.__nextPatched)return;let r=(0,l.createDedupeFetch)(globalThis.fetch);globalThis.fetch=function(e,{serverHooks:{DynamicServerError:t},staticGenerationAsyncStorage:r}){let l=async(l,c)=>{var f,y;let m;try{(m=new URL(l instanceof Request?l.url:l)).username="",m.password=""}catch{m=void 0}let b=(null==m?void 0:m.href)??"",v=Date.now(),w=(null==c?void 0:null==(f=c.method)?void 0:f.toUpperCase())||"GET",S=(null==c?void 0:null==(y=c.next)?void 0:y.internal)===!0,_="1"===process.env.NEXT_OTEL_FETCH_DISABLED;return(0,i.getTracer)().trace(S?n.NextNodeServerSpan.internalFetch:n.AppRenderSpan.fetch,{hideSpan:_,kind:i.SpanKind.CLIENT,spanName:["fetch",w,b].filter(Boolean).join(" "),attributes:{"http.url":b,"http.method":w,"net.peer.name":null==m?void 0:m.hostname,"net.peer.port":(null==m?void 0:m.port)||void 0}},async()=>{var n;let i,f,y;if(S)return e(l,c);let m=r.getStore();if(!m||m.isDraftMode)return e(l,c);let w=l&&"object"==typeof l&&"string"==typeof l.method,_=e=>(null==c?void 0:c[e])||(w?l[e]:null),A=e=>{var t,r,n;return void 0!==(null==c?void 0:null==(t=c.next)?void 0:t[e])?null==c?void 0:null==(r=c.next)?void 0:r[e]:w?null==(n=l.next)?void 0:n[e]:void 0},k=A("revalidate"),E=h(A("tags")||[],`fetch ${l.toString()}`);if(Array.isArray(E))for(let e of(m.tags||(m.tags=[]),E))m.tags.includes(e)||m.tags.push(e);let x=p(m),P=m.fetchCache,C=!!m.isUnstableNoStore,T=_("cache"),O="";"string"==typeof T&&void 0!==k&&(w&&"default"===T||o.warn(`fetch for ${b} on ${m.urlPathname} specified "cache: ${T}" and "revalidate: ${k}", only one should be specified.`),T=void 0),"force-cache"===T?k=!1:("no-cache"===T||"no-store"===T||"force-no-store"===P||"only-no-store"===P)&&(k=0),("no-cache"===T||"no-store"===T)&&(O=`cache: ${T}`),y=d(k,m.urlPathname);let R=_("headers"),B="function"==typeof(null==R?void 0:R.get)?R:new Headers(R||{}),N=B.get("authorization")||B.get("cookie"),I=!["get","head"].includes((null==(n=_("method"))?void 0:n.toLowerCase())||"get"),U=(N||I)&&0===m.revalidate;switch(P){case"force-no-store":O="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===T||void 0!==y&&(!1===y||y>0))throw Error(`cache: 'force-cache' used on fetch for ${b} with 'export const fetchCache = 'only-no-store'`);O="fetchCache = only-no-store";break;case"only-cache":if("no-store"===T)throw Error(`cache: 'no-store' used on fetch for ${b} with 'export const fetchCache = 'only-cache'`);break;case"force-cache":(void 0===k||0===k)&&(O="fetchCache = force-cache",y=!1)}void 0===y?"default-cache"===P?(y=!1,O="fetchCache = default-cache"):U?(y=0,O="auto no cache"):"default-no-store"===P?(y=0,O="fetchCache = default-no-store"):C?(y=0,O="noStore call"):(O="auto cache",y="boolean"!=typeof m.revalidate&&void 0!==m.revalidate&&m.revalidate):O||(O=`revalidate: ${y}`),m.forceStatic&&0===y||U||void 0!==m.revalidate&&("number"!=typeof y||!1!==m.revalidate&&("number"!=typeof m.revalidate||!(y<m.revalidate)))||(0===y&&(0,s.trackDynamicFetch)(m,"revalidate: 0"),m.revalidate=y);let L="number"==typeof y&&y>0||!1===y;if(m.incrementalCache&&L)try{i=await m.incrementalCache.fetchCacheKey(b,w?l:c)}catch(e){console.error("Failed to generate cache key for",l)}let K=m.nextFetchId??1;m.nextFetchId=K+1;let M="number"!=typeof y?a.CACHE_ONE_YEAR:y,j=async(t,r)=>{let n=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(w){let e=l,t={body:e._ogBody||e.body};for(let r of n)t[r]=e[r];l=new Request(e.url,t)}else if(c){let{_ogBody:e,body:r,signal:n,...i}=c;c={...i,body:e||r,signal:t?void 0:n}}let a={...c,next:{...null==c?void 0:c.next,fetchType:"origin",fetchIdx:K}};return e(l,a).then(async e=>{if(t||g(m,{start:v,url:b,cacheReason:r||O,cacheStatus:0===y||r?"skip":"miss",status:e.status,method:a.method||"GET"}),200===e.status&&m.incrementalCache&&i&&L){let t=Buffer.from(await e.arrayBuffer());try{await m.incrementalCache.set(i,{kind:"FETCH",data:{headers:Object.fromEntries(e.headers.entries()),body:t.toString("base64"),status:e.status,url:e.url},revalidate:M},{fetchCache:!0,revalidate:y,fetchUrl:b,fetchIdx:K,tags:E})}catch(e){console.warn("Failed to set fetch cache",l,e)}let r=new Response(t,{headers:new Headers(e.headers),status:e.status});return Object.defineProperty(r,"url",{value:e.url}),r}return e})},D=()=>Promise.resolve(),H=!1;if(i&&m.incrementalCache){D=await m.incrementalCache.lock(i);let e=m.isOnDemandRevalidate?null:await m.incrementalCache.get(i,{kindHint:"fetch",revalidate:y,fetchUrl:b,fetchIdx:K,tags:E,softTags:x});if(e?await D():f="cache-control: no-cache (hard refresh)",(null==e?void 0:e.value)&&"FETCH"===e.value.kind){if(m.isRevalidate&&e.isStale)H=!0;else{if(e.isStale&&(m.pendingRevalidates??={},!m.pendingRevalidates[i])){let e=j(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{m.pendingRevalidates??={},delete m.pendingRevalidates[i||""]});e.catch(console.error),m.pendingRevalidates[i]=e}let t=e.value.data;g(m,{start:v,url:b,cacheReason:O,cacheStatus:"hit",status:t.status||200,method:(null==c?void 0:c.method)||"GET"});let r=new Response(Buffer.from(t.body,"base64"),{headers:t.headers,status:t.status});return Object.defineProperty(r,"url",{value:e.value.data.url}),r}}}if(m.isStaticGeneration&&c&&"object"==typeof c){let{cache:e}=c;if(!m.forceStatic&&"no-store"===e){let e=`no-store fetch ${l}${m.urlPathname?` ${m.urlPathname}`:""}`;(0,s.trackDynamicFetch)(m,e),m.revalidate=0;let r=new t(e);throw m.dynamicUsageErr=r,m.dynamicUsageDescription=e,r}let r="next"in c,{next:n={}}=c;if("number"==typeof n.revalidate&&(void 0===m.revalidate||"number"==typeof m.revalidate&&n.revalidate<m.revalidate)){if(!m.forceDynamic&&!m.forceStatic&&0===n.revalidate){let e=`revalidate: 0 fetch ${l}${m.urlPathname?` ${m.urlPathname}`:""}`;(0,s.trackDynamicFetch)(m,e);let r=new t(e);throw m.dynamicUsageErr=r,m.dynamicUsageDescription=e,r}m.forceStatic&&0===n.revalidate||(m.revalidate=n.revalidate)}r&&delete c.next}if(!i||!H)return j(!1,f).finally(D);{m.pendingRevalidates??={};let e=m.pendingRevalidates[i];if(e){let t=await e;return new Response(t.body,{headers:t.headers,status:t.status,statusText:t.statusText})}let t=j(!0,f).then(u.cloneResponse);return(e=t.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{if(i){var e;(null==(e=m.pendingRevalidates)?void 0:e[i])&&delete m.pendingRevalidates[i]}})).catch(()=>{}),m.pendingRevalidates[i]=e,t.then(e=>e[1])}})};return l.__nextPatched=!0,l.__nextGetStaticStore=()=>r,l._nextOriginalFetch=e,l}(r,e)}},71376:(e,t)=>{"use strict";var r,n,i,a,o,s,l,u,c,d,h,f;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{AppRenderSpan:function(){return l},AppRouteRouteHandlersSpan:function(){return d},BaseServerSpan:function(){return r},LoadComponentsSpan:function(){return n},LogSpanAllowList:function(){return g},MiddlewareSpan:function(){return f},NextNodeServerSpan:function(){return a},NextServerSpan:function(){return i},NextVanillaSpanAllowlist:function(){return p},NodeSpan:function(){return c},RenderSpan:function(){return s},ResolveMetadataSpan:function(){return h},RouterSpan:function(){return u},StartServerSpan:function(){return o}}),function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(r||(r={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(n||(n={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(i||(i={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(a||(a={})),(o||(o={})).startServer="startServer.startServer",function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(s||(s={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(l||(l={})),(u||(u={})).executeRoute="Router.executeRoute",(c||(c={})).runHandler="Node.runHandler",(d||(d={})).runHandler="AppRouteRouteHandlers.runHandler",function(e){e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport"}(h||(h={})),(f||(f={})).execute="Middleware.execute";let p=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],g=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},64994:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{SpanKind:function(){return u},SpanStatusCode:function(){return l},getTracer:function(){return b}});let i=r(71376);try{n=r(27482)}catch(e){n=r(27482)}let{context:a,propagation:o,trace:s,SpanStatusCode:l,SpanKind:u,ROOT_CONTEXT:c}=n,d=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,h=(e,t)=>{(null==t?void 0:t.bubble)===!0?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:l.ERROR,message:null==t?void 0:t.message})),e.end()},f=new Map,p=n.createContextKey("next.rootSpanId"),g=0,y=()=>g++;class m{getTracerInstance(){return s.getTracer("next.js","0.0.1")}getContext(){return a}getActiveScopeSpan(){return s.getSpan(null==a?void 0:a.active())}withPropagatedContext(e,t,r){let n=a.active();if(s.getSpanContext(n))return t();let i=o.extract(n,e,r);return a.with(i,t)}trace(...e){var t;let[r,n,o]=e,{fn:l,options:u}="function"==typeof n?{fn:n,options:{}}:{fn:o,options:{...n}},g=u.spanName??r;if(!i.NextVanillaSpanAllowlist.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||u.hideSpan)return l();let m=this.getSpanContext((null==u?void 0:u.parentSpan)??this.getActiveScopeSpan()),b=!1;m?(null==(t=s.getSpanContext(m))?void 0:t.isRemote)&&(b=!0):(m=(null==a?void 0:a.active())??c,b=!0);let v=y();return u.attributes={"next.span_name":g,"next.span_type":r,...u.attributes},a.with(m.setValue(p,v),()=>this.getTracerInstance().startActiveSpan(g,u,e=>{let t="performance"in globalThis?globalThis.performance.now():void 0,n=()=>{f.delete(v),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&i.LogSpanAllowList.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};b&&f.set(v,new Map(Object.entries(u.attributes??{})));try{if(l.length>1)return l(e,t=>h(e,t));let t=l(e);if(d(t))return t.then(t=>(e.end(),t)).catch(t=>{throw h(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw h(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,o]=3===e.length?e:[e[0],{},e[1]];return i.NextVanillaSpanAllowlist.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof o&&(e=e.apply(this,arguments));let i=arguments.length-1,s=arguments[i];if("function"!=typeof s)return t.trace(r,e,()=>o.apply(this,arguments));{let n=t.getContext().bind(a.active(),s);return t.trace(r,e,(e,t)=>(arguments[i]=function(e){return null==t||t(e),n.apply(this,arguments)},o.apply(this,arguments)))}}:o}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?s.setSpan(a.active(),e):void 0}getRootSpanAttributes(){let e=a.active().getValue(p);return f.get(e)}}let b=(()=>{let e=new m;return()=>e})()},44:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return n},RemovedUAError:function(){return i}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class n extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class i extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},98277:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return n.ImageResponse},NextRequest:function(){return i.NextRequest},NextResponse:function(){return a.NextResponse},URLPattern:function(){return s.URLPattern},userAgent:function(){return o.userAgent},userAgentFromString:function(){return o.userAgentFromString}});let n=r(10006),i=r(39745),a=r(59211),o=r(78471),s=r(72433)},79519:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return c}});let n=r(23777),i=r(93817),a=r(61675),o=r(6111),s=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(s,"localhost"),t&&String(t).replace(s,"localhost"))}let u=Symbol("NextURLInternal");class c{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[u]={url:l(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,i,s;let l=(0,o.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),c=(0,a.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(c):(0,n.detectDomainLocale)(null==(t=this[u].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,c);let d=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(s=this[u].options.nextConfig)?void 0:null==(i=s.i18n)?void 0:i.defaultLocale);this[u].url.pathname=l.pathname,this[u].defaultLocale=d,this[u].basePath=l.basePath??"",this[u].buildId=l.buildId,this[u].locale=l.locale??d,this[u].trailingSlash=l.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=l(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new c(String(this),this[u].options)}}},53047:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HeadersAdapter:function(){return a},ReadonlyHeadersError:function(){return i}});let n=r(38238);class i extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new i}}class a extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return n.ReflectAdapter.get(t,r,i);let a=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);if(void 0!==o)return n.ReflectAdapter.get(t,o,i)},set(t,r,i,a){if("symbol"==typeof r)return n.ReflectAdapter.set(t,r,i,a);let o=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===o);return n.ReflectAdapter.set(t,s??r,i,a)},has(t,r){if("symbol"==typeof r)return n.ReflectAdapter.has(t,r);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==a&&n.ReflectAdapter.has(t,a)},deleteProperty(t,r){if("symbol"==typeof r)return n.ReflectAdapter.deleteProperty(t,r);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===a||n.ReflectAdapter.deleteProperty(t,a)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return i.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new a(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},38238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},68996:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{MutableRequestCookiesAdapter:function(){return d},ReadonlyRequestCookiesError:function(){return o},RequestCookiesAdapter:function(){return s},appendMutableCookies:function(){return c},getModifiedCookieValues:function(){return u}});let n=r(92044),i=r(38238),a=r(45869);class o extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new o}}class s{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return o.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}}let l=Symbol.for("next.mutated.cookies");function u(e){let t=e[l];return t&&Array.isArray(t)&&0!==t.length?t:[]}function c(e,t){let r=u(t);if(0===r.length)return!1;let i=new n.ResponseCookies(e),a=i.getAll();for(let e of r)i.set(e);for(let e of a)i.set(e);return!0}class d{static wrap(e,t){let r=new n.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let o=[],s=new Set,u=()=>{let e=a.staticGenerationAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),o=r.getAll().filter(e=>s.has(e.name)),t){let e=[];for(let t of o){let r=new n.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}};return new Proxy(r,{get(e,t,r){switch(t){case l:return o;case"delete":return function(...t){s.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{u()}};case"set":return function(...t){s.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{u()}};default:return i.ReflectAdapter.get(e,t,r)}}})}}},92044:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies},stringifyCookie:function(){return n.stringifyCookie}});let n=r(79925)},10006:(e,t)=>{"use strict";function r(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},39745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return s},NextRequest:function(){return l}});let n=r(79519),i=r(17636),a=r(44),o=r(92044),s=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,i.validateURL)(r),e instanceof Request?super(e,t):super(r,t);let a=new n.NextURL(r,{headers:(0,i.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[s]={cookies:new o.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[s].cookies}get geo(){return this[s].geo}get ip(){return this[s].ip}get nextUrl(){return this[s].nextUrl}get page(){throw new a.RemovedPageError}get ua(){throw new a.RemovedUAError}get url(){return this[s].url}}},59211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return d}});let n=r(92044),i=r(79519),a=r(17636),o=r(38238),s=r(92044),l=Symbol("internal response"),u=new Set([301,302,303,307,308]);function c(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);let r=this.headers,u=new Proxy(new s.ResponseCookies(r),{get(e,i,a){switch(i){case"delete":case"set":return(...a)=>{let o=Reflect.apply(e[i],e,a),l=new Headers(r);return o instanceof s.ResponseCookies&&r.set("x-middleware-set-cookie",o.getAll().map(e=>(0,n.stringifyCookie)(e)).join(",")),c(t,l),o};default:return o.ReflectAdapter.get(e,i,a)}}});this[l]={cookies:u,url:t.url?new i.NextURL(t.url,{headers:(0,a.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!u.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",(0,a.validateURL)(e)),new d(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,a.validateURL)(e)),c(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),c(e,t),new d(null,{...e,headers:t})}}},72433:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},78471:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return i},userAgent:function(){return o},userAgentFromString:function(){return a}});let n=function(e){return e&&e.__esModule?e:{default:e}}(r(18346));function i(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function a(e){return{...(0,n.default)(e),isBot:void 0!==e&&i(e)}}function o({headers:e}){return a(e.get("user-agent")||void 0)}},17636:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return i},normalizeNextQueryParam:function(){return l},splitCookiesString:function(){return a},toNodeOutgoingHttpHeaders:function(){return o},validateURL:function(){return s}});let n=r(11943);function i(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function a(e){var t,r,n,i,a,o=[],s=0;function l(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,a=!1;l();)if(","===(r=e.charAt(s))){for(n=s,s+=1,l(),i=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(a=!0,s=i,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!a||s>=e.length)&&o.push(e.substring(t,e.length))}return o}function o(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...a(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function s(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}function l(e,t){for(let r of[n.NEXT_QUERY_PARAM_PREFIX,n.NEXT_INTERCEPTION_MARKER_PREFIX])e!==r&&e.startsWith(r)&&t(e.substring(r.length))}},61675:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},23777:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let a of(r&&(r=r.toLowerCase()),e)){var n,i;if(t===(null==(n=a.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===a.defaultLocale.toLowerCase()||(null==(i=a.locales)?void 0:i.some(e=>e.toLowerCase()===r)))return a}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},95014:(e,t)=>{"use strict";function r(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},80225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}});let n=r(91041),i=r(84329);function a(e,t,r,a){if(!t||t===r)return e;let o=e.toLowerCase();return!a&&((0,i.pathHasPrefix)(o,"/api")||(0,i.pathHasPrefix)(o,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},91041:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return i}});let n=r(81693);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:a}=(0,n.parsePath)(e);return""+t+r+i+a}},98166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return i}});let n=r(81693);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:a}=(0,n.parsePath)(e);return""+r+t+i+a}},93817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=r(37847),i=r(91041),a=r(98166),o=r(80225);function s(e){let t=(0,o.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,a.addPathSuffix)((0,i.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,a.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},6111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=r(95014),i=r(29529),a=r(84329);function o(e,t){var r,o;let{basePath:s,i18n:l,trailingSlash:u}=null!=(r=t.nextConfig)?r:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};s&&(0,a.pathHasPrefix)(c.pathname,s)&&(c.pathname=(0,i.removePathPrefix)(c.pathname,s),c.basePath=s);let d=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];c.buildId=r,d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=d)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,n.normalizeLocalePath)(c.pathname,l.locales);c.locale=e.detectedLocale,c.pathname=null!=(o=e.pathname)?o:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,n.normalizeLocalePath)(d,l.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},81693:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},84329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return i}});let n=r(81693);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},29529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return i}});let n=r(84329);function i(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},37847:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},46743:(e,t,r)=>{"use strict";r.r(t),r.d(t,{snakeCase:()=>l});var n=r(52378);function i(e){return e.toLowerCase()}var a=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],o=/[^A-Z0-9]+/gi;function s(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce(function(e,t){return e.replace(t,r)},e)}function l(e,t){var r;return void 0===t&&(t={}),void 0===(r=(0,n.pi)({delimiter:"_"},t))&&(r={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=t.stripRegexp,l=t.transform,u=t.delimiter,c=s(s(e,void 0===r?a:r,"$1\0$2"),void 0===n?o:n,"\0"),d=0,h=c.length;"\0"===c.charAt(d);)d++;for(;"\0"===c.charAt(h-1);)h--;return c.slice(d,h).split("\0").map(void 0===l?i:l).join(void 0===u?" ":u)}(e,(0,n.pi)({delimiter:"."},r))}},31727:(e,t,r)=>{"use strict";let n=r(49245),{snakeCase:i}=r(46743);e.exports=function(e,t){return n(e,function(e,r){return[t.exclude.some(function(t){return"string"==typeof t?t===e:t.test(e)})?e:i(e,t.parsingOptions),r]},t=Object.assign({deep:!0,exclude:[],parsingOptions:{}},t))}},52378:(e,t,r)=>{"use strict";r.d(t,{gn:()=>i,pi:()=>n});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}Object.create,Object.create},96862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(15264),i=r(87561),a=r(49411);r(88849),r(22286),r(65628),r(84492),r(72254),r(47261),r(41041),r(87503);let{stat:o}=i.promises,s=(e,t,r="")=>new n._Blob([new u({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],{type:r}),l=(e,t,r="")=>new n.File([new u({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],a.basename(t),{type:r,lastModified:e.mtimeMs});class u{#e;#t;constructor(e){this.#e=e.path,this.#t=e.start,this.size=e.size,this.lastModified=e.lastModified,this.originalSize=void 0===e.originalSize?e.size:e.originalSize}slice(e,t){return new u({path:this.#e,lastModified:this.lastModified,originalSize:this.originalSize,size:t-e,start:this.#t+e})}async *stream(){let{mtimeMs:e,size:t}=await o(this.#e);if(e>this.lastModified||this.originalSize!==t)throw new n.nodeDomexception("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*i.createReadStream(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}let c=globalThis.fetch||n.fetch,d=globalThis.Blob||n._Blob,h=globalThis.File||n.File,f=globalThis.FormData||n.FormData,p=globalThis.Headers||n.Headers,g=globalThis.Request||n.Request,y=globalThis.Response||n.Response,m=globalThis.AbortController||n.AbortController;t.AbortError=n.AbortError,t.FetchError=n.FetchError,t.isRedirect=n.isRedirect,t.AbortController=m,t.Blob=d,t.File=h,t.FormData=f,t.Headers=p,t.Request=g,t.Response=y,t.blobFrom=(e,t)=>o(e).then(r=>s(r,e,t)),t.blobFromSync=(e,t)=>s(i.statSync(e),e,t),t.default=c,t.fetch=c,t.fileFrom=(e,t)=>o(e).then(r=>l(r,e,t)),t.fileFromSync=(e,t)=>l(i.statSync(e),e,t)},15264:(e,t,r)=>{"use strict";let n=r(88849),i=r(22286),a=r(65628),o=r(84492),s=r(72254),l=r(47261),u=r(41041),c=r(87503);r(87561),r(49411);var d,h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},f={exports:{}};if(!globalThis.ReadableStream)try{let e=r(97742),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,r(72477)),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch(e){Object.assign(globalThis,(d||(d=1,function(e){let t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function r(){}let n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==h?h:void 0;function i(e){return"object"==typeof e&&null!==e||"function"==typeof e}let a=Promise,o=Promise.prototype.then,s=Promise.resolve.bind(a),l=Promise.reject.bind(a);function u(e){return new a(e)}function c(e,t,r){return o.call(e,t,r)}function d(e,t,n){c(c(e,t,n),void 0,r)}function f(e,t){d(e,void 0,t)}function p(e){c(e,void 0,r)}let g=(()=>{let e=n&&n.queueMicrotask;if("function"==typeof e)return e;let t=s(void 0);return e=>c(t,e)})();function y(e,t,r){if("function"!=typeof e)throw TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function m(e,t,r){try{var n;return n=y(e,t,r),s(n)}catch(e){return l(e)}}class b{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let t=this._back,r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){let e=this._front,t=e,r=this._cursor,n=r+1,i=e._elements,a=i[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,a}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;(t!==n.length||void 0!==r._next)&&(t!==n.length||(n=(r=r._next)._elements,t=0,0!==n.length));)e(n[t]),++t}peek(){let e=this._front,t=this._cursor;return e._elements[t]}}function v(e,t){var r;e._ownerReadableStream=t,t._reader=e,"readable"===t._state?A(e):"closed"===t._state?(A(e),E(e)):(r=t._storedError,A(e),k(e,r))}function w(e,t){return tq(e._ownerReadableStream,t)}function S(e){var t,r;"readable"===e._ownerReadableStream._state?k(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(t=e,r=TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),A(t),k(t,r)),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function _(e){return TypeError("Cannot "+e+" a stream using a released reader")}function A(e){e._closedPromise=u((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function k(e,t){void 0!==e._closedPromise_reject&&(p(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function E(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let x=t("[[AbortSteps]]"),P=t("[[ErrorSteps]]"),C=t("[[CancelSteps]]"),T=t("[[PullSteps]]"),O=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},R=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function B(e,t){if(void 0!==e&&!("object"==typeof e||"function"==typeof e))throw TypeError(`${t} is not an object.`)}function N(e,t){if("function"!=typeof e)throw TypeError(`${t} is not a function.`)}function I(e,t){if(!("object"==typeof e&&null!==e||"function"==typeof e))throw TypeError(`${t} is not an object.`)}function U(e,t,r){if(void 0===e)throw TypeError(`Parameter ${t} is required in '${r}'.`)}function L(e,t,r){if(void 0===e)throw TypeError(`${t} is required in '${r}'.`)}function K(e){return Number(e)}function M(e,t){var r,n;let i=Number.MAX_SAFE_INTEGER,a=Number(e);if(!O(a=0===(r=a)?0:r))throw TypeError(`${t} is not a finite number`);if((a=0===(n=R(a))?0:n)<0||a>i)throw TypeError(`${t} is outside the accepted range of 0 to ${i}, inclusive`);return O(a)&&0!==a?a:0}function j(e,t){if(!tH(e))throw TypeError(`${t} is not a ReadableStream.`)}function D(e){return new z(e)}function H(e,t){e._reader._readRequests.push(t)}function $(e,t,r){let n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function q(e){return e._reader._readRequests.length}function V(e){let t=e._reader;return!!(void 0!==t&&F(t))}class z{constructor(e){if(U(e,1,"ReadableStreamDefaultReader"),j(e,"First parameter"),t$(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");v(this,e),this._readRequests=new b}get closed(){return F(this)?this._closedPromise:l(J("closed"))}cancel(e){return F(this)?void 0===this._ownerReadableStream?l(_("cancel")):w(this,e):l(J("cancel"))}read(){let e,t;if(!F(this))return l(J("read"));if(void 0===this._ownerReadableStream)return l(_("read from"));let r=u((r,n)=>{e=r,t=n});return W(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!F(this))throw J("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");S(this)}}}function F(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_readRequests"))&&e instanceof z}function W(e,t){let r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[T](t)}function J(e){return TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(z.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(z.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let G=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class X{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?c(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let t=()=>this._returnSteps(e);return this._ongoingPromise?c(this._ongoingPromise,t,t):t()}_nextSteps(){let e,t;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let r=this._reader;if(void 0===r._ownerReadableStream)return l(_("iterate"));let n=u((r,n)=>{e=r,t=n});return W(r,{_chunkSteps:t=>{this._ongoingPromise=void 0,g(()=>e({value:t,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,S(r),e({value:void 0,done:!0})},_errorSteps:e=>{this._ongoingPromise=void 0,this._isFinished=!0,S(r),t(e)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let t=this._reader;if(void 0===t._ownerReadableStream)return l(_("finish iterating"));if(!this._preventCancel){let r=w(t,e);return S(t),c(r,()=>({value:e,done:!0}),void 0)}return S(t),s({value:e,done:!0})}}let Y={next(){return Z(this)?this._asyncIteratorImpl.next():l(Q("next"))},return(e){return Z(this)?this._asyncIteratorImpl.return(e):l(Q("return"))}};function Z(e){if(!i(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof X}catch(e){return!1}}function Q(e){return TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==G&&Object.setPrototypeOf(Y,G);let ee=Number.isNaN||function(e){return e!=e};function et(e){return e.slice()}function er(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)}function en(e,t,r){if(e.slice)return e.slice(t,r);let n=r-t,i=new ArrayBuffer(n);return er(i,0,e,t,n),i}function ei(e){return new Uint8Array(en(e.buffer,e.byteOffset,e.byteOffset+e.byteLength))}function ea(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function eo(e,t,r){if(!(!("number"!=typeof r||ee(r))&&!(r<0))||r===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function es(e){e._queue=new b,e._queueTotalSize=0}class el{constructor(){throw TypeError("Illegal constructor")}get view(){if(!ed(this))throw eN("view");return this._view}respond(e){if(!ed(this))throw eN("respond");if(U(e,1,"respond"),e=M(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");this._view.buffer,eO(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ed(this))throw eN("respondWithNewView");if(U(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");e.buffer,eR(this._associatedReadableByteStreamController,e)}}Object.defineProperties(el.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(el.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class eu{constructor(){throw TypeError("Illegal constructor")}get byobRequest(){if(!ec(this))throw eI("byobRequest");return eC(this)}get desiredSize(){if(!ec(this))throw eI("desiredSize");return eT(this)}close(){if(!ec(this))throw eI("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if("readable"!==e)throw TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);eE(this)}enqueue(e){if(!ec(this))throw eI("enqueue");if(U(e,1,"enqueue"),!ArrayBuffer.isView(e))throw TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");let t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);ex(this,e)}error(e){if(!ec(this))throw eI("error");eP(this,e)}[C](e){ef(this),es(this);let t=this._cancelAlgorithm(e);return ek(this),t}[T](e){let t=this._controlledReadableByteStream;if(this._queueTotalSize>0){let t=this._queue.shift();this._queueTotalSize-=t.byteLength,ev(this);let r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e._chunkSteps(r);return}let r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){e._errorSteps(t);return}let n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}H(t,e),eh(this)}}function ec(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream"))&&e instanceof eu}function ed(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController"))&&e instanceof el}function eh(e){if(function(e){let t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&!!(V(t)&&q(t)>0||eK(t)&&eL(t)>0||eT(e)>0)}(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,d(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,eh(e))},t=>{eP(e,t)})}}function ef(e){ew(e),e._pendingPullIntos=new b}function ep(e,t){let r=!1;"closed"===e._state&&(r=!0);let n=eg(t);"default"===t.readerType?$(e,n,r):function(e,t,r){let n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function eg(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function ey(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function em(e,t){let r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+i,o=a-a%r,s=i,l=!1;o>n&&(s=o-t.bytesFilled,l=!0);let u=e._queue;for(;s>0;){let r=u.peek(),n=Math.min(s,r.byteLength),i=t.byteOffset+t.bytesFilled;er(t.buffer,i,r.buffer,r.byteOffset,n),r.byteLength===n?u.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,eb(e,n,t),s-=n}return l}function eb(e,t,r){r.bytesFilled+=t}function ev(e){0===e._queueTotalSize&&e._closeRequested?(ek(e),tV(e._controlledReadableByteStream)):eh(e)}function ew(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function eS(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;let t=e._pendingPullIntos.peek();em(e,t)&&(eA(e),ep(e._controlledReadableByteStream,t))}}function e_(e,t){let r=e._pendingPullIntos.peek();ew(e),"closed"===e._controlledReadableByteStream._state?function(e,t){let r=e._controlledReadableByteStream;if(eK(r))for(;eL(r)>0;)ep(r,eA(e))}(e):function(e,t,r){if(eb(e,t,r),r.bytesFilled<r.elementSize)return;eA(e);let n=r.bytesFilled%r.elementSize;if(n>0){let t=r.byteOffset+r.bytesFilled,i=en(r.buffer,t-n,t);ey(e,i,0,i.byteLength)}r.bytesFilled-=n,ep(e._controlledReadableByteStream,r),eS(e)}(e,t,r),eh(e)}function eA(e){return e._pendingPullIntos.shift()}function ek(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function eE(e){let t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let t=TypeError("Insufficient bytes to fill elements in the given buffer");throw eP(e,t),t}ek(e),tV(t)}}function ex(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;let n=t.buffer,i=t.byteOffset,a=t.byteLength;if(e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}ew(e),V(r)?0===q(r)?ey(e,n,i,a):(e._pendingPullIntos.length>0&&eA(e),$(r,new Uint8Array(n,i,a),!1)):eK(r)?(ey(e,n,i,a),eS(e)):ey(e,n,i,a),eh(e)}function eP(e,t){let r=e._controlledReadableByteStream;"readable"===r._state&&(ef(e),es(e),ek(e),tz(r,t))}function eC(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(el.prototype);n._associatedReadableByteStreamController=e,n._view=r,e._byobRequest=n}return e._byobRequest}function eT(e){let t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function eO(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw RangeError("bytesWritten out of range")}r.buffer=r.buffer,e_(e,t)}function eR(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw RangeError("The region specified by view is larger than byobRequest");let n=t.byteLength;r.buffer=t.buffer,e_(e,n)}function eB(e,t,r,n,i,a,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,es(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=a,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=o,t._pendingPullIntos=new b,e._readableStreamController=t,d(s(r()),()=>{t._started=!0,eh(t)},e=>{eP(t,e)})}function eN(e){return TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function eI(e){return TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function eU(e,t){e._reader._readIntoRequests.push(t)}function eL(e){return e._reader._readIntoRequests.length}function eK(e){let t=e._reader;return!!(void 0!==t&&ej(t))}Object.defineProperties(eu.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(eu.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class eM{constructor(e){if(U(e,1,"ReadableStreamBYOBReader"),j(e,"First parameter"),t$(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!ec(e._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");v(this,e),this._readIntoRequests=new b}get closed(){return ej(this)?this._closedPromise:l(eH("closed"))}cancel(e){return ej(this)?void 0===this._ownerReadableStream?l(_("cancel")):w(this,e):l(eH("cancel"))}read(e){let t,r;if(!ej(this))return l(eH("read"));if(!ArrayBuffer.isView(e))return l(TypeError("view must be an array buffer view"));if(0===e.byteLength)return l(TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return l(TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return l(_("read from"));let n=u((e,n)=>{t=e,r=n});return eD(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!ej(this))throw eH("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");S(this)}}}function ej(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_readIntoRequests"))&&e instanceof eM}function eD(e,t,r){let n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){let n=e._controlledReadableByteStream,i=1;t.constructor!==DataView&&(i=t.constructor.BYTES_PER_ELEMENT);let a=t.constructor,o=t.buffer,s={buffer:o,bufferByteLength:o.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:i,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(s),eU(n,r);return}if("closed"===n._state){let e=new a(s.buffer,s.byteOffset,0);r._closeSteps(e);return}if(e._queueTotalSize>0){if(em(e,s)){let t=eg(s);ev(e),r._chunkSteps(t);return}if(e._closeRequested){let t=TypeError("Insufficient bytes to fill elements in the given buffer");eP(e,t),r._errorSteps(t);return}}e._pendingPullIntos.push(s),eU(n,r),eh(e)}(n._readableStreamController,t,r)}function eH(e){return TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function e$(e,t){let{highWaterMark:r}=e;if(void 0===r)return t;if(ee(r)||r<0)throw RangeError("Invalid highWaterMark");return r}function eq(e){let{size:t}=e;return t||(()=>1)}function eV(e,t){B(e,t);let r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:K(r),size:void 0===n?void 0:(N(n,`${t} has member 'size' that`),e=>K(n(e)))}}function ez(e,t){if(!eG(e))throw TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(eM.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(eM.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});let eF="function"==typeof AbortController;class eW{constructor(e={},t={}){void 0===e?e=null:I(e,"First parameter");let r=eV(t,"Second parameter"),n=function(e,t){B(e,t);let r=null==e?void 0:e.abort,n=null==e?void 0:e.close,i=null==e?void 0:e.start,a=null==e?void 0:e.type,o=null==e?void 0:e.write;return{abort:void 0===r?void 0:(N(r,`${t} has member 'abort' that`),t=>m(r,e,[t])),close:void 0===n?void 0:(N(n,`${t} has member 'close' that`),()=>m(n,e,[])),start:void 0===i?void 0:(N(i,`${t} has member 'start' that`),t=>y(i,e,[t])),write:void 0===o?void 0:(N(o,`${t} has member 'write' that`),(t,r)=>m(o,e,[t,r])),type:a}}(e,"First parameter");if(eJ(this),void 0!==n.type)throw RangeError("Invalid type is specified");let i=eq(r);(function(e,t,r,n){let i=Object.create(tr.prototype),a=()=>void 0,o=()=>s(void 0),l=()=>s(void 0),u=()=>s(void 0);void 0!==t.start&&(a=()=>t.start(i)),void 0!==t.write&&(o=e=>t.write(e,i)),void 0!==t.close&&(l=()=>t.close()),void 0!==t.abort&&(u=e=>t.abort(e)),ti(e,i,a,o,l,u,r,n)})(this,n,e$(r,1),i)}get locked(){if(!eG(this))throw tc("locked");return eX(this)}abort(e){return eG(this)?eX(this)?l(TypeError("Cannot abort a stream that already has a writer")):eY(this,e):l(tc("abort"))}close(){return eG(this)?eX(this)?l(TypeError("Cannot close a stream that already has a writer")):e2(this)?l(TypeError("Cannot close an already-closing stream")):eZ(this):l(tc("close"))}getWriter(){if(!eG(this))throw tc("getWriter");return new e4(this)}}function eJ(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new b,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function eG(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_writableStreamController"))&&e instanceof eW}function eX(e){return void 0!==e._writer}function eY(e,t){var r;if("closed"===e._state||"errored"===e._state)return s(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort();let n=e._state;if("closed"===n||"errored"===n)return s(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let i=!1;"erroring"===n&&(i=!0,t=void 0);let a=u((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:i}});return e._pendingAbortRequest._promise=a,i||e0(e,t),a}function eZ(e){var t;let r=e._state;if("closed"===r||"errored"===r)return l(TypeError(`The stream (in ${r} state) is not in the writable state and cannot be closed`));let n=u((t,r)=>{e._closeRequest={_resolve:t,_reject:r}}),i=e._writer;return void 0!==i&&e._backpressure&&"writable"===r&&tw(i),eo(t=e._writableStreamController,tt,0),ts(t),n}function eQ(e,t){if("writable"===e._state){e0(e,t);return}e1(e)}function e0(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let n=e._writer;void 0!==n&&e9(n,t),!(void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest)&&r._started&&e1(e)}function e1(e){e._state="errored",e._writableStreamController[P]();let t=e._storedError;if(e._writeRequests.forEach(e=>{e._reject(t)}),e._writeRequests=new b,void 0===e._pendingAbortRequest){e8(e);return}let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring){r._reject(t),e8(e);return}d(e._writableStreamController[x](r._reason),()=>{r._resolve(),e8(e)},t=>{r._reject(t),e8(e)})}function e2(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function e8(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;void 0!==t&&tg(t,e._storedError)}function e3(e,t){let r=e._writer;void 0!==r&&t!==e._backpressure&&(t?tm(r):tw(r)),e._backpressure=t}Object.defineProperties(eW.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(eW.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class e4{constructor(e){if(U(e,1,"WritableStreamDefaultWriter"),ez(e,"First parameter"),eX(e))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let t=e._state;if("writable"===t)!e2(e)&&e._backpressure?tm(this):(tm(this),tw(this)),tp(this);else if("erroring"===t)tb(this,e._storedError),tp(this);else if("closed"===t)tm(this),tw(this),tp(this),ty(this);else{let t=e._storedError;tb(this,t),tp(this),tg(this,t)}}get closed(){return e6(this)?this._closedPromise:l(th("closed"))}get desiredSize(){if(!e6(this))throw th("desiredSize");if(void 0===this._ownerWritableStream)throw tf("desiredSize");return function(e){let t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:to(t._writableStreamController)}(this)}get ready(){return e6(this)?this._readyPromise:l(th("ready"))}abort(e){return e6(this)?void 0===this._ownerWritableStream?l(tf("abort")):eY(this._ownerWritableStream,e):l(th("abort"))}close(){if(!e6(this))return l(th("close"));let e=this._ownerWritableStream;return void 0===e?l(tf("close")):e2(e)?l(TypeError("Cannot close an already-closing stream")):e5(this)}releaseLock(){if(!e6(this))throw th("releaseLock");void 0!==this._ownerWritableStream&&e7(this)}write(e){return e6(this)?void 0===this._ownerWritableStream?l(tf("write to")):te(this,e):l(th("write"))}}function e6(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream"))&&e instanceof e4}function e5(e){return eZ(e._ownerWritableStream)}function e9(e,t){"pending"===e._readyPromiseState?tv(e,t):tb(e,t)}function e7(e){var t,r;let n=e._ownerWritableStream,i=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");e9(e,i),"pending"===e._closedPromiseState?tg(e,i):(t=e,r=i,tp(t),tg(t,r)),n._writer=void 0,e._ownerWritableStream=void 0}function te(e,t){let r=e._ownerWritableStream,n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return tl(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return l(tf("write to"));let a=r._state;if("errored"===a)return l(r._storedError);if(e2(r)||"closed"===a)return l(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return l(r._storedError);let o=u((e,t)=>{r._writeRequests.push({_resolve:e,_reject:t})});return function(e,t,r){try{eo(e,t,r)}catch(t){tl(e,t);return}let n=e._controlledWritableStream;e2(n)||"writable"!==n._state||e3(n,0>=to(e)),ts(e)}(n,t,i),o}Object.defineProperties(e4.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(e4.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});let tt={};class tr{constructor(){throw TypeError("Illegal constructor")}get abortReason(){if(!tn(this))throw td("abortReason");return this._abortReason}get signal(){if(!tn(this))throw td("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!tn(this))throw td("error");"writable"===this._controlledWritableStream._state&&tu(this,e)}[x](e){let t=this._abortAlgorithm(e);return ta(this),t}[P](){es(this)}}function tn(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))&&e instanceof tr}function ti(e,t,r,n,i,a,o,l){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,es(t),t._abortReason=void 0,t._abortController=function(){if(eF)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=l,t._strategyHWM=o,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=a,e3(e,0>=to(t)),d(s(r()),()=>{t._started=!0,ts(t)},r=>{t._started=!0,eQ(e,r)})}function ta(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function to(e){return e._strategyHWM-e._queueTotalSize}function ts(e){let t=e._controlledWritableStream;if(!e._started||void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state){e1(t);return}if(0===e._queue.length)return;let r=e._queue.peek().value;r===tt?function(e){let t=e._controlledWritableStream;t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0,ea(e);let r=e._closeAlgorithm();ta(e),d(r,()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let t=e._writer;void 0!==t&&ty(t)}(t)},e=>{t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),eQ(t,e)})}(e):function(e,t){let r=e._controlledWritableStream;r._inFlightWriteRequest=r._writeRequests.shift(),d(e._writeAlgorithm(t),()=>{r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0;let t=r._state;ea(e),e2(r)||"writable"!==t||e3(r,0>=to(e)),ts(e)},t=>{"writable"===r._state&&ta(e),r._inFlightWriteRequest._reject(t),r._inFlightWriteRequest=void 0,eQ(r,t)})}(e,r)}function tl(e,t){"writable"===e._controlledWritableStream._state&&tu(e,t)}function tu(e,t){let r=e._controlledWritableStream;ta(e),e0(r,t)}function tc(e){return TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function td(e){return TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function th(e){return TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function tf(e){return TypeError("Cannot "+e+" a stream using a released writer")}function tp(e){e._closedPromise=u((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function tg(e,t){void 0!==e._closedPromise_reject&&(p(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function ty(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function tm(e){e._readyPromise=u((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function tb(e,t){tm(e),tv(e,t)}function tv(e,t){void 0!==e._readyPromise_reject&&(p(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function tw(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(tr.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tr.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});let tS="undefined"!=typeof DOMException?DOMException:void 0,t_=!function(e){if(!("function"==typeof e||"object"==typeof e))return!1;try{return new e,!0}catch(e){return!1}}(tS)?function(){let e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}():tS;function tA(e,t,n,i,a,o){let h=D(e),g=new e4(t);e._disturbed=!0;let y=!1,m=s(void 0);return u((b,v)=>{var w,_;let A;if(void 0!==o){if(A=()=>{let r=new t_("Aborted","AbortError"),n=[];i||n.push(()=>"writable"===t._state?eY(t,r):s(void 0)),a||n.push(()=>"readable"===e._state?tq(e,r):s(void 0)),x(()=>Promise.all(n.map(e=>e())),!0,r)},o.aborted){A();return}o.addEventListener("abort",A)}if(E(e,h._closedPromise,e=>{i?P(!0,e):x(()=>eY(t,e),!0,e)}),E(t,g._closedPromise,t=>{a?P(!0,t):x(()=>tq(e,t),!0,t)}),w=h._closedPromise,_=()=>{n?P():x(()=>(function(e){let t=e._ownerWritableStream,r=t._state;return e2(t)||"closed"===r?s(void 0):"errored"===r?l(t._storedError):e5(e)})(g))},"closed"===e._state?_():d(w,_),e2(t)||"closed"===t._state){let t=TypeError("the destination writable stream closed before all data could be piped to it");a?P(!0,t):x(()=>tq(e,t),!0,t)}function k(){let e=m;return c(m,()=>e!==m?k():void 0)}function E(e,t,r){"errored"===e._state?r(e._storedError):f(t,r)}function x(e,r,n){!y&&((y=!0,"writable"!==t._state||e2(t))?i():d(k(),i));function i(){d(e(),()=>C(r,n),e=>C(!0,e))}}function P(e,r){!y&&((y=!0,"writable"!==t._state||e2(t))?C(e,r):d(k(),()=>C(e,r)))}function C(e,t){e7(g),S(h),void 0!==o&&o.removeEventListener("abort",A),e?v(t):b(void 0)}p(u((e,t)=>{!function n(i){i?e():c(y?s(!0):c(g._readyPromise,()=>u((e,t)=>{W(h,{_chunkSteps:t=>{m=c(te(g,t),void 0,r),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})),n,t)}(!1)}))})}class tk{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!tE(this))throw tU("desiredSize");return tB(this)}close(){if(!tE(this))throw tU("close");if(!tN(this))throw TypeError("The stream is not in a state that permits close");tT(this)}enqueue(e){if(!tE(this))throw tU("enqueue");if(!tN(this))throw TypeError("The stream is not in a state that permits enqueue");return tO(this,e)}error(e){if(!tE(this))throw tU("error");tR(this,e)}[C](e){es(this);let t=this._cancelAlgorithm(e);return tC(this),t}[T](e){let t=this._controlledReadableStream;if(this._queue.length>0){let r=ea(this);this._closeRequested&&0===this._queue.length?(tC(this),tV(t)):tx(this),e._chunkSteps(r)}else H(t,e),tx(this)}}function tE(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream"))&&e instanceof tk}function tx(e){if(tP(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,d(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,tx(e))},t=>{tR(e,t)})}}function tP(e){let t=e._controlledReadableStream;return!!tN(e)&&!!e._started&&!!(t$(t)&&q(t)>0||tB(e)>0)}function tC(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function tT(e){if(!tN(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(tC(e),tV(t))}function tO(e,t){if(!tN(e))return;let r=e._controlledReadableStream;if(t$(r)&&q(r)>0)$(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw tR(e,t),t}try{eo(e,t,r)}catch(t){throw tR(e,t),t}}tx(e)}function tR(e,t){let r=e._controlledReadableStream;"readable"===r._state&&(es(e),tC(e),tz(r,t))}function tB(e){let t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function tN(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function tI(e,t,r,n,i,a,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,es(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=a,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,d(s(r()),()=>{t._started=!0,tx(t)},e=>{tR(t,e)})}function tU(e){return TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function tL(e,t){B(e,t);let r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,a=null==e?void 0:e.signal;return void 0!==a&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw TypeError(`${t} is not an AbortSignal.`)}(a,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!n,preventClose:!!i,signal:a}}Object.defineProperties(tk.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tk.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class tK{constructor(e={},t={}){void 0===e?e=null:I(e,"First parameter");let r=eV(t,"Second parameter"),n=function(e,t){B(e,t);let r=null==e?void 0:e.autoAllocateChunkSize,n=null==e?void 0:e.cancel,i=null==e?void 0:e.pull,a=null==e?void 0:e.start,o=null==e?void 0:e.type;return{autoAllocateChunkSize:void 0===r?void 0:M(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===n?void 0:(N(n,`${t} has member 'cancel' that`),t=>m(n,e,[t])),pull:void 0===i?void 0:(N(i,`${t} has member 'pull' that`),t=>m(i,e,[t])),start:void 0===a?void 0:(N(a,`${t} has member 'start' that`),t=>y(a,e,[t])),type:void 0===o?void 0:function(e,t){if("bytes"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}(o,`${t} has member 'type' that`)}}(e,"First parameter");if(tD(this),"bytes"===n.type){if(void 0!==r.size)throw RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){let n=Object.create(eu.prototype),i=()=>void 0,a=()=>s(void 0),o=()=>s(void 0);void 0!==t.start&&(i=()=>t.start(n)),void 0!==t.pull&&(a=()=>t.pull(n)),void 0!==t.cancel&&(o=e=>t.cancel(e));let l=t.autoAllocateChunkSize;if(0===l)throw TypeError("autoAllocateChunkSize must be greater than 0");eB(e,n,i,a,o,r,l)}(this,n,e$(r,0))}else{let e=eq(r);!function(e,t,r,n){let i=Object.create(tk.prototype),a=()=>void 0,o=()=>s(void 0),l=()=>s(void 0);void 0!==t.start&&(a=()=>t.start(i)),void 0!==t.pull&&(o=()=>t.pull(i)),void 0!==t.cancel&&(l=e=>t.cancel(e)),tI(e,i,a,o,l,r,n)}(this,n,e$(r,1),e)}}get locked(){if(!tH(this))throw tF("locked");return t$(this)}cancel(e){return tH(this)?t$(this)?l(TypeError("Cannot cancel a stream that already has a reader")):tq(this,e):l(tF("cancel"))}getReader(e){if(!tH(this))throw tF("getReader");return void 0===function(e,t){B(e,t);let r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:function(e,t){if("byob"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?D(this):new eM(this)}pipeThrough(e,t={}){if(!tH(this))throw tF("pipeThrough");U(e,1,"pipeThrough");let r=function(e,t){B(e,t);let r=null==e?void 0:e.readable;L(r,"readable","ReadableWritablePair"),j(r,`${t} has member 'readable' that`);let n=null==e?void 0:e.writable;return L(n,"writable","ReadableWritablePair"),ez(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=tL(t,"Second parameter");if(t$(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(eX(r.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return p(tA(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){let r;if(!tH(this))return l(tF("pipeTo"));if(void 0===e)return l("Parameter 1 is required in 'pipeTo'.");if(!eG(e))return l(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{r=tL(t,"Second parameter")}catch(e){return l(e)}return t$(this)?l(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):eX(e)?l(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):tA(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!tH(this))throw tF("tee");let e=ec(this._readableStreamController)?function(e){let t,r,n,i,a,o=D(e),l=!1,c=!1,d=!1,h=!1,p=!1,y=u(e=>{a=e});function m(e){f(e._closedPromise,t=>{e===o&&(eP(n._readableStreamController,t),eP(i._readableStreamController,t),h&&p||a(void 0))})}function b(){ej(o)&&(S(o),m(o=D(e))),W(o,{_chunkSteps:t=>{g(()=>{c=!1,d=!1;let r=t;if(!h&&!p)try{r=ei(t)}catch(t){eP(n._readableStreamController,t),eP(i._readableStreamController,t),a(tq(e,t));return}h||ex(n._readableStreamController,t),p||ex(i._readableStreamController,r),l=!1,c?w():d&&_()})},_closeSteps:()=>{l=!1,h||eE(n._readableStreamController),p||eE(i._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&eO(n._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&eO(i._readableStreamController,0),h&&p||a(void 0)},_errorSteps:()=>{l=!1}})}function v(t,r){F(o)&&(S(o),m(o=new eM(e)));let s=r?i:n,u=r?n:i;eD(o,t,{_chunkSteps:t=>{g(()=>{c=!1,d=!1;let n=r?p:h;if(r?h:p)n||eR(s._readableStreamController,t);else{let r;try{r=ei(t)}catch(t){eP(s._readableStreamController,t),eP(u._readableStreamController,t),a(tq(e,t));return}n||eR(s._readableStreamController,t),ex(u._readableStreamController,r)}l=!1,c?w():d&&_()})},_closeSteps:e=>{l=!1;let t=r?p:h,n=r?h:p;t||eE(s._readableStreamController),n||eE(u._readableStreamController),void 0!==e&&(t||eR(s._readableStreamController,e),!n&&u._readableStreamController._pendingPullIntos.length>0&&eO(u._readableStreamController,0)),t&&n||a(void 0)},_errorSteps:()=>{l=!1}})}function w(){if(l)return c=!0,s(void 0);l=!0;let e=eC(n._readableStreamController);return null===e?b():v(e._view,!1),s(void 0)}function _(){if(l)return d=!0,s(void 0);l=!0;let e=eC(i._readableStreamController);return null===e?b():v(e._view,!0),s(void 0)}function A(){}return n=tj(A,w,function(n){if(h=!0,t=n,p){let n=tq(e,et([t,r]));a(n)}return y}),i=tj(A,_,function(n){if(p=!0,r=n,h){let n=tq(e,et([t,r]));a(n)}return y}),m(o),[n,i]}(this):function(e,t){let r,n,i,a,o;let l=D(e),c=!1,d=!1,h=!1,p=!1,y=u(e=>{o=e});function m(){return c?d=!0:(c=!0,W(l,{_chunkSteps:e=>{g(()=>{d=!1,h||tO(i._readableStreamController,e),p||tO(a._readableStreamController,e),c=!1,d&&m()})},_closeSteps:()=>{c=!1,h||tT(i._readableStreamController),p||tT(a._readableStreamController),h&&p||o(void 0)},_errorSteps:()=>{c=!1}})),s(void 0)}function b(){}return i=tM(b,m,function(t){if(h=!0,r=t,p){let t=tq(e,et([r,n]));o(t)}return y}),a=tM(b,m,function(t){if(p=!0,n=t,h){let t=tq(e,et([r,n]));o(t)}return y}),f(l._closedPromise,e=>{tR(i._readableStreamController,e),tR(a._readableStreamController,e),h&&p||o(void 0)}),[i,a]}(this);return et(e)}values(e){if(!tH(this))throw tF("values");return function(e,t){let r=new X(D(e),t),n=Object.create(Y);return n._asyncIteratorImpl=r,n}(this,(B(e,"First parameter"),{preventCancel:!!(null==e?void 0:e.preventCancel)}).preventCancel)}}function tM(e,t,r,n=1,i=()=>1){let a=Object.create(tK.prototype);return tD(a),tI(a,Object.create(tk.prototype),e,t,r,n,i),a}function tj(e,t,r){let n=Object.create(tK.prototype);return tD(n),eB(n,Object.create(eu.prototype),e,t,r,0,void 0),n}function tD(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function tH(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_readableStreamController"))&&e instanceof tK}function t$(e){return void 0!==e._reader}function tq(e,t){if(e._disturbed=!0,"closed"===e._state)return s(void 0);if("errored"===e._state)return l(e._storedError);tV(e);let n=e._reader;return void 0!==n&&ej(n)&&(n._readIntoRequests.forEach(e=>{e._closeSteps(void 0)}),n._readIntoRequests=new b),c(e._readableStreamController[C](t),r,void 0)}function tV(e){e._state="closed";let t=e._reader;void 0!==t&&(E(t),F(t)&&(t._readRequests.forEach(e=>{e._closeSteps()}),t._readRequests=new b))}function tz(e,t){e._state="errored",e._storedError=t;let r=e._reader;void 0!==r&&(k(r,t),F(r)?(r._readRequests.forEach(e=>{e._errorSteps(t)}),r._readRequests=new b):(r._readIntoRequests.forEach(e=>{e._errorSteps(t)}),r._readIntoRequests=new b))}function tF(e){return TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function tW(e,t){B(e,t);let r=null==e?void 0:e.highWaterMark;return L(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:K(r)}}Object.defineProperties(tK.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tK.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(tK.prototype,t.asyncIterator,{value:tK.prototype.values,writable:!0,configurable:!0});let tJ=e=>e.byteLength;try{Object.defineProperty(tJ,"name",{value:"size",configurable:!0})}catch(e){}class tG{constructor(e){U(e,1,"ByteLengthQueuingStrategy"),e=tW(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!tY(this))throw tX("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!tY(this))throw tX("size");return tJ}}function tX(e){return TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function tY(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark"))&&e instanceof tG}Object.defineProperties(tG.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tG.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});let tZ=()=>1;try{Object.defineProperty(tZ,"name",{value:"size",configurable:!0})}catch(e){}class tQ{constructor(e){U(e,1,"CountQueuingStrategy"),e=tW(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!t1(this))throw t0("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!t1(this))throw t0("size");return tZ}}function t0(e){return TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function t1(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark"))&&e instanceof tQ}Object.defineProperties(tQ.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tQ.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class t2{constructor(e={},t={},r={}){let n;void 0===e&&(e=null);let i=eV(t,"Second parameter"),a=eV(r,"Third parameter"),o=function(e,t){B(e,t);let r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,i=null==e?void 0:e.start,a=null==e?void 0:e.transform,o=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:(N(r,`${t} has member 'flush' that`),t=>m(r,e,[t])),readableType:n,start:void 0===i?void 0:(N(i,`${t} has member 'start' that`),t=>y(i,e,[t])),transform:void 0===a?void 0:(N(a,`${t} has member 'transform' that`),(t,r)=>m(a,e,[t,r])),writableType:o}}(e,"First parameter");if(void 0!==o.readableType)throw RangeError("Invalid readableType specified");if(void 0!==o.writableType)throw RangeError("Invalid writableType specified");let d=e$(a,0),h=eq(a),f=e$(i,1),p=eq(i);(function(e,t,r,n,i,a){function o(){return t}e._writable=function(e,t,r,n,i=1,a=()=>1){let o=Object.create(eW.prototype);return eJ(o),ti(o,Object.create(tr.prototype),e,t,r,n,i,a),o}(o,function(t){return function(e,t){let r=e._transformStreamController;return e._backpressure?c(e._backpressureChangePromise,()=>{let n=e._writable;if("erroring"===n._state)throw n._storedError;return rt(r,t)},void 0):rt(r,t)}(e,t)},function(){return function(e){let t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return t7(r),c(n,()=>{if("errored"===t._state)throw t._storedError;tT(t._readableStreamController)},r=>{throw t3(e,r),t._storedError})}(e)},function(t){return t3(e,t),s(void 0)},r,n),e._readable=tM(o,function(){return t6(e,!1),e._backpressureChangePromise},function(t){return t4(e,t),s(void 0)},i,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,t6(e,!0),e._transformStreamController=void 0})(this,u(e=>{n=e}),f,p,d,h),function(e,t){var r,n;let i=Object.create(t5.prototype),a=e=>{try{var t;return re(i,e),t=void 0,s(t)}catch(e){return l(e)}},o=()=>s(void 0);void 0!==t.transform&&(a=e=>t.transform(e,i)),void 0!==t.flush&&(o=()=>t.flush(i)),r=a,n=o,i._controlledTransformStream=e,e._transformStreamController=i,i._transformAlgorithm=r,i._flushAlgorithm=n}(this,o),void 0!==o.start?n(o.start(this._transformStreamController)):n(void 0)}get readable(){if(!t8(this))throw rn("readable");return this._readable}get writable(){if(!t8(this))throw rn("writable");return this._writable}}function t8(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_transformStreamController"))&&e instanceof t2}function t3(e,t){tR(e._readable._readableStreamController,t),t4(e,t)}function t4(e,t){t7(e._transformStreamController),tl(e._writable._writableStreamController,t),e._backpressure&&t6(e,!1)}function t6(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=u(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(t2.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(t2.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class t5{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!t9(this))throw rr("desiredSize");return tB(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!t9(this))throw rr("enqueue");re(this,e)}error(e){if(!t9(this))throw rr("error");t3(this._controlledTransformStream,e)}terminate(){if(!t9(this))throw rr("terminate");(function(e){let t=e._controlledTransformStream;tT(t._readable._readableStreamController),t4(t,TypeError("TransformStream terminated"))})(this)}}function t9(e){return!!(i(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream"))&&e instanceof t5}function t7(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function re(e,t){let r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!tN(n))throw TypeError("Readable side is not in a state that permits enqueue");try{tO(n,t)}catch(e){throw t4(r,e),r._readable._storedError}!tP(n)!==r._backpressure&&t6(r,!0)}function rt(e,t){return c(e._transformAlgorithm(t),void 0,t=>{throw t3(e._controlledTransformStream,t),t})}function rr(e){return TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function rn(e){return TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(t5.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(t5.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=tG,e.CountQueuingStrategy=tQ,e.ReadableByteStreamController=eu,e.ReadableStream=tK,e.ReadableStreamBYOBReader=eM,e.ReadableStreamBYOBRequest=el,e.ReadableStreamDefaultController=tk,e.ReadableStreamDefaultReader=z,e.TransformStream=t2,e.TransformStreamDefaultController=t5,e.WritableStream=eW,e.WritableStreamDefaultController=tr,e.WritableStreamDefaultWriter=e4,Object.defineProperty(e,"__esModule",{value:!0})}(f.exports)),f.exports))}try{let{Blob:e}=r(78893);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0,r=this;return new ReadableStream({type:"bytes",async pull(e){let n=r.slice(t,Math.min(r.size,t+65536)),i=await n.arrayBuffer();t+=i.byteLength,e.enqueue(new Uint8Array(i)),t===r.size&&e.close()}})})}catch(e){}async function*p(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r)){if(t){let e=r.byteOffset,t=r.byteOffset+r.byteLength;for(;e!==t;){let n=Math.min(t-e,65536),i=r.buffer.slice(e,e+n);e+=i.byteLength,yield new Uint8Array(i)}}else yield r}else{let e=0;for(;e!==r.size;){let t=r.slice(e,Math.min(r.size,e+65536)),n=await t.arrayBuffer();e+=n.byteLength,yield new Uint8Array(n)}}}let g=class e{#r=[];#n="";#i=0;#a="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});let n=new TextEncoder;for(let r of t){let t;let i=ArrayBuffer.isView(t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:n.encode(`${r}`))?t.byteLength:t.size;i&&(this.#i+=i,this.#r.push(t))}this.#a=`${void 0===r.endings?"transparent":r.endings}`;let i=void 0===r.type?"":String(r.type);this.#n=/^[\x20-\x7E]*$/.test(i)?i:""}get size(){return this.#i}get type(){return this.#n}async text(){let e=new TextDecoder,t="";for await(let r of p(this.#r,!1))t+=e.decode(r,{stream:!0});return t+e.decode()}async arrayBuffer(){let e=new Uint8Array(this.size),t=0;for await(let r of p(this.#r,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){let e=p(this.#r,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){let r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,n=""){let{size:i}=this,a=t<0?Math.max(i+t,0):Math.min(t,i),o=r<0?Math.max(i+r,0):Math.min(r,i),s=Math.max(o-a,0),l=this.#r,u=[],c=0;for(let e of l){if(c>=s)break;let t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(a&&t<=a)a-=t,o-=t;else{let r;ArrayBuffer.isView(e)?c+=(r=e.subarray(a,Math.min(t,o))).byteLength:c+=(r=e.slice(a,Math.min(t,o))).size,o-=t,u.push(r),a=0}}let d=new e([],{type:String(n).toLowerCase()});return d.#i=s,d.#r=u,d}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(g.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});let y=g,m=class extends y{#o=0;#s="";constructor(e,t,r={}){if(arguments.length<2)throw TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});let n=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(n)||(this.#o=n),this.#s=String(t)}get name(){return this.#s}get lastModified(){return this.#o}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof y&&/^(File)$/.test(e[Symbol.toStringTag])}};var{toStringTag:b,iterator:v,hasInstance:w}=Symbol,S=Math.random,_="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),A=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[b])?[(r=void 0!==r?r+"":"File"==t[b]?t.name:"blob",e),t.name!==r||"blob"==t[b]?new m([t],r,t):t]:[e,t+""]),k=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),E=(e,t,r)=>{if(t.length<r)throw TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};let x=class{#l=[];constructor(...e){if(e.length)throw TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[b](){return"FormData"}[v](){return this.entries()}static[w](e){return e&&"object"==typeof e&&"FormData"===e[b]&&!_.some(t=>"function"!=typeof e[t])}append(...e){E("append",arguments,2),this.#l.push(A(...e))}delete(e){E("delete",arguments,1),e+="",this.#l=this.#l.filter(([t])=>t!==e)}get(e){E("get",arguments,1),e+="";for(var t=this.#l,r=t.length,n=0;n<r;n++)if(t[n][0]===e)return t[n][1];return null}getAll(e,t){return E("getAll",arguments,1),t=[],e+="",this.#l.forEach(r=>r[0]===e&&t.push(r[1])),t}has(e){return E("has",arguments,1),e+="",this.#l.some(t=>t[0]===e)}forEach(e,t){for(var[r,n]of(E("forEach",arguments,1),this))e.call(t,n,r,this)}set(...e){E("set",arguments,2);var t=[],r=!0;e=A(...e),this.#l.forEach(n=>{n[0]===e[0]?r&&(r=!t.push(e)):t.push(n)}),r&&t.push(e),this.#l=t}*entries(){yield*this.#l}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};class P extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class C extends P{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}let T=Symbol.toStringTag,O=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[T],R=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[T]),B=e=>"object"==typeof e&&("AbortSignal"===e[T]||"EventTarget"===e[T]),N=(e,t)=>{let r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)},I=(e,t)=>new URL(t).protocol===new URL(e).protocol,U=l.promisify(o.pipeline),L=Symbol("Body internals");class K{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:O(e)?e=s.Buffer.from(e.toString()):R(e)||s.Buffer.isBuffer(e)||(l.types.isAnyArrayBuffer(e)?e=s.Buffer.from(e):ArrayBuffer.isView(e)?e=s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof o||(e instanceof x?r=(e=function(e,t=y){var r=`${S()}${S()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],i=`--${r}\r
Content-Disposition: form-data; name="`;return e.forEach((e,t)=>"string"==typeof e?n.push(i+k(t)+`"\r
\r
${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r
`):n.push(i+k(t)+`"; filename="${k(e.name,1)}"\r
Content-Type: ${e.type||"application/octet-stream"}\r
\r
`,e,"\r\n")),n.push(`--${r}--`),new t(n,{type:"multipart/form-data; boundary="+r})}(e)).type.split("=")[1]:e=s.Buffer.from(String(e))));let n=e;s.Buffer.isBuffer(e)?n=o.Readable.from(e):R(e)&&(n=o.Readable.from(e.stream())),this[L]={body:e,stream:n,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof o&&e.on("error",e=>{let t=e instanceof P?e:new C(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[L].error=t})}get body(){return this[L].stream}get bodyUsed(){return this[L].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:r}=await M(this);return e.slice(t,t+r)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let e=new x;for(let[t,r]of new URLSearchParams(await this.text()))e.append(t,r);return e}let{toFormData:t}=await r.e(176).then(r.t.bind(r,54176,19));return t(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[L].body&&this[L].body.type||"";return new y([await this.arrayBuffer()],{type:e})}async json(){return JSON.parse(await this.text())}async text(){let e=await M(this);return new TextDecoder().decode(e)}buffer(){return M(this)}}async function M(e){if(e[L].disturbed)throw TypeError(`body used already for: ${e.url}`);if(e[L].disturbed=!0,e[L].error)throw e[L].error;let{body:t}=e;if(null===t||!(t instanceof o))return s.Buffer.alloc(0);let r=[],n=0;try{for await(let i of t){if(e.size>0&&n+i.length>e.size){let r=new C(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}n+=i.length,r.push(i)}}catch(t){throw t instanceof P?t:new C(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0===t.readableEnded||!0===t._readableState.ended)try{if(r.every(e=>"string"==typeof e))return s.Buffer.from(r.join(""));return s.Buffer.concat(r,n)}catch(t){throw new C(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}else throw new C(`Premature close of server response while trying to fetch ${e.url}`)}K.prototype.buffer=l.deprecate(K.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(K.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:l.deprecate(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});let j=(e,t)=>{let r,n;let{body:i}=e[L];if(e.bodyUsed)throw Error("cannot clone body after it is used");return i instanceof o&&"function"!=typeof i.getBoundary&&(r=new o.PassThrough({highWaterMark:t}),n=new o.PassThrough({highWaterMark:t}),i.pipe(r),i.pipe(n),e[L].stream=r,i=n),i},D=l.deprecate(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),H=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":O(e)?"application/x-www-form-urlencoded;charset=UTF-8":R(e)?e.type||null:s.Buffer.isBuffer(e)||l.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof x?`multipart/form-data; boundary=${t[L].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${D(e)}`:e instanceof o?null:"text/plain;charset=UTF-8",$=e=>{let{body:t}=e[L];return null===t?0:R(t)?t.size:s.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},q=async(e,{body:t})=>{null===t?e.end():await U(t,e)},V="function"==typeof n.validateHeaderName?n.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},z="function"==typeof n.validateHeaderValue?n.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let t=TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class F extends URLSearchParams{constructor(e){let t=[];if(e instanceof F)for(let[r,n]of Object.entries(e.raw()))t.push(...n.map(e=>[r,e]));else if(null==e);else if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");else{let r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw TypeError("Header pairs must be iterable");t=[...e].map(e=>{if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw TypeError("Each header pair must be an iterable object");return[...e]}).map(e=>{if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");return[...e]})}}return super(t=t.length>0?t.map(([e,t])=>(V(e),z(e,String(t)),[String(e).toLowerCase(),String(t)])):void 0),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,n)=>(V(r),z(r,String(n)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return r=>(V(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t){for(let r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{let r=this.getAll(t);return"host"===t?e[t]=r[0]:e[t]=r.length>1?r:r[0],e},{})}}Object.defineProperties(F.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));let W=new Set([301,302,303,307,308]),J=e=>W.has(e),G=Symbol("Response internals");class X extends K{constructor(e=null,t={}){super(e,t);let r=null!=t.status?t.status:200,n=new F(t.headers);if(null!==e&&!n.has("Content-Type")){let t=H(e,this);t&&n.append("Content-Type",t)}this[G]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[G].type}get url(){return this[G].url||""}get status(){return this[G].status}get ok(){return this[G].status>=200&&this[G].status<300}get redirected(){return this[G].counter>0}get statusText(){return this[G].statusText}get headers(){return this[G].headers}get highWaterMark(){return this[G].highWaterMark}clone(){return new X(j(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!J(t))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');return new X(null,{headers:{location:new URL(e).toString()},status:t})}static error(){let e=new X(null,{status:0,statusText:""});return e[G].type="error",e}static json(e,t={}){let r=JSON.stringify(e);if(void 0===r)throw TypeError("data is not JSON serializable");let n=new F(t&&t.headers);return n.has("content-type")||n.set("content-type","application/json"),new X(r,{...t,headers:n})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(X.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});let Y=e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""};function Z(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}let Q=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function ee(e){return!!(/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||/^(blob|filesystem):$/.test(e.protocol))||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),r=c.isIP(t);return!!(4===r&&/^127\./.test(t)||6===r&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||!("localhost"===e.host||e.host.endsWith(".localhost"))&&"file:"===e.protocol}(e)}let et=Symbol("Request internals"),er=e=>"object"==typeof e&&"object"==typeof e[et],en=l.deprecate(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class ei extends K{constructor(e,t={}){let r;if(er(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw TypeError(`${r} is an url with embedded credentials.`);let n=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(n)&&(n=n.toUpperCase()),!er(t)&&"data"in t&&en(),(null!=t.body||er(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw TypeError("Request with GET/HEAD method cannot have body");let i=t.body?t.body:er(e)&&null!==e.body?j(e):null;super(i,{size:t.size||e.size||0});let a=new F(t.headers||e.headers||{});if(null!==i&&!a.has("Content-Type")){let e=H(i,this);e&&a.set("Content-Type",e)}let o=er(e)?e.signal:null;if("signal"in t&&(o=t.signal),null!=o&&!B(o))throw TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let s=null==t.referrer?e.referrer:t.referrer;if(""===s)s="no-referrer";else if(s){let e=new URL(s);s=/^about:(\/\/)?client$/.test(e)?"client":e}else s=void 0;this[et]={method:n,redirect:t.redirect||e.redirect||"follow",headers:a,parsedURL:r,signal:o,referrer:s},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[et].method}get url(){return u.format(this[et].parsedURL)}get headers(){return this[et].headers}get redirect(){return this[et].redirect}get signal(){return this[et].signal}get referrer(){return"no-referrer"===this[et].referrer?"":"client"===this[et].referrer?"about:client":this[et].referrer?this[et].referrer.toString():void 0}get referrerPolicy(){return this[et].referrerPolicy}set referrerPolicy(e){this[et].referrerPolicy=function(e){if(!Q.has(e))throw TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new ei(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(ei.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});let ea=e=>{let{parsedURL:t}=e[et],r=new F(e[et].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){let t=$(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&r.set("Content-Length",n),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[et].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;let n=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";let i=e.referrer,a=Z(i),o=Z(i,!0);a.toString().length>4096&&(a=o),t&&(a=t(a)),r&&(o=r(o));let s=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return o;case"unsafe-url":return a;case"strict-origin":if(ee(a)&&!ee(s))return"no-referrer";return o.toString();case"strict-origin-when-cross-origin":if(a.origin===s.origin)return a;if(ee(a)&&!ee(s))return"no-referrer";return o;case"same-origin":if(a.origin===s.origin)return a;return"no-referrer";case"origin-when-cross-origin":if(a.origin===s.origin)return a;return o;case"no-referrer-when-downgrade":if(ee(a)&&!ee(s))return"no-referrer";return a;default:throw TypeError(`Invalid referrerPolicy: ${n}`)}}(e):e[et].referrer="no-referrer",e[et].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:i}=e;"function"==typeof i&&(i=i(t)),r.has("Connection")||i||r.set("Connection","close");let a=Y(t),o={path:t.pathname+a,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:i};return{parsedURL:t,options:o}};class eo extends P{constructor(e,t="aborted"){super(e,t)}}if(!globalThis.DOMException)try{let{MessageChannel:e}=r(6162),t=new e().port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}var es=globalThis.DOMException;let el=new Set(["data:","http:","https:"]);async function eu(e,t){return new Promise((r,l)=>{let u=new ei(e,t),{parsedURL:c,options:d}=ea(u);if(!el.has(c.protocol))throw TypeError(`node-fetch cannot load ${e}. URL scheme "${c.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===c.protocol){let e=function(e){if(!/^data:/i.test(e))throw TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');let t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),n="",i=!1,a=r[0]||"text/plain",o=a;for(let e=1;e<r.length;e++)"base64"===r[e]?i=!0:(o+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(n=r[e].substring(8)));r[0]||n.length||(o+=";charset=US-ASCII",n="US-ASCII");let s=i?"base64":"ascii",l=unescape(e.substring(t+1)),u=Buffer.from(l,s);return u.type=a,u.typeFull=o,u.charset=n,u}(u.url);r(new X(e,{headers:{"Content-Type":e.typeFull}}));return}let h=("https:"===c.protocol?i:n).request,{signal:f}=u,p=null,g=()=>{let e=new eo("The operation was aborted.");l(e),u.body&&u.body instanceof o.Readable&&u.body.destroy(e),p&&p.body&&p.body.emit("error",e)};if(f&&f.aborted){g();return}let y=()=>{g(),b()},m=h(c.toString(),d);f&&f.addEventListener("abort",y);let b=()=>{m.abort(),f&&f.removeEventListener("abort",y)};m.on("error",e=>{l(new C(`request to ${u.url} failed, reason: ${e.message}`,"system",e)),b()}),function(e,t){let r;let n=s.Buffer.from("0\r\n\r\n"),i=!1,a=!1;e.on("response",e=>{let{headers:t}=e;i="chunked"===t["transfer-encoding"]&&!t["content-length"]}),e.on("socket",o=>{let l=()=>{if(i&&!a){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",t(e)}},u=e=>{(a=0===s.Buffer.compare(e.slice(-5),n))||!r||(a=0===s.Buffer.compare(r.slice(-3),n.slice(0,3))&&0===s.Buffer.compare(e.slice(-2),n.slice(3))),r=e};o.prependListener("close",l),o.on("data",u),e.on("close",()=>{o.removeListener("close",l),o.removeListener("data",u)})})}(m,e=>{p&&p.body&&p.body.destroy(e)}),process.version<"v14"&&m.on("socket",e=>{let t;e.prependListener("end",()=>{t=e._eventsCount}),e.prependListener("close",r=>{if(p&&t<e._eventsCount&&!r){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",p.body.emit("error",e)}})}),m.on("response",e=>{m.setTimeout(0);let n=function(e=[]){return new F(e.reduce((e,t,r,n)=>(r%2==0&&e.push(n.slice(r,r+2)),e),[]).filter(([e,t])=>{try{return V(e),z(e,String(t)),!0}catch{return!1}}))}(e.rawHeaders);if(J(e.statusCode)){let i=n.get("Location"),a=null;try{a=null===i?null:new URL(i,u.url)}catch{if("manual"!==u.redirect){l(new C(`uri requested responds with an invalid redirect URL: ${i}`,"invalid-redirect")),b();return}}switch(u.redirect){case"error":l(new C(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),b();return;case"manual":break;case"follow":{if(null===a)break;if(u.counter>=u.follow){l(new C(`maximum redirect reached at: ${u.url}`,"max-redirect")),b();return}let i={headers:new F(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:j(u),signal:u.signal,size:u.size,referrer:u.referrer,referrerPolicy:u.referrerPolicy};if(!N(u.url,a)||!I(u.url,a))for(let e of["authorization","www-authenticate","cookie","cookie2"])i.headers.delete(e);if(303!==e.statusCode&&u.body&&t.body instanceof o.Readable){l(new C("Cannot follow redirect with body being a readable stream","unsupported-redirect")),b();return}(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===u.method)&&(i.method="GET",i.body=void 0,i.headers.delete("content-length"));let s=function(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let e of t)e&&Q.has(e)&&(r=e);return r}(n);s&&(i.referrerPolicy=s),r(eu(new ei(a,i))),b();return}default:return l(TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}f&&e.once("end",()=>{f.removeEventListener("abort",y)});let i=o.pipeline(e,new o.PassThrough,e=>{e&&l(e)});process.version<"v12.10"&&e.on("aborted",y);let s={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:n,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark},c=n.get("Content-Encoding");if(!u.compress||"HEAD"===u.method||null===c||204===e.statusCode||304===e.statusCode){r(p=new X(i,s));return}let d={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"===c||"x-gzip"===c){r(p=new X(i=o.pipeline(i,a.createGunzip(d),e=>{e&&l(e)}),s));return}if("deflate"===c||"x-deflate"===c){let t=o.pipeline(e,new o.PassThrough,e=>{e&&l(e)});t.once("data",e=>{r(p=new X(i=(15&e[0])==8?o.pipeline(i,a.createInflate(),e=>{e&&l(e)}):o.pipeline(i,a.createInflateRaw(),e=>{e&&l(e)}),s))}),t.once("end",()=>{p||r(p=new X(i,s))});return}if("br"===c){r(p=new X(i=o.pipeline(i,a.createBrotliDecompress(),e=>{e&&l(e)}),s));return}r(p=new X(i,s))}),q(m,u).catch(l)})}let ec=new WeakMap,ed=new WeakMap;function eh(e){let t=ec.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function ef(e){if(null!=e.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault())}function ep(e,t){ec.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(t);for(let e=0;e<r.length;++e){let t=r[e];t in this||Object.defineProperty(this,t,eg(t))}}function eg(e){return{get(){return eh(this).event[e]},set(t){eh(this).event[e]=t},configurable:!0,enumerable:!0}}function ey(e,t){eh(e).passiveListener=t}ep.prototype={get type(){return eh(this).event.type},get target(){return eh(this).eventTarget},get currentTarget(){return eh(this).currentTarget},composedPath(){let e=eh(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return eh(this).eventPhase},stopPropagation(){let e=eh(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){let e=eh(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!eh(this).event.bubbles},get cancelable(){return!!eh(this).event.cancelable},preventDefault(){ef(eh(this))},get defaultPrevented(){return eh(this).canceled},get composed(){return!!eh(this).event.composed},get timeStamp(){return eh(this).timeStamp},get srcElement(){return eh(this).eventTarget},get cancelBubble(){return eh(this).stopped},set cancelBubble(value){if(!value)return;let e=eh(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!eh(this).canceled},set returnValue(value){value||ef(eh(this))},initEvent(){}},Object.defineProperty(ep.prototype,"constructor",{value:ep,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(ep.prototype,window.Event.prototype),ed.set(window.Event.prototype,ep));let em=new WeakMap;function eb(e){return null!==e&&"object"==typeof e}function ev(e){let t=em.get(e);if(null==t)throw TypeError("'this' is expected an EventTarget object, but got another value.");return t}function ew(e,t){Object.defineProperty(e,`on${t}`,{get(){let e=ev(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||eb(e)||(e=null);let r=ev(this),n=null,i=r.get(t);for(;null!=i;)3===i.listenerType?null!==n?n.next=i.next:null!==i.next?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(null!==e){let i={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===n?r.set(t,i):n.next=i}},configurable:!0,enumerable:!0})}function eS(e){function t(){e_.call(this)}t.prototype=Object.create(e_.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)ew(t.prototype,e[r]);return t}function e_(){if(this instanceof e_){em.set(this,new Map);return}if(1==arguments.length&&Array.isArray(arguments[0]))return eS(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return eS(e)}throw TypeError("Cannot call a class as a function")}e_.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!eb(t))throw TypeError("'listener' should be a function or an object.");let n=ev(this),i=eb(r),a=(i?r.capture:r)?1:2,o={listener:t,listenerType:a,passive:i&&!!r.passive,once:i&&!!r.once,next:null},s=n.get(e);if(void 0===s){n.set(e,o);return}let l=null;for(;null!=s;){if(s.listener===t&&s.listenerType===a)return;l=s,s=s.next}l.next=o},removeEventListener(e,t,r){if(null==t)return;let n=ev(this),i=(eb(r)?r.capture:r)?1:2,a=null,o=n.get(e);for(;null!=o;){if(o.listener===t&&o.listenerType===i){null!==a?a.next=o.next:null!==o.next?n.set(e,o.next):n.delete(e);return}a=o,o=o.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw TypeError('"event.type" should be a string.');let t=ev(this),r=e.type,n=t.get(r);if(null==n)return!0;let i=new(function e(t){if(null==t||t===Object.prototype)return ep;let r=ed.get(t);return null==r&&(r=function(e,t){let r=Object.keys(t);if(0===r.length)return e;function n(t,r){e.call(this,t,r)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let a=r[i];if(!(a in e.prototype)){let e="function"==typeof Object.getOwnPropertyDescriptor(t,a).value;Object.defineProperty(n.prototype,a,e?function(e){return{value(){let t=eh(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}(a):eg(a))}}return n}(e(Object.getPrototypeOf(t)),t),ed.set(t,r)),r}(Object.getPrototypeOf(e)))(this,e),a=null;for(;null!=n;){if(n.once?null!==a?a.next=n.next:null!==n.next?t.set(r,n.next):t.delete(r):a=n,ey(i,n.passive?n.listener:null),"function"==typeof n.listener)try{n.listener.call(this,i)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==n.listenerType&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(i);if(eh(i).immediateStopped)break;n=n.next}return ey(i,null),eh(i).eventPhase=0,eh(i).currentTarget=null,!i.defaultPrevented}},Object.defineProperty(e_.prototype,"constructor",{value:e_,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(e_.prototype,window.EventTarget.prototype);class AbortSignal extends e_{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=eA.get(this);if("boolean"!=typeof e)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}ew(AbortSignal.prototype,"abort");let eA=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class ek{constructor(){eE.set(this,function(){let e=Object.create(AbortSignal.prototype);return e_.call(e),eA.set(e,!1),e}())}get signal(){return ex(this)}abort(){var e;e=ex(this),!1===eA.get(e)&&(eA.set(e,!0),e.dispatchEvent({type:"abort"}))}}let eE=new WeakMap;function ex(e){let t=eE.get(e);if(null==t)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===e?"null":typeof e}`);return t}Object.defineProperties(ek.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ek.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=ek,t.AbortError=eo,t.FetchError=C,t.File=m,t.FormData=x,t.Headers=F,t.Request=ei,t.Response=X,t._Blob=y,t.fetch=eu,t.isRedirect=J,t.nodeDomexception=es},31549:(e,t,r)=>{let n=r(96862);function i(e,t){return n.fetch(e,t)}for(let e in n)i[e]=n[e];e.exports=i}};